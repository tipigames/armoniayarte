// Generated by Construct, the game and animation creation tool
// Visit: https://www.construct.net

var t,s,i,e,n,r,h,o,a,u,l,c,f,d,p,m,g,y,w,M,S,T,b,v,x,I,G,C,_,A,E,D,N,L,O,R,P,k,F,j,z,B,U,W,V,Y,Q,J,H,q,X,Z,K,$,tt,st,it,et,nt,rt,ht,ot,at,ut,lt,ct,ft,dt,pt,mt,gt,yt,wt,Mt,St,Tt,bt,vt,xt,It,Gt=(t=>"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(t,{get:(t,s)=>("undefined"!=typeof require?require:t)[s]}):t)((function(t){if("undefined"!=typeof require)return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}));{let _t=function(t){i=t},At=function(t){return t*r},Et=function(t,i){return Math.abs(t-i)<=s*Math.max(1,Math.abs(t),Math.abs(i))},Dt=function(){var t=new i(4);return i!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},Nt=function(t){var s=new i(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},Lt=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},Ot=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},Rt=function(t,s,e,n){var r=new i(4);return r[0]=t,r[1]=s,r[2]=e,r[3]=n,r},Pt=function(t,s,i,e,n){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t},kt=function(t,s){if(t===s){var i=s[1];t[1]=s[2],t[2]=i}else t[0]=s[0],t[1]=s[2],t[2]=s[1],t[3]=s[3];return t},Ft=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=i*r-n*e;return h?(h=1/h,t[0]=r*h,t[1]=-e*h,t[2]=-n*h,t[3]=i*h,t):null},jt=function(t,s){var i=s[0];return t[0]=s[3],t[1]=-s[1],t[2]=-s[2],t[3]=i,t},zt=function(t){return t[0]*t[3]-t[2]*t[1]},Bt=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=i[0],a=i[1],u=i[2],l=i[3];return t[0]=e*o+r*a,t[1]=n*o+h*a,t[2]=e*u+r*l,t[3]=n*u+h*l,t},Ut=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=Math.sin(i),a=Math.cos(i);return t[0]=e*a+r*o,t[1]=n*a+h*o,t[2]=e*-o+r*a,t[3]=n*-o+h*a,t},Wt=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=i[0],a=i[1];return t[0]=e*o,t[1]=n*o,t[2]=r*a,t[3]=h*a,t},Vt=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=i,t[2]=-i,t[3]=e,t},Yt=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t},Qt=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},Jt=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},Ht=function(t,s,i,e){return t[2]=e[2]/e[0],i[0]=e[0],i[1]=e[1],i[3]=e[3]-t[2]*i[1],[t,s,i]},qt=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t},Xt=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t},Zt=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},Kt=function(t,i){var e=t[0],n=t[1],r=t[2],h=t[3],o=i[0],a=i[1],u=i[2],l=i[3];return Math.abs(e-o)<=s*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(n-a)<=s*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-u)<=s*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(h-l)<=s*Math.max(1,Math.abs(h),Math.abs(l))},$t=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t},ts=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t},ss=function(){var t=new i(6);return i!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},is=function(t){var s=new i(6);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s},es=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t},ns=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},rs=function(t,s,e,n,r,h){var o=new i(6);return o[0]=t,o[1]=s,o[2]=e,o[3]=n,o[4]=r,o[5]=h,o},hs=function(t,s,i,e,n,r,h){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t[4]=r,t[5]=h,t},os=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=i*r-e*n;return a?(a=1/a,t[0]=r*a,t[1]=-e*a,t[2]=-n*a,t[3]=i*a,t[4]=(n*o-r*h)*a,t[5]=(e*h-i*o)*a,t):null},as=function(t){return t[0]*t[3]-t[1]*t[2]},us=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],u=i[0],l=i[1],c=i[2],f=i[3],d=i[4],p=i[5];return t[0]=e*u+r*l,t[1]=n*u+h*l,t[2]=e*c+r*f,t[3]=n*c+h*f,t[4]=e*d+r*p+o,t[5]=n*d+h*p+a,t},ls=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],u=Math.sin(i),l=Math.cos(i);return t[0]=e*l+r*u,t[1]=n*l+h*u,t[2]=e*-u+r*l,t[3]=n*-u+h*l,t[4]=o,t[5]=a,t},cs=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],u=i[0],l=i[1];return t[0]=e*u,t[1]=n*u,t[2]=r*l,t[3]=h*l,t[4]=o,t[5]=a,t},fs=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],u=i[0],l=i[1];return t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=e*u+r*l+o,t[5]=n*u+h*l+a,t},ds=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=i,t[2]=-i,t[3]=e,t[4]=0,t[5]=0,t},ps=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t[4]=0,t[5]=0,t},ms=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=s[0],t[5]=s[1],t},gs=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},ys=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)},ws=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t},Ms=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t},Ss=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t},Ts=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t},bs=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]},vs=function(t,i){var e=t[0],n=t[1],r=t[2],h=t[3],o=t[4],a=t[5],u=i[0],l=i[1],c=i[2],f=i[3],d=i[4],p=i[5];return Math.abs(e-u)<=s*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(n-l)<=s*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-c)<=s*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(h-f)<=s*Math.max(1,Math.abs(h),Math.abs(f))&&Math.abs(o-d)<=s*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-p)<=s*Math.max(1,Math.abs(a),Math.abs(p))},xs=function(){var t=new i(9);return i!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},Is=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[4],t[4]=s[5],t[5]=s[6],t[6]=s[8],t[7]=s[9],t[8]=s[10],t},Gs=function(t){var s=new i(9);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s},Cs=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},_s=function(t,s,e,n,r,h,o,a,u){var l=new i(9);return l[0]=t,l[1]=s,l[2]=e,l[3]=n,l[4]=r,l[5]=h,l[6]=o,l[7]=a,l[8]=u,l},As=function(t,s,i,e,n,r,h,o,a,u){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t[4]=r,t[5]=h,t[6]=o,t[7]=a,t[8]=u,t},Es=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Ds=function(t,s){if(t===s){var i=s[1],e=s[2],n=s[5];t[1]=s[3],t[2]=s[6],t[3]=i,t[5]=s[7],t[6]=e,t[7]=n}else t[0]=s[0],t[1]=s[3],t[2]=s[6],t[3]=s[1],t[4]=s[4],t[5]=s[7],t[6]=s[2],t[7]=s[5],t[8]=s[8];return t},Ns=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=l*h-o*u,f=-l*r+o*a,d=u*r-h*a,p=i*c+e*f+n*d;return p?(p=1/p,t[0]=c*p,t[1]=(-l*e+n*u)*p,t[2]=(o*e-n*h)*p,t[3]=f*p,t[4]=(l*i-n*a)*p,t[5]=(-o*i+n*r)*p,t[6]=d*p,t[7]=(-u*i+e*a)*p,t[8]=(h*i-e*r)*p,t):null},Ls=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],u=s[7],l=s[8];return t[0]=h*l-o*u,t[1]=n*u-e*l,t[2]=e*o-n*h,t[3]=o*a-r*l,t[4]=i*l-n*a,t[5]=n*r-i*o,t[6]=r*u-h*a,t[7]=e*a-i*u,t[8]=i*h-e*r,t},Os=function(t){var s=t[0],i=t[1],e=t[2],n=t[3],r=t[4],h=t[5],o=t[6],a=t[7],u=t[8];return s*(u*r-h*a)+i*(-u*n+h*o)+e*(a*n-r*o)},Rs=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=i[0],d=i[1],p=i[2],m=i[3],g=i[4],y=i[5],w=i[6],M=i[7],S=i[8];return t[0]=f*e+d*h+p*u,t[1]=f*n+d*o+p*l,t[2]=f*r+d*a+p*c,t[3]=m*e+g*h+y*u,t[4]=m*n+g*o+y*l,t[5]=m*r+g*a+y*c,t[6]=w*e+M*h+S*u,t[7]=w*n+M*o+S*l,t[8]=w*r+M*a+S*c,t},Ps=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=i[0],d=i[1];return t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=o,t[5]=a,t[6]=f*e+d*h+u,t[7]=f*n+d*o+l,t[8]=f*r+d*a+c,t},ks=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=Math.sin(i),d=Math.cos(i);return t[0]=d*e+f*h,t[1]=d*n+f*o,t[2]=d*r+f*a,t[3]=d*h-f*e,t[4]=d*o-f*n,t[5]=d*a-f*r,t[6]=u,t[7]=l,t[8]=c,t},Fs=function(t,s,i){var e=i[0],n=i[1];return t[0]=e*s[0],t[1]=e*s[1],t[2]=e*s[2],t[3]=n*s[3],t[4]=n*s[4],t[5]=n*s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},js=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=s[0],t[7]=s[1],t[8]=1,t},zs=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=i,t[2]=0,t[3]=-i,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Bs=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=s[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Us=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=0,t[3]=s[2],t[4]=s[3],t[5]=0,t[6]=s[4],t[7]=s[5],t[8]=1,t},Ws=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=i+i,o=e+e,a=n+n,u=i*h,l=e*h,c=e*o,f=n*h,d=n*o,p=n*a,m=r*h,g=r*o,y=r*a;return t[0]=1-c-p,t[3]=l-y,t[6]=f+g,t[1]=l+y,t[4]=1-u-p,t[7]=d-m,t[2]=f-g,t[5]=d+m,t[8]=1-u-c,t},Vs=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=s[15],w=i*o-e*h,M=i*a-n*h,S=i*u-r*h,T=e*a-n*o,b=e*u-r*o,v=n*u-r*a,x=l*m-c*p,I=l*g-f*p,G=l*y-d*p,C=c*g-f*m,_=c*y-d*m,A=f*y-d*g,E=w*A-M*_+S*C+T*G-b*I+v*x;return E?(E=1/E,t[0]=(o*A-a*_+u*C)*E,t[1]=(a*G-h*A-u*I)*E,t[2]=(h*_-o*G+u*x)*E,t[3]=(n*_-e*A-r*C)*E,t[4]=(i*A-n*G+r*I)*E,t[5]=(e*G-i*_-r*x)*E,t[6]=(m*v-g*b+y*T)*E,t[7]=(g*S-p*v-y*M)*E,t[8]=(p*b-m*S+y*w)*E,t):null},Ys=function(t,s,i){return t[0]=2/s,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},Qs=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},Js=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},Hs=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t[8]=s[8]+i[8],t},qs=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t[6]=s[6]-i[6],t[7]=s[7]-i[7],t[8]=s[8]-i[8],t},Xs=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t[8]=s[8]*i,t},Zs=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t[6]=s[6]+i[6]*e,t[7]=s[7]+i[7]*e,t[8]=s[8]+i[8]*e,t},Ks=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]},$s=function(t,i){var e=t[0],n=t[1],r=t[2],h=t[3],o=t[4],a=t[5],u=t[6],l=t[7],c=t[8],f=i[0],d=i[1],p=i[2],m=i[3],g=i[4],y=i[5],w=i[6],M=i[7],S=i[8];return Math.abs(e-f)<=s*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(n-d)<=s*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-p)<=s*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(h-m)<=s*Math.max(1,Math.abs(h),Math.abs(m))&&Math.abs(o-g)<=s*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(a-y)<=s*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(u-w)<=s*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(l-M)<=s*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(c-S)<=s*Math.max(1,Math.abs(c),Math.abs(S))},ti=function(){var t=new i(16);return i!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},si=function(t){var s=new i(16);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s},ii=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},ei=function(t,s,e,n,r,h,o,a,u,l,c,f,d,p,m,g){var y=new i(16);return y[0]=t,y[1]=s,y[2]=e,y[3]=n,y[4]=r,y[5]=h,y[6]=o,y[7]=a,y[8]=u,y[9]=l,y[10]=c,y[11]=f,y[12]=d,y[13]=p,y[14]=m,y[15]=g,y},ni=function(t,s,i,e,n,r,h,o,a,u,l,c,f,d,p,m,g){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t[4]=r,t[5]=h,t[6]=o,t[7]=a,t[8]=u,t[9]=l,t[10]=c,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t},ri=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},hi=function(t,s){if(t===s){var i=s[1],e=s[2],n=s[3],r=s[6],h=s[7],o=s[11];t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=i,t[6]=s[9],t[7]=s[13],t[8]=e,t[9]=r,t[11]=s[14],t[12]=n,t[13]=h,t[14]=o}else t[0]=s[0],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=s[1],t[5]=s[5],t[6]=s[9],t[7]=s[13],t[8]=s[2],t[9]=s[6],t[10]=s[10],t[11]=s[14],t[12]=s[3],t[13]=s[7],t[14]=s[11],t[15]=s[15];return t},oi=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=s[15],w=i*o-e*h,M=i*a-n*h,S=i*u-r*h,T=e*a-n*o,b=e*u-r*o,v=n*u-r*a,x=l*m-c*p,I=l*g-f*p,G=l*y-d*p,C=c*g-f*m,_=c*y-d*m,A=f*y-d*g,E=w*A-M*_+S*C+T*G-b*I+v*x;return E?(E=1/E,t[0]=(o*A-a*_+u*C)*E,t[1]=(n*_-e*A-r*C)*E,t[2]=(m*v-g*b+y*T)*E,t[3]=(f*b-c*v-d*T)*E,t[4]=(a*G-h*A-u*I)*E,t[5]=(i*A-n*G+r*I)*E,t[6]=(g*S-p*v-y*M)*E,t[7]=(l*v-f*S+d*M)*E,t[8]=(h*_-o*G+u*x)*E,t[9]=(e*G-i*_-r*x)*E,t[10]=(p*b-m*S+y*w)*E,t[11]=(c*S-l*b-d*w)*E,t[12]=(o*I-h*C-a*x)*E,t[13]=(i*C-e*I+n*x)*E,t[14]=(m*M-p*T-g*w)*E,t[15]=(l*T-c*M+f*w)*E,t):null},ai=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=s[15],w=i*o-e*h,M=i*a-n*h,S=i*u-r*h,T=e*a-n*o,b=e*u-r*o,v=n*u-r*a,x=l*m-c*p,I=l*g-f*p,G=l*y-d*p,C=c*g-f*m,_=c*y-d*m,A=f*y-d*g;return t[0]=o*A-a*_+u*C,t[1]=n*_-e*A-r*C,t[2]=m*v-g*b+y*T,t[3]=f*b-c*v-d*T,t[4]=a*G-h*A-u*I,t[5]=i*A-n*G+r*I,t[6]=g*S-p*v-y*M,t[7]=l*v-f*S+d*M,t[8]=h*_-o*G+u*x,t[9]=e*G-i*_-r*x,t[10]=p*b-m*S+y*w,t[11]=c*S-l*b-d*w,t[12]=o*I-h*C-a*x,t[13]=i*C-e*I+n*x,t[14]=m*M-p*T-g*w,t[15]=l*T-c*M+f*w,t},ui=function(t){var s=t[0],i=t[1],e=t[2],n=t[3],r=t[4],h=t[5],o=t[6],a=t[7],u=t[8],l=t[9],c=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=s*h-i*r,y=s*o-e*r,w=i*o-e*h,M=u*p-l*d,S=u*m-c*d,T=l*m-c*p;return a*(s*T-i*S+e*M)-n*(r*T-h*S+o*M)+t[15]*(u*w-l*y+c*g)-f*(d*w-p*y+m*g)},li=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=s[9],d=s[10],p=s[11],m=s[12],g=s[13],y=s[14],w=s[15],M=i[0],S=i[1],T=i[2],b=i[3];return t[0]=M*e+S*o+T*c+b*m,t[1]=M*n+S*a+T*f+b*g,t[2]=M*r+S*u+T*d+b*y,t[3]=M*h+S*l+T*p+b*w,M=i[4],S=i[5],T=i[6],b=i[7],t[4]=M*e+S*o+T*c+b*m,t[5]=M*n+S*a+T*f+b*g,t[6]=M*r+S*u+T*d+b*y,t[7]=M*h+S*l+T*p+b*w,M=i[8],S=i[9],T=i[10],b=i[11],t[8]=M*e+S*o+T*c+b*m,t[9]=M*n+S*a+T*f+b*g,t[10]=M*r+S*u+T*d+b*y,t[11]=M*h+S*l+T*p+b*w,M=i[12],S=i[13],T=i[14],b=i[15],t[12]=M*e+S*o+T*c+b*m,t[13]=M*n+S*a+T*f+b*g,t[14]=M*r+S*u+T*d+b*y,t[15]=M*h+S*l+T*p+b*w,t},ci=function(t,s,i){var e,n,r,h,o,a,u,l,c,f,d,p,m=i[0],g=i[1],y=i[2];return s===t?(t[12]=s[0]*m+s[4]*g+s[8]*y+s[12],t[13]=s[1]*m+s[5]*g+s[9]*y+s[13],t[14]=s[2]*m+s[6]*g+s[10]*y+s[14],t[15]=s[3]*m+s[7]*g+s[11]*y+s[15]):(e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=s[9],d=s[10],p=s[11],t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=o,t[5]=a,t[6]=u,t[7]=l,t[8]=c,t[9]=f,t[10]=d,t[11]=p,t[12]=e*m+o*g+c*y+s[12],t[13]=n*m+a*g+f*y+s[13],t[14]=r*m+u*g+d*y+s[14],t[15]=h*m+l*g+p*y+s[15]),t},fi=function(t,s,i){var e=i[0],n=i[1],r=i[2];return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*n,t[5]=s[5]*n,t[6]=s[6]*n,t[7]=s[7]*n,t[8]=s[8]*r,t[9]=s[9]*r,t[10]=s[10]*r,t[11]=s[11]*r,t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},di=function(t,i,e,n){var r,h,o,a,u,l,c,f,d,p,m,g,y,w,M,S,T,b,v,x,I,G,C,_,A=n[0],E=n[1],D=n[2],N=Math.hypot(A,E,D);return N<s?null:(A*=N=1/N,E*=N,D*=N,r=Math.sin(e),o=1-(h=Math.cos(e)),a=i[0],u=i[1],l=i[2],c=i[3],f=i[4],d=i[5],p=i[6],m=i[7],g=i[8],y=i[9],w=i[10],M=i[11],S=A*A*o+h,T=E*A*o+D*r,b=D*A*o-E*r,v=A*E*o-D*r,x=E*E*o+h,I=D*E*o+A*r,G=A*D*o+E*r,C=E*D*o-A*r,_=D*D*o+h,t[0]=a*S+f*T+g*b,t[1]=u*S+d*T+y*b,t[2]=l*S+p*T+w*b,t[3]=c*S+m*T+M*b,t[4]=a*v+f*x+g*I,t[5]=u*v+d*x+y*I,t[6]=l*v+p*x+w*I,t[7]=c*v+m*x+M*I,t[8]=a*G+f*C+g*_,t[9]=u*G+d*C+y*_,t[10]=l*G+p*C+w*_,t[11]=c*G+m*C+M*_,i!==t&&(t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t)},pi=function(t,s,i){var e=Math.sin(i),n=Math.cos(i),r=s[4],h=s[5],o=s[6],a=s[7],u=s[8],l=s[9],c=s[10],f=s[11];return s!==t&&(t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[4]=r*n+u*e,t[5]=h*n+l*e,t[6]=o*n+c*e,t[7]=a*n+f*e,t[8]=u*n-r*e,t[9]=l*n-h*e,t[10]=c*n-o*e,t[11]=f*n-a*e,t},mi=function(t,s,i){var e=Math.sin(i),n=Math.cos(i),r=s[0],h=s[1],o=s[2],a=s[3],u=s[8],l=s[9],c=s[10],f=s[11];return s!==t&&(t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=r*n-u*e,t[1]=h*n-l*e,t[2]=o*n-c*e,t[3]=a*n-f*e,t[8]=r*e+u*n,t[9]=h*e+l*n,t[10]=o*e+c*n,t[11]=a*e+f*n,t},gi=function(t,s,i){var e=Math.sin(i),n=Math.cos(i),r=s[0],h=s[1],o=s[2],a=s[3],u=s[4],l=s[5],c=s[6],f=s[7];return s!==t&&(t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=r*n+u*e,t[1]=h*n+l*e,t[2]=o*n+c*e,t[3]=a*n+f*e,t[4]=u*n-r*e,t[5]=l*n-h*e,t[6]=c*n-o*e,t[7]=f*n-a*e,t},yi=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t},wi=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=s[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Mi=function(t,i,e){var n,r,h,o=e[0],a=e[1],u=e[2],l=Math.hypot(o,a,u);return l<s?null:(o*=l=1/l,a*=l,u*=l,n=Math.sin(i),h=1-(r=Math.cos(i)),t[0]=o*o*h+r,t[1]=a*o*h+u*n,t[2]=u*o*h-a*n,t[3]=0,t[4]=o*a*h-u*n,t[5]=a*a*h+r,t[6]=u*a*h+o*n,t[7]=0,t[8]=o*u*h+a*n,t[9]=a*u*h-o*n,t[10]=u*u*h+r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},Si=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Ti=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},bi=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},vi=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=e+e,a=n+n,u=r+r,l=e*o,c=e*a,f=e*u,d=n*a,p=n*u,m=r*u,g=h*o,y=h*a,w=h*u;return t[0]=1-(d+m),t[1]=c+w,t[2]=f-y,t[3]=0,t[4]=c-w,t[5]=1-(l+m),t[6]=p+g,t[7]=0,t[8]=f+y,t[9]=p-g,t[10]=1-(l+d),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},xi=function(t,s){var e=new i(3),n=-s[0],r=-s[1],h=-s[2],o=s[3],a=s[4],u=s[5],l=s[6],c=s[7],f=n*n+r*r+h*h+o*o;return f>0?(e[0]=2*(a*o+c*n+u*h-l*r)/f,e[1]=2*(u*o+c*r+l*n-a*h)/f,e[2]=2*(l*o+c*h+a*r-u*n)/f):(e[0]=2*(a*o+c*n+u*h-l*r),e[1]=2*(u*o+c*r+l*n-a*h),e[2]=2*(l*o+c*h+a*r-u*n)),vi(t,s,e),t},Ii=function(t,s){return t[0]=s[12],t[1]=s[13],t[2]=s[14],t},Gi=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[4],h=s[5],o=s[6],a=s[8],u=s[9],l=s[10];return t[0]=Math.hypot(i,e,n),t[1]=Math.hypot(r,h,o),t[2]=Math.hypot(a,u,l),t},Ci=function(t,s){var e=new i(3);Gi(e,s);var n=1/e[0],r=1/e[1],h=1/e[2],o=s[0]*n,a=s[1]*r,u=s[2]*h,l=s[4]*n,c=s[5]*r,f=s[6]*h,d=s[8]*n,p=s[9]*r,m=s[10]*h,g=o+c+m,y=0;return g>0?(y=2*Math.sqrt(g+1),t[3]=.25*y,t[0]=(f-p)/y,t[1]=(d-u)/y,t[2]=(a-l)/y):o>c&&o>m?(y=2*Math.sqrt(1+o-c-m),t[3]=(f-p)/y,t[0]=.25*y,t[1]=(a+l)/y,t[2]=(d+u)/y):c>m?(y=2*Math.sqrt(1+c-o-m),t[3]=(d-u)/y,t[0]=(a+l)/y,t[1]=.25*y,t[2]=(f+p)/y):(y=2*Math.sqrt(1+m-o-c),t[3]=(a-l)/y,t[0]=(d+u)/y,t[1]=(f+p)/y,t[2]=.25*y),t},_i=function(t,s,i,e){s[0]=e[12],s[1]=e[13],s[2]=e[14];var n=e[0],r=e[1],h=e[2],o=e[4],a=e[5],u=e[6],l=e[8],c=e[9],f=e[10];i[0]=Math.hypot(n,r,h),i[1]=Math.hypot(o,a,u),i[2]=Math.hypot(l,c,f);var d=1/i[0],p=1/i[1],m=1/i[2],g=n*d,y=r*p,w=h*m,M=o*d,S=a*p,T=u*m,b=l*d,v=c*p,x=f*m,I=g+S+x,G=0;return I>0?(G=2*Math.sqrt(I+1),t[3]=.25*G,t[0]=(T-v)/G,t[1]=(b-w)/G,t[2]=(y-M)/G):g>S&&g>x?(G=2*Math.sqrt(1+g-S-x),t[3]=(T-v)/G,t[0]=.25*G,t[1]=(y+M)/G,t[2]=(b+w)/G):S>x?(G=2*Math.sqrt(1+S-g-x),t[3]=(b-w)/G,t[0]=(y+M)/G,t[1]=.25*G,t[2]=(T+v)/G):(G=2*Math.sqrt(1+x-g-S),t[3]=(y-M)/G,t[0]=(b+w)/G,t[1]=(T+v)/G,t[2]=.25*G),t},Ai=function(t,s,i,e){var n=s[0],r=s[1],h=s[2],o=s[3],a=n+n,u=r+r,l=h+h,c=n*a,f=n*u,d=n*l,p=r*u,m=r*l,g=h*l,y=o*a,w=o*u,M=o*l,S=e[0],T=e[1],b=e[2];return t[0]=(1-(p+g))*S,t[1]=(f+M)*S,t[2]=(d-w)*S,t[3]=0,t[4]=(f-M)*T,t[5]=(1-(c+g))*T,t[6]=(m+y)*T,t[7]=0,t[8]=(d+w)*b,t[9]=(m-y)*b,t[10]=(1-(c+p))*b,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},Ei=function(t,s,i,e,n){var r=s[0],h=s[1],o=s[2],a=s[3],u=r+r,l=h+h,c=o+o,f=r*u,d=r*l,p=r*c,m=h*l,g=h*c,y=o*c,w=a*u,M=a*l,S=a*c,T=e[0],b=e[1],v=e[2],x=n[0],I=n[1],G=n[2],C=(1-(m+y))*T,_=(d+S)*T,A=(p-M)*T,E=(d-S)*b,D=(1-(f+y))*b,N=(g+w)*b,L=(p+M)*v,O=(g-w)*v,R=(1-(f+m))*v;return t[0]=C,t[1]=_,t[2]=A,t[3]=0,t[4]=E,t[5]=D,t[6]=N,t[7]=0,t[8]=L,t[9]=O,t[10]=R,t[11]=0,t[12]=i[0]+x-(C*x+E*I+L*G),t[13]=i[1]+I-(_*x+D*I+O*G),t[14]=i[2]+G-(A*x+N*I+R*G),t[15]=1,t},Di=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=i+i,o=e+e,a=n+n,u=i*h,l=e*h,c=e*o,f=n*h,d=n*o,p=n*a,m=r*h,g=r*o,y=r*a;return t[0]=1-c-p,t[1]=l+y,t[2]=f-g,t[3]=0,t[4]=l-y,t[5]=1-u-p,t[6]=d+m,t[7]=0,t[8]=f+g,t[9]=d-m,t[10]=1-u-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Ni=function(t,s,i,e,n,r,h){var o=1/(i-s),a=1/(n-e),u=1/(r-h);return t[0]=2*r*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*r*a,t[6]=0,t[7]=0,t[8]=(i+s)*o,t[9]=(n+e)*a,t[10]=(h+r)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=h*r*2*u,t[15]=0,t},Li=function(t,s,i,e,n){var r=1/Math.tan(s/2);if(t[0]=r/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=n&&n!==1/0){var h=1/(e-n);t[10]=(n+e)*h,t[14]=2*n*e*h}else t[10]=-1,t[14]=-2*e;return t},Oi=function(t,s,i,e,n){var r=1/Math.tan(s/2);if(t[0]=r/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=n&&n!==1/0){var h=1/(e-n);t[10]=n*h,t[14]=n*e*h}else t[10]=-1,t[14]=-e;return t},Ri=function(t,s,i,e){var n=Math.tan(s.upDegrees*Math.PI/180),r=Math.tan(s.downDegrees*Math.PI/180),h=Math.tan(s.leftDegrees*Math.PI/180),o=Math.tan(s.rightDegrees*Math.PI/180),a=2/(h+o),u=2/(n+r);return t[0]=a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(h-o)*a*.5,t[9]=(n-r)*u*.5,t[10]=e/(i-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*i/(i-e),t[15]=0,t},Pi=function(t,s,i,e,n,r,h){var o=1/(s-i),a=1/(e-n),u=1/(r-h);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(s+i)*o,t[13]=(n+e)*a,t[14]=(h+r)*u,t[15]=1,t},ki=function(t,s,i,e,n,r,h){var o=1/(s-i),a=1/(e-n),u=1/(r-h);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=u,t[11]=0,t[12]=(s+i)*o,t[13]=(n+e)*a,t[14]=r*u,t[15]=1,t},Fi=function(t,i,e,n){var r,h,o,a,u,l,c,f,d,p,m=i[0],g=i[1],y=i[2],w=n[0],M=n[1],S=n[2],T=e[0],b=e[1],v=e[2];return Math.abs(m-T)<s&&Math.abs(g-b)<s&&Math.abs(y-v)<s?ri(t):(c=m-T,f=g-b,d=y-v,r=M*(d*=p=1/Math.hypot(c,f,d))-S*(f*=p),h=S*(c*=p)-w*d,o=w*f-M*c,(p=Math.hypot(r,h,o))?(r*=p=1/p,h*=p,o*=p):(r=0,h=0,o=0),a=f*o-d*h,u=d*r-c*o,l=c*h-f*r,(p=Math.hypot(a,u,l))?(a*=p=1/p,u*=p,l*=p):(a=0,u=0,l=0),t[0]=r,t[1]=a,t[2]=c,t[3]=0,t[4]=h,t[5]=u,t[6]=f,t[7]=0,t[8]=o,t[9]=l,t[10]=d,t[11]=0,t[12]=-(r*m+h*g+o*y),t[13]=-(a*m+u*g+l*y),t[14]=-(c*m+f*g+d*y),t[15]=1,t)},ji=function(t,s,i,e){var n=s[0],r=s[1],h=s[2],o=e[0],a=e[1],u=e[2],l=n-i[0],c=r-i[1],f=h-i[2],d=l*l+c*c+f*f;d>0&&(l*=d=1/Math.sqrt(d),c*=d,f*=d);var p=a*f-u*c,m=u*l-o*f,g=o*c-a*l;return(d=p*p+m*m+g*g)>0&&(p*=d=1/Math.sqrt(d),m*=d,g*=d),t[0]=p,t[1]=m,t[2]=g,t[3]=0,t[4]=c*g-f*m,t[5]=f*p-l*g,t[6]=l*m-c*p,t[7]=0,t[8]=l,t[9]=c,t[10]=f,t[11]=0,t[12]=n,t[13]=r,t[14]=h,t[15]=1,t},zi=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},Bi=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},Ui=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t[8]=s[8]+i[8],t[9]=s[9]+i[9],t[10]=s[10]+i[10],t[11]=s[11]+i[11],t[12]=s[12]+i[12],t[13]=s[13]+i[13],t[14]=s[14]+i[14],t[15]=s[15]+i[15],t},Wi=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t[6]=s[6]-i[6],t[7]=s[7]-i[7],t[8]=s[8]-i[8],t[9]=s[9]-i[9],t[10]=s[10]-i[10],t[11]=s[11]-i[11],t[12]=s[12]-i[12],t[13]=s[13]-i[13],t[14]=s[14]-i[14],t[15]=s[15]-i[15],t},Vi=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t[8]=s[8]*i,t[9]=s[9]*i,t[10]=s[10]*i,t[11]=s[11]*i,t[12]=s[12]*i,t[13]=s[13]*i,t[14]=s[14]*i,t[15]=s[15]*i,t},Yi=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t[6]=s[6]+i[6]*e,t[7]=s[7]+i[7]*e,t[8]=s[8]+i[8]*e,t[9]=s[9]+i[9]*e,t[10]=s[10]+i[10]*e,t[11]=s[11]+i[11]*e,t[12]=s[12]+i[12]*e,t[13]=s[13]+i[13]*e,t[14]=s[14]+i[14]*e,t[15]=s[15]+i[15]*e,t},Qi=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]&&t[9]===s[9]&&t[10]===s[10]&&t[11]===s[11]&&t[12]===s[12]&&t[13]===s[13]&&t[14]===s[14]&&t[15]===s[15]},Ji=function(t,i){var e=t[0],n=t[1],r=t[2],h=t[3],o=t[4],a=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],p=t[11],m=t[12],g=t[13],y=t[14],w=t[15],M=i[0],S=i[1],T=i[2],b=i[3],v=i[4],x=i[5],I=i[6],G=i[7],C=i[8],_=i[9],A=i[10],E=i[11],D=i[12],N=i[13],L=i[14],O=i[15];return Math.abs(e-M)<=s*Math.max(1,Math.abs(e),Math.abs(M))&&Math.abs(n-S)<=s*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(r-T)<=s*Math.max(1,Math.abs(r),Math.abs(T))&&Math.abs(h-b)<=s*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(o-v)<=s*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-x)<=s*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(u-I)<=s*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(l-G)<=s*Math.max(1,Math.abs(l),Math.abs(G))&&Math.abs(c-C)<=s*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(f-_)<=s*Math.max(1,Math.abs(f),Math.abs(_))&&Math.abs(d-A)<=s*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(p-E)<=s*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(m-D)<=s*Math.max(1,Math.abs(m),Math.abs(D))&&Math.abs(g-N)<=s*Math.max(1,Math.abs(g),Math.abs(N))&&Math.abs(y-L)<=s*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(w-O)<=s*Math.max(1,Math.abs(w),Math.abs(O))},Hi=function(){var t=new i(3);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t},qi=function(t){var s=new i(3);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s},Xi=function(t){var s=t[0],i=t[1],e=t[2];return Math.hypot(s,i,e)},Zi=function(t,s,e){var n=new i(3);return n[0]=t,n[1]=s,n[2]=e,n},Ki=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t},$i=function(t,s,i,e){return t[0]=s,t[1]=i,t[2]=e,t},te=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t},se=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t},ie=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t[2]=s[2]*i[2],t},ee=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t[2]=s[2]/i[2],t},ne=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t},re=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t},he=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t[2]=Math.min(s[2],i[2]),t},oe=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t[2]=Math.max(s[2],i[2]),t},ae=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t},ue=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t},le=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t},ce=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],n=s[2]-t[2];return Math.hypot(i,e,n)},fe=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],n=s[2]-t[2];return i*i+e*e+n*n},de=function(t){var s=t[0],i=t[1],e=t[2];return s*s+i*i+e*e},pe=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t},me=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t},ge=function(t,s){var i=s[0],e=s[1],n=s[2],r=i*i+e*e+n*n;return r>0&&(r=1/Math.sqrt(r)),t[0]=s[0]*r,t[1]=s[1]*r,t[2]=s[2]*r,t},ye=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]},we=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=i[0],o=i[1],a=i[2];return t[0]=n*a-r*o,t[1]=r*h-e*a,t[2]=e*o-n*h,t},Me=function(t,s,i,e){var n=s[0],r=s[1],h=s[2];return t[0]=n+e*(i[0]-n),t[1]=r+e*(i[1]-r),t[2]=h+e*(i[2]-h),t},Se=function(t,s,i,e){var n=Math.acos(Math.min(Math.max(ye(s,i),-1),1)),r=Math.sin(n),h=Math.sin((1-e)*n)/r,o=Math.sin(e*n)/r;return t[0]=h*s[0]+o*i[0],t[1]=h*s[1]+o*i[1],t[2]=h*s[2]+o*i[2],t},Te=function(t,s,i,e,n,r){var h=r*r,o=h*(2*r-3)+1,a=h*(r-2)+r,u=h*(r-1),l=h*(3-2*r);return t[0]=s[0]*o+i[0]*a+e[0]*u+n[0]*l,t[1]=s[1]*o+i[1]*a+e[1]*u+n[1]*l,t[2]=s[2]*o+i[2]*a+e[2]*u+n[2]*l,t},be=function(t,s,i,e,n,r){var h=1-r,o=h*h,a=r*r,u=o*h,l=3*r*o,c=3*a*h,f=a*r;return t[0]=s[0]*u+i[0]*l+e[0]*c+n[0]*f,t[1]=s[1]*u+i[1]*l+e[1]*c+n[1]*f,t[2]=s[2]*u+i[2]*l+e[2]*c+n[2]*f,t},ve=function(t,s){s=s||1;var i=2*e()*Math.PI,n=2*e()-1,r=Math.sqrt(1-n*n)*s;return t[0]=Math.cos(i)*r,t[1]=Math.sin(i)*r,t[2]=n*s,t},xe=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=i[3]*e+i[7]*n+i[11]*r+i[15];return h=h||1,t[0]=(i[0]*e+i[4]*n+i[8]*r+i[12])/h,t[1]=(i[1]*e+i[5]*n+i[9]*r+i[13])/h,t[2]=(i[2]*e+i[6]*n+i[10]*r+i[14])/h,t},Ie=function(t,s,i){var e=s[0],n=s[1],r=s[2];return t[0]=e*i[0]+n*i[3]+r*i[6],t[1]=e*i[1]+n*i[4]+r*i[7],t[2]=e*i[2]+n*i[5]+r*i[8],t},Ge=function(t,s,i){var e=i[0],n=i[1],r=i[2],h=i[3],o=s[0],a=s[1],u=s[2],l=n*u-r*a,c=r*o-e*u,f=e*a-n*o,d=n*f-r*c,p=r*l-e*f,m=e*c-n*l,g=2*h;return l*=g,c*=g,f*=g,d*=2,p*=2,m*=2,t[0]=o+l+d,t[1]=a+c+p,t[2]=u+f+m,t},Ce=function(t,s,i,e){var n=[],r=[];return n[0]=s[0]-i[0],n[1]=s[1]-i[1],n[2]=s[2]-i[2],r[0]=n[0],r[1]=n[1]*Math.cos(e)-n[2]*Math.sin(e),r[2]=n[1]*Math.sin(e)+n[2]*Math.cos(e),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},_e=function(t,s,i,e){var n=[],r=[];return n[0]=s[0]-i[0],n[1]=s[1]-i[1],n[2]=s[2]-i[2],r[0]=n[2]*Math.sin(e)+n[0]*Math.cos(e),r[1]=n[1],r[2]=n[2]*Math.cos(e)-n[0]*Math.sin(e),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},Ae=function(t,s,i,e){var n=[],r=[];return n[0]=s[0]-i[0],n[1]=s[1]-i[1],n[2]=s[2]-i[2],r[0]=n[0]*Math.cos(e)-n[1]*Math.sin(e),r[1]=n[0]*Math.sin(e)+n[1]*Math.cos(e),r[2]=n[2],t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},Ee=function(t,s){var i=t[0],e=t[1],n=t[2],r=s[0],h=s[1],o=s[2],a=Math.sqrt((i*i+e*e+n*n)*(r*r+h*h+o*o)),u=a&&ye(t,s)/a;return Math.acos(Math.min(Math.max(u,-1),1))},De=function(t){return t[0]=0,t[1]=0,t[2]=0,t},Ne=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},Le=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]},Oe=function(t,i){var e=t[0],n=t[1],r=t[2],h=i[0],o=i[1],a=i[2];return Math.abs(e-h)<=s*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(n-o)<=s*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=s*Math.max(1,Math.abs(r),Math.abs(a))},Re=function(){var t=new i(4);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t},Pe=function(t){var s=new i(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},ke=function(t,s,e,n){var r=new i(4);return r[0]=t,r[1]=s,r[2]=e,r[3]=n,r},Fe=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},je=function(t,s,i,e,n){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t},ze=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t},Be=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t},Ue=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t[2]=s[2]*i[2],t[3]=s[3]*i[3],t},We=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t[2]=s[2]/i[2],t[3]=s[3]/i[3],t},Ve=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t[3]=Math.ceil(s[3]),t},Ye=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t[3]=Math.floor(s[3]),t},Qe=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t[2]=Math.min(s[2],i[2]),t[3]=Math.min(s[3],i[3]),t},Je=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t[2]=Math.max(s[2],i[2]),t[3]=Math.max(s[3],i[3]),t},He=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t[3]=Math.round(s[3]),t},qe=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t},Xe=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t},Ze=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],n=s[2]-t[2],r=s[3]-t[3];return Math.hypot(i,e,n,r)},Ke=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],n=s[2]-t[2],r=s[3]-t[3];return i*i+e*e+n*n+r*r},$e=function(t){var s=t[0],i=t[1],e=t[2],n=t[3];return Math.hypot(s,i,e,n)},tn=function(t){var s=t[0],i=t[1],e=t[2],n=t[3];return s*s+i*i+e*e+n*n},sn=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=-s[3],t},en=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t[3]=1/s[3],t},nn=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=i*i+e*e+n*n+r*r;return h>0&&(h=1/Math.sqrt(h)),t[0]=i*h,t[1]=e*h,t[2]=n*h,t[3]=r*h,t},rn=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]+t[3]*s[3]},hn=function(t,s,i,e){var n=i[0]*e[1]-i[1]*e[0],r=i[0]*e[2]-i[2]*e[0],h=i[0]*e[3]-i[3]*e[0],o=i[1]*e[2]-i[2]*e[1],a=i[1]*e[3]-i[3]*e[1],u=i[2]*e[3]-i[3]*e[2],l=s[0],c=s[1],f=s[2],d=s[3];return t[0]=c*u-f*a+d*o,t[1]=-l*u+f*h-d*r,t[2]=l*a-c*h+d*n,t[3]=-l*o+c*r-f*n,t},on=function(t,s,i,e){var n=s[0],r=s[1],h=s[2],o=s[3];return t[0]=n+e*(i[0]-n),t[1]=r+e*(i[1]-r),t[2]=h+e*(i[2]-h),t[3]=o+e*(i[3]-o),t},an=function(t,s){var i,n,r,h,o,a;s=s||1;do{o=(i=2*e()-1)*i+(n=2*e()-1)*n}while(o>=1);do{a=(r=2*e()-1)*r+(h=2*e()-1)*h}while(a>=1);var u=Math.sqrt((1-o)/a);return t[0]=s*i,t[1]=s*n,t[2]=s*r*u,t[3]=s*h*u,t},un=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3];return t[0]=i[0]*e+i[4]*n+i[8]*r+i[12]*h,t[1]=i[1]*e+i[5]*n+i[9]*r+i[13]*h,t[2]=i[2]*e+i[6]*n+i[10]*r+i[14]*h,t[3]=i[3]*e+i[7]*n+i[11]*r+i[15]*h,t},ln=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=i[0],o=i[1],a=i[2],u=i[3],l=u*e+o*r-a*n,c=u*n+a*e-h*r,f=u*r+h*n-o*e,d=-h*e-o*n-a*r;return t[0]=l*u+d*-h+c*-a-f*-o,t[1]=c*u+d*-o+f*-h-l*-a,t[2]=f*u+d*-a+l*-o-c*-h,t[3]=s[3],t},cn=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},fn=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},dn=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},pn=function(t,i){var e=t[0],n=t[1],r=t[2],h=t[3],o=i[0],a=i[1],u=i[2],l=i[3];return Math.abs(e-o)<=s*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(n-a)<=s*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-u)<=s*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(h-l)<=s*Math.max(1,Math.abs(h),Math.abs(l))},mn=function(){var t=new i(4);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t},gn=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},yn=function(t,s,i){i*=.5;var e=Math.sin(i);return t[0]=e*s[0],t[1]=e*s[1],t[2]=e*s[2],t[3]=Math.cos(i),t},wn=function(t,i){var e=2*Math.acos(i[3]),n=Math.sin(e/2);return n>s?(t[0]=i[0]/n,t[1]=i[1]/n,t[2]=i[2]/n):(t[0]=1,t[1]=0,t[2]=0),e},Mn=function(t,s){var i=Q(t,s);return Math.acos(2*i*i-1)},Sn=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=i[0],a=i[1],u=i[2],l=i[3];return t[0]=e*l+h*o+n*u-r*a,t[1]=n*l+h*a+r*o-e*u,t[2]=r*l+h*u+e*a-n*o,t[3]=h*l-e*o-n*a-r*u,t},Tn=function(t,s,i){i*=.5;var e=s[0],n=s[1],r=s[2],h=s[3],o=Math.sin(i),a=Math.cos(i);return t[0]=e*a+h*o,t[1]=n*a+r*o,t[2]=r*a-n*o,t[3]=h*a-e*o,t},bn=function(t,s,i){i*=.5;var e=s[0],n=s[1],r=s[2],h=s[3],o=Math.sin(i),a=Math.cos(i);return t[0]=e*a-r*o,t[1]=n*a+h*o,t[2]=r*a+e*o,t[3]=h*a-n*o,t},vn=function(t,s,i){i*=.5;var e=s[0],n=s[1],r=s[2],h=s[3],o=Math.sin(i),a=Math.cos(i);return t[0]=e*a+n*o,t[1]=n*a-e*o,t[2]=r*a+h*o,t[3]=h*a-r*o,t},xn=function(t,s){var i=s[0],e=s[1],n=s[2];return t[0]=i,t[1]=e,t[2]=n,t[3]=Math.sqrt(Math.abs(1-i*i-e*e-n*n)),t},In=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=Math.sqrt(i*i+e*e+n*n),o=Math.exp(r),a=h>0?o*Math.sin(h)/h:0;return t[0]=i*a,t[1]=e*a,t[2]=n*a,t[3]=o*Math.cos(h),t},Gn=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=Math.sqrt(i*i+e*e+n*n),o=h>0?Math.atan2(h,r)/h:0;return t[0]=i*o,t[1]=e*o,t[2]=n*o,t[3]=.5*Math.log(i*i+e*e+n*n+r*r),t},Cn=function(t,s,i){return Gn(t,s),Y(t,t,i),In(t,t),t},_n=function(t,i,e,n){var r,h,o,a,u,l=i[0],c=i[1],f=i[2],d=i[3],p=e[0],m=e[1],g=e[2],y=e[3];return(h=l*p+c*m+f*g+d*y)<0&&(h=-h,p=-p,m=-m,g=-g,y=-y),1-h>s?(r=Math.acos(h),o=Math.sin(r),a=Math.sin((1-n)*r)/o,u=Math.sin(n*r)/o):(a=1-n,u=n),t[0]=a*l+u*p,t[1]=a*c+u*m,t[2]=a*f+u*g,t[3]=a*d+u*y,t},An=function(t){var s=e(),i=e(),n=e(),r=Math.sqrt(1-s),h=Math.sqrt(s);return t[0]=r*Math.sin(2*Math.PI*i),t[1]=r*Math.cos(2*Math.PI*i),t[2]=h*Math.sin(2*Math.PI*n),t[3]=h*Math.cos(2*Math.PI*n),t},En=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=i*i+e*e+n*n+r*r,o=h?1/h:0;return t[0]=-i*o,t[1]=-e*o,t[2]=-n*o,t[3]=r*o,t},Dn=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t},Nn=function(t,s){var i,e=s[0]+s[4]+s[8];if(e>0)i=Math.sqrt(e+1),t[3]=.5*i,i=.5/i,t[0]=(s[5]-s[7])*i,t[1]=(s[6]-s[2])*i,t[2]=(s[1]-s[3])*i;else{var n=0;s[4]>s[0]&&(n=1),s[8]>s[3*n+n]&&(n=2);var r=(n+1)%3,h=(n+2)%3;i=Math.sqrt(s[3*n+n]-s[3*r+r]-s[3*h+h]+1),t[n]=.5*i,i=.5/i,t[3]=(s[3*r+h]-s[3*h+r])*i,t[r]=(s[3*r+n]+s[3*n+r])*i,t[h]=(s[3*h+n]+s[3*n+h])*i}return t},Ln=function(t,s,i,e){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n,h=Math.PI/360;s*=h,e*=h,i*=h;var o=Math.sin(s),a=Math.cos(s),u=Math.sin(i),l=Math.cos(i),c=Math.sin(e),f=Math.cos(e);switch(r){case"xyz":t[0]=o*l*f+a*u*c,t[1]=a*u*f-o*l*c,t[2]=a*l*c+o*u*f,t[3]=a*l*f-o*u*c;break;case"xzy":t[0]=o*l*f-a*u*c,t[1]=a*u*f-o*l*c,t[2]=a*l*c+o*u*f,t[3]=a*l*f+o*u*c;break;case"yxz":t[0]=o*l*f+a*u*c,t[1]=a*u*f-o*l*c,t[2]=a*l*c-o*u*f,t[3]=a*l*f+o*u*c;break;case"yzx":t[0]=o*l*f+a*u*c,t[1]=a*u*f+o*l*c,t[2]=a*l*c-o*u*f,t[3]=a*l*f-o*u*c;break;case"zxy":t[0]=o*l*f-a*u*c,t[1]=a*u*f+o*l*c,t[2]=a*l*c+o*u*f,t[3]=a*l*f-o*u*c;break;case"zyx":t[0]=o*l*f-a*u*c,t[1]=a*u*f+o*l*c,t[2]=a*l*c-o*u*f,t[3]=a*l*f+o*u*c;break;default:throw new Error("Unknown angle order "+r)}return t},On=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},Rn=function(t,i){return Math.abs(rn(t,i))>=1-s},Pn=function(){var t=new i(8);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},kn=function(t){var s=new i(8);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s},Fn=function(t,s,e,n,r,h,o,a){var u=new i(8);return u[0]=t,u[1]=s,u[2]=e,u[3]=n,u[4]=r,u[5]=h,u[6]=o,u[7]=a,u},jn=function(t,s,e,n,r,h,o){var a=new i(8);a[0]=t,a[1]=s,a[2]=e,a[3]=n;var u=.5*r,l=.5*h,c=.5*o;return a[4]=u*n+l*e-c*s,a[5]=l*n+c*t-u*e,a[6]=c*n+u*s-l*t,a[7]=-u*t-l*s-c*e,a},zn=function(t,s,i){var e=.5*i[0],n=.5*i[1],r=.5*i[2],h=s[0],o=s[1],a=s[2],u=s[3];return t[0]=h,t[1]=o,t[2]=a,t[3]=u,t[4]=e*u+n*a-r*o,t[5]=n*u+r*h-e*a,t[6]=r*u+e*o-n*h,t[7]=-e*h-n*o-r*a,t},Bn=function(t,s){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*s[0],t[5]=.5*s[1],t[6]=.5*s[2],t[7]=0,t},Un=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},Wn=function(t,s){var e=mn();Ci(e,s);var n=new i(3);return Ii(n,s),zn(t,e,n),t},Vn=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t},Yn=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},Qn=function(t,s,i,e,n,r,h,o,a){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t[4]=r,t[5]=h,t[6]=o,t[7]=a,t},Jn=function(t,s){return t[0]=s[4],t[1]=s[5],t[2]=s[6],t[3]=s[7],t},Hn=function(t,s){return t[4]=s[0],t[5]=s[1],t[6]=s[2],t[7]=s[3],t},qn=function(t,s){var i=s[4],e=s[5],n=s[6],r=s[7],h=-s[0],o=-s[1],a=-s[2],u=s[3];return t[0]=2*(i*u+r*h+e*a-n*o),t[1]=2*(e*u+r*o+n*h-i*a),t[2]=2*(n*u+r*a+i*o-e*h),t},Xn=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=.5*i[0],a=.5*i[1],u=.5*i[2],l=s[4],c=s[5],f=s[6],d=s[7];return t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=h*o+n*u-r*a+l,t[5]=h*a+r*o-e*u+c,t[6]=h*u+e*a-n*o+f,t[7]=-e*o-n*a-r*u+d,t},Zn=function(t,s,i){var e=-s[0],n=-s[1],r=-s[2],h=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=o*h+l*e+a*r-u*n,f=a*h+l*n+u*e-o*r,d=u*h+l*r+o*n-a*e,p=l*h-o*e-a*n-u*r;return Tn(t,s,i),e=t[0],n=t[1],r=t[2],h=t[3],t[4]=c*h+p*e+f*r-d*n,t[5]=f*h+p*n+d*e-c*r,t[6]=d*h+p*r+c*n-f*e,t[7]=p*h-c*e-f*n-d*r,t},Kn=function(t,s,i){var e=-s[0],n=-s[1],r=-s[2],h=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=o*h+l*e+a*r-u*n,f=a*h+l*n+u*e-o*r,d=u*h+l*r+o*n-a*e,p=l*h-o*e-a*n-u*r;return bn(t,s,i),e=t[0],n=t[1],r=t[2],h=t[3],t[4]=c*h+p*e+f*r-d*n,t[5]=f*h+p*n+d*e-c*r,t[6]=d*h+p*r+c*n-f*e,t[7]=p*h-c*e-f*n-d*r,t},$n=function(t,s,i){var e=-s[0],n=-s[1],r=-s[2],h=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=o*h+l*e+a*r-u*n,f=a*h+l*n+u*e-o*r,d=u*h+l*r+o*n-a*e,p=l*h-o*e-a*n-u*r;return vn(t,s,i),e=t[0],n=t[1],r=t[2],h=t[3],t[4]=c*h+p*e+f*r-d*n,t[5]=f*h+p*n+d*e-c*r,t[6]=d*h+p*r+c*n-f*e,t[7]=p*h-c*e-f*n-d*r,t},tr=function(t,s,i){var e=i[0],n=i[1],r=i[2],h=i[3],o=s[0],a=s[1],u=s[2],l=s[3];return t[0]=o*h+l*e+a*r-u*n,t[1]=a*h+l*n+u*e-o*r,t[2]=u*h+l*r+o*n-a*e,t[3]=l*h-o*e-a*n-u*r,o=s[4],a=s[5],u=s[6],l=s[7],t[4]=o*h+l*e+a*r-u*n,t[5]=a*h+l*n+u*e-o*r,t[6]=u*h+l*r+o*n-a*e,t[7]=l*h-o*e-a*n-u*r,t},sr=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=i[0],a=i[1],u=i[2],l=i[3];return t[0]=e*l+h*o+n*u-r*a,t[1]=n*l+h*a+r*o-e*u,t[2]=r*l+h*u+e*a-n*o,t[3]=h*l-e*o-n*a-r*u,o=i[4],a=i[5],u=i[6],l=i[7],t[4]=e*l+h*o+n*u-r*a,t[5]=n*l+h*a+r*o-e*u,t[6]=r*l+h*u+e*a-n*o,t[7]=h*l-e*o-n*a-r*u,t},ir=function(t,i,e,n){if(Math.abs(n)<s)return Vn(t,i);var r=Math.hypot(e[0],e[1],e[2]);n*=.5;var h=Math.sin(n),o=h*e[0]/r,a=h*e[1]/r,u=h*e[2]/r,l=Math.cos(n),c=i[0],f=i[1],d=i[2],p=i[3];t[0]=c*l+p*o+f*u-d*a,t[1]=f*l+p*a+d*o-c*u,t[2]=d*l+p*u+c*a-f*o,t[3]=p*l-c*o-f*a-d*u;var m=i[4],g=i[5],y=i[6],w=i[7];return t[4]=m*l+w*o+g*u-y*a,t[5]=g*l+w*a+y*o-m*u,t[6]=y*l+w*u+m*a-g*o,t[7]=w*l-m*o-g*a-y*u,t},er=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t},nr=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=i[4],a=i[5],u=i[6],l=i[7],c=s[4],f=s[5],d=s[6],p=s[7],m=i[0],g=i[1],y=i[2],w=i[3];return t[0]=e*w+h*m+n*y-r*g,t[1]=n*w+h*g+r*m-e*y,t[2]=r*w+h*y+e*g-n*m,t[3]=h*w-e*m-n*g-r*y,t[4]=e*l+h*o+n*u-r*a+c*w+p*m+f*y-d*g,t[5]=n*l+h*a+r*o-e*u+f*w+p*g+d*m-c*y,t[6]=r*l+h*u+e*a-n*o+d*w+p*y+c*g-f*m,t[7]=h*l-e*o-n*a-r*u+p*w-c*m-f*g-d*y,t},rr=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t},hr=function(t,s,i,e){var n=1-e;return ot(s,i)<0&&(e=-e),t[0]=s[0]*n+i[0]*e,t[1]=s[1]*n+i[1]*e,t[2]=s[2]*n+i[2]*e,t[3]=s[3]*n+i[3]*e,t[4]=s[4]*n+i[4]*e,t[5]=s[5]*n+i[5]*e,t[6]=s[6]*n+i[6]*e,t[7]=s[7]*n+i[7]*e,t},or=function(t,s){var i=lt(s);return t[0]=-s[0]/i,t[1]=-s[1]/i,t[2]=-s[2]/i,t[3]=s[3]/i,t[4]=-s[4]/i,t[5]=-s[5]/i,t[6]=-s[6]/i,t[7]=s[7]/i,t},ar=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t[4]=-s[4],t[5]=-s[5],t[6]=-s[6],t[7]=s[7],t},ur=function(t,s){var i=lt(s);if(i>0){i=Math.sqrt(i);var e=s[0]/i,n=s[1]/i,r=s[2]/i,h=s[3]/i,o=s[4],a=s[5],u=s[6],l=s[7],c=e*o+n*a+r*u+h*l;t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=(o-e*c)/i,t[5]=(a-n*c)/i,t[6]=(u-r*c)/i,t[7]=(l-h*c)/i}return t},lr=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},cr=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]},fr=function(t,i){var e=t[0],n=t[1],r=t[2],h=t[3],o=t[4],a=t[5],u=t[6],l=t[7],c=i[0],f=i[1],d=i[2],p=i[3],m=i[4],g=i[5],y=i[6],w=i[7];return Math.abs(e-c)<=s*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(n-f)<=s*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=s*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(h-p)<=s*Math.max(1,Math.abs(h),Math.abs(p))&&Math.abs(o-m)<=s*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-g)<=s*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(u-y)<=s*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(l-w)<=s*Math.max(1,Math.abs(l),Math.abs(w))},dr=function(){var t=new i(2);return i!=Float32Array&&(t[0]=0,t[1]=0),t},pr=function(t){var s=new i(2);return s[0]=t[0],s[1]=t[1],s},mr=function(t,s){var e=new i(2);return e[0]=t,e[1]=s,e},gr=function(t,s){return t[0]=s[0],t[1]=s[1],t},yr=function(t,s,i){return t[0]=s,t[1]=i,t},wr=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t},Mr=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t},Sr=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t},Tr=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t},br=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t},vr=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t},xr=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t},Ir=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t},Gr=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t},Cr=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t},_r=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t},Ar=function(t,s){var i=s[0]-t[0],e=s[1]-t[1];return Math.hypot(i,e)},Er=function(t,s){var i=s[0]-t[0],e=s[1]-t[1];return i*i+e*e},Dr=function(t){var s=t[0],i=t[1];return Math.hypot(s,i)},Nr=function(t){var s=t[0],i=t[1];return s*s+i*i},Lr=function(t,s){return t[0]=-s[0],t[1]=-s[1],t},Or=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t},Rr=function(t,s){var i=s[0],e=s[1],n=i*i+e*e;return n>0&&(n=1/Math.sqrt(n)),t[0]=s[0]*n,t[1]=s[1]*n,t},Pr=function(t,s){return t[0]*s[0]+t[1]*s[1]},kr=function(t,s,i){var e=s[0]*i[1]-s[1]*i[0];return t[0]=t[1]=0,t[2]=e,t},Fr=function(t,s,i,e){var n=s[0],r=s[1];return t[0]=n+e*(i[0]-n),t[1]=r+e*(i[1]-r),t},jr=function(t,s){s=s||1;var i=2*e()*Math.PI;return t[0]=Math.cos(i)*s,t[1]=Math.sin(i)*s,t},zr=function(t,s,i){var e=s[0],n=s[1];return t[0]=i[0]*e+i[2]*n,t[1]=i[1]*e+i[3]*n,t},Br=function(t,s,i){var e=s[0],n=s[1];return t[0]=i[0]*e+i[2]*n+i[4],t[1]=i[1]*e+i[3]*n+i[5],t},Ur=function(t,s,i){var e=s[0],n=s[1];return t[0]=i[0]*e+i[3]*n+i[6],t[1]=i[1]*e+i[4]*n+i[7],t},Wr=function(t,s,i){var e=s[0],n=s[1];return t[0]=i[0]*e+i[4]*n+i[12],t[1]=i[1]*e+i[5]*n+i[13],t},Vr=function(t,s,i,e){var n=s[0]-i[0],r=s[1]-i[1],h=Math.sin(e),o=Math.cos(e);return t[0]=n*o-r*h+i[0],t[1]=n*h+r*o+i[1],t},Yr=function(t,s){var i=t[0],e=t[1],n=s[0],r=s[1],h=Math.sqrt((i*i+e*e)*(n*n+r*r)),o=h&&(i*n+e*r)/h;return Math.acos(Math.min(Math.max(o,-1),1))},Qr=function(t){return t[0]=0,t[1]=0,t},Jr=function(t){return"vec2("+t[0]+", "+t[1]+")"},Hr=function(t,s){return t[0]===s[0]&&t[1]===s[1]},qr=function(t,i){var e=t[0],n=t[1],r=i[0],h=i[1];return Math.abs(e-r)<=s*Math.max(1,Math.abs(e),Math.abs(r))&&Math.abs(n-h)<=s*Math.max(1,Math.abs(n),Math.abs(h))};s=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,e=Math.random,n="zyx",r=Math.PI/180,Math.hypot||(Math.hypot=function(){for(var t=0,s=arguments.length;s--;)t+=arguments[s]*arguments[s];return Math.sqrt(t)}),h={__proto__:null,EPSILON:s,get i(){return i},h:e,o:n,u:_t,l:At,equals:Et},o=Bt,a=Xt,u=Object.freeze({__proto__:null,create:Dt,clone:Nt,m:Lt,identity:Ot,M:Rt,set:Pt,S:kt,T:Ft,v:jt,I:zt,multiply:Bt,rotate:Ut,scale:Wt,G:Vt,C:Yt,_:Qt,A:Jt,D:Ht,add:qt,N:Xt,L:Zt,equals:Kt,O:$t,R:ts,mul:o,sub:a}),l=us,c=Ms,f=Object.freeze({__proto__:null,create:ss,clone:is,m:es,identity:ns,M:rs,set:hs,T:os,I:as,multiply:us,rotate:ls,scale:cs,translate:fs,G:ds,C:ps,P:ms,_:gs,A:ys,add:ws,N:Ms,O:Ss,R:Ts,L:bs,equals:vs,mul:l,sub:c}),d=Rs,p=qs,m=Object.freeze({__proto__:null,create:xs,F:Is,clone:Gs,m:Cs,M:_s,set:As,identity:Es,S:Ds,T:Ns,v:Ls,I:Os,multiply:Rs,translate:Ps,rotate:ks,scale:Fs,P:js,G:zs,C:Bs,j:Us,B:Ws,U:Vs,W:Ys,_:Qs,A:Js,add:Hs,N:qs,O:Xs,R:Zs,L:Ks,equals:$s,mul:d,sub:p}),g=Li,y=Pi,w=li,M=Wi,S=Object.freeze({__proto__:null,create:ti,clone:si,m:ii,M:ei,set:ni,identity:ri,S:hi,T:oi,v:ai,I:ui,multiply:li,translate:ci,scale:fi,rotate:di,V:pi,Y:mi,J:gi,P:yi,C:wi,G:Mi,H:Si,X:Ti,Z:bi,K:vi,$:xi,tt:Ii,st:Gi,it:Ci,et:_i,nt:Ai,rt:Ei,B:Di,ht:Ni,ot:Li,perspective:g,ut:Oi,lt:Ri,ct:Pi,ft:y,dt:ki,gt:Fi,yt:ji,_:zi,A:Bi,add:Ui,N:Wi,O:Vi,R:Yi,L:Qi,equals:Ji,mul:w,sub:M}),T=se,b=ie,v=ee,x=ce,I=fe,G=Xi,C=de,t=Hi(),_=function(s,i,e,n,r,h){var o,a;for(i||(i=3),e||(e=0),a=n?Math.min(n*i+e,s.length):s.length,o=e;o<a;o+=i)t[0]=s[o],t[1]=s[o+1],t[2]=s[o+2],r(t,t,h),s[o]=t[0],s[o+1]=t[1],s[o+2]=t[2];return s},A=Object.freeze({__proto__:null,create:Hi,clone:qi,length:Xi,M:Zi,m:Ki,set:$i,add:te,N:se,multiply:ie,wt:ee,ceil:ne,floor:re,min:he,max:oe,round:ae,scale:ue,Mt:le,St:ce,Tt:fe,bt:de,vt:pe,inverse:me,normalize:ge,xt:ye,It:we,Gt:Me,Ct:Se,_t:Te,At:be,random:ve,Et:xe,Dt:Ie,Nt:Ge,V:Ce,Y:_e,J:Ae,angle:Ee,Lt:De,_:Ne,L:Le,equals:Oe,sub:T,mul:b,div:v,Ot:x,Rt:I,Pt:G,kt:C,forEach:_}),E=Be,D=Ue,N=We,L=Ze,O=Ke,R=$e,P=tn,k=function(){var t=Re();return function(s,i,e,n,r,h){var o,a;for(i||(i=4),e||(e=0),a=n?Math.min(n*i+e,s.length):s.length,o=e;o<a;o+=i)t[0]=s[o],t[1]=s[o+1],t[2]=s[o+2],t[3]=s[o+3],r(t,t,h),s[o]=t[0],s[o+1]=t[1],s[o+2]=t[2],s[o+3]=t[3];return s}}(),F=Object.freeze({__proto__:null,create:Re,clone:Pe,M:ke,m:Fe,set:je,add:ze,N:Be,multiply:Ue,wt:We,ceil:Ve,floor:Ye,min:Qe,max:Je,round:He,scale:qe,Mt:Xe,St:Ze,Tt:Ke,length:$e,bt:tn,vt:sn,inverse:en,normalize:nn,xt:rn,It:hn,Gt:on,random:an,Et:un,Nt:ln,Lt:cn,_:fn,L:dn,equals:pn,sub:E,mul:D,div:N,Ot:L,Rt:O,Pt:R,kt:P,forEach:k}),j=Pe,z=ke,B=Fe,U=je,W=ze,V=Sn,Y=qe,Q=rn,J=on,q=H=$e,Z=X=tn,K=nn,$=dn,tt=function(){var t=Hi(),s=Zi(1,0,0),i=Zi(0,1,0);return function(e,n,r){var h=ye(n,r);return h<-.999999?(we(t,s,n),G(t)<1e-6&&we(t,i,n),ge(t,t),yn(e,t,Math.PI),e):h>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(we(t,n,r),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=1+h,K(e,e))}}(),st=function(){var t=mn(),s=mn();return function(i,e,n,r,h,o){return _n(t,e,h,o),_n(s,n,r,o),_n(i,t,s,2*o*(1-o)),i}}(),it=function(){var t=xs();return function(s,i,e,n){return t[0]=e[0],t[3]=e[1],t[6]=e[2],t[1]=n[0],t[4]=n[1],t[7]=n[2],t[2]=-i[0],t[5]=-i[1],t[8]=-i[2],K(s,Nn(s,t))}}(),et=Object.freeze({__proto__:null,create:mn,identity:gn,Ft:yn,jt:wn,zt:Mn,multiply:Sn,V:Tn,Y:bn,J:vn,Bt:xn,exp:In,Ut:Gn,pow:Cn,Ct:_n,random:An,T:En,Wt:Dn,Vt:Nn,Yt:Ln,_:On,clone:j,M:z,m:B,set:U,add:W,mul:V,scale:Y,xt:Q,Gt:J,length:H,Pt:q,bt:X,kt:Z,normalize:K,L:$,equals:Rn,Qt:tt,Jt:st,Ht:it}),nt=B,rt=B,ht=nr,ot=Q,ut=at=H,ct=lt=X,ft=Object.freeze({__proto__:null,create:Pn,clone:kn,M:Fn,qt:jn,K:zn,P:Bn,G:Un,F:Wn,m:Vn,identity:Yn,set:Qn,Xt:nt,Zt:Jn,Kt:rt,$t:Hn,tt:qn,translate:Xn,V:Zn,Y:Kn,J:$n,ts:tr,ss:sr,es:ir,add:er,multiply:nr,mul:ht,scale:rr,xt:ot,Gt:hr,T:or,Wt:ar,length:at,Pt:ut,bt:lt,kt:ct,normalize:ur,_:lr,L:cr,equals:fr}),dt=Dr,pt=Mr,mt=Sr,gt=Tr,yt=Ar,wt=Er,Mt=Nr,St=function(){var t=dr();return function(s,i,e,n,r,h){var o,a;for(i||(i=2),e||(e=0),a=n?Math.min(n*i+e,s.length):s.length,o=e;o<a;o+=i)t[0]=s[o],t[1]=s[o+1],r(t,t,h),s[o]=t[0],s[o+1]=t[1];return s}}(),Tt=Object.freeze({__proto__:null,create:dr,clone:pr,M:mr,m:gr,set:yr,add:wr,N:Mr,multiply:Sr,wt:Tr,ceil:br,floor:vr,min:xr,max:Ir,round:Gr,scale:Cr,Mt:_r,St:Ar,Tt:Er,length:Dr,bt:Nr,vt:Lr,inverse:Or,normalize:Rr,xt:Pr,It:kr,Gt:Fr,random:jr,ns:zr,rs:Br,Dt:Ur,Et:Wr,rotate:Vr,angle:Yr,Lt:Qr,_:Jr,L:Hr,equals:qr,Pt:dt,sub:pt,mul:mt,div:gt,Ot:yt,Rt:wt,kt:Mt,forEach:St}),globalThis.hs=h,globalThis.hs.us=u,globalThis.hs.ls=f,globalThis.hs.cs=m,globalThis.hs.fs=S,globalThis.hs.ds=et,globalThis.hs.ps=ft,globalThis.hs.gs=Tt,globalThis.hs.ys=A,globalThis.hs.ws=F}{let Xr=function(t,s,i){i=i||0;var e,n,r,h,o,a,u,l=[0,0];return e=t[1][1]-t[0][1],n=t[0][0]-t[1][0],r=e*t[0][0]+n*t[0][1],h=s[1][1]-s[0][1],o=s[0][0]-s[1][0],a=h*s[0][0]+o*s[0][1],bh(u=e*o-h*n,0,i)||(l[0]=(o*r-n*a)/u,l[1]=(e*a-h*r)/u),l},Zr=function(t,s,i,e){var n=s[0]-t[0],r=s[1]-t[1],h=e[0]-i[0],o=e[1]-i[1];if(h*r-o*n==0)return!1;var a=(n*(i[1]-t[1])+r*(t[0]-i[0]))/(h*r-o*n),u=(h*(t[1]-i[1])+o*(i[0]-t[0]))/(o*n-h*r);return a>=0&&a<=1&&u>=0&&u<=1},Kr=function(t,s,i){return(s[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(s[1]-t[1])},$r=function(t,s,i){return Kr(t,s,i)>0},th=function(t,s,i){return Kr(t,s,i)>=0},sh=function(t,s,i){return Kr(t,s,i)<0},ih=function(t,s,i){return Kr(t,s,i)<=0},eh=function(t,s,i,e){if(e){var n=bt,r=vt;n[0]=s[0]-t[0],n[1]=s[1]-t[1],r[0]=i[0]-s[0],r[1]=i[1]-s[1];var h=n[0]*r[0]+n[1]*r[1],o=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=Math.sqrt(r[0]*r[0]+r[1]*r[1]);return Math.acos(h/(o*a))<e}return 0===Kr(t,s,i)},nh=function(t,s){var i=s[0]-t[0],e=s[1]-t[1];return i*i+e*e},rh=function(t,s){var i=t.length;return t[s<0?s%i+i:s%i]},hh=function(t){t.length=0},oh=function(t,s,i,e){for(var n=i;n<e;n++)t.push(s[n])},ah=function(t){for(var s=0,i=t,e=1;e<t.length;++e)(i[e][1]<i[s][1]||i[e][1]===i[s][1]&&i[e][0]>i[s][0])&&(s=e);return!$r(rh(t,s-1),rh(t,s),rh(t,s+1))&&(uh(t),!0)},uh=function(t){for(var s=[],i=t.length,e=0;e!==i;e++)s.push(t.pop());for(e=0;e!==i;e++)t[e]=s[e]},lh=function(t,s){return sh(rh(t,s-1),rh(t,s),rh(t,s+1))},ch=function(t,s,i){var e,n,r=xt,h=It;if(th(rh(t,s+1),rh(t,s),rh(t,i))&&ih(rh(t,s-1),rh(t,s),rh(t,i)))return!1;n=nh(rh(t,s),rh(t,i));for(var o=0;o!==t.length;++o)if((o+1)%t.length!==s&&o!==s&&th(rh(t,s),rh(t,i),rh(t,o+1))&&ih(rh(t,s),rh(t,i),rh(t,o))&&(r[0]=rh(t,s),r[1]=rh(t,i),h[0]=rh(t,o),h[1]=rh(t,o+1),e=Xr(r,h),nh(rh(t,s),e)<n))return!1;return!0},fh=function(t,s,i){for(var e=0;e!==t.length;++e)if(e!==s&&e!==i&&(e+1)%t.length!==s&&(e+1)%t.length!==i&&Zr(rh(t,s),rh(t,i),rh(t,e),rh(t,e+1)))return!1;return!0},dh=function(t,s,i,e){var n=e||[];if(hh(n),s<i)for(var r=s;r<=i;r++)n.push(t[r]);else{for(r=0;r<=i;r++)n.push(t[r]);for(r=s;r<t.length;r++)n.push(t[r])}return n},ph=function(t){for(var s=[],i=[],e=[],n=[],r=Number.MAX_VALUE,h=0;h<t.length;++h)if(lh(t,h))for(var o=0;o<t.length;++o)if(ch(t,h,o)){i=ph(dh(t,h,o,n)),e=ph(dh(t,o,h,n));for(var a=0;a<e.length;a++)i.push(e[a]);i.length<r&&(s=i,r=i.length,s.push([rh(t,h),rh(t,o)]))}return s},mh=function(t){var s=ph(t);return s.length>0?gh(t,s):[t]},gh=function(t,s){if(0===s.length)return[t];if(s instanceof Array&&s.length&&s[0]instanceof Array&&2===s[0].length&&s[0][0]instanceof Array){for(var i=[t],e=0;e<s.length;e++)for(var n=s[e],r=0;r<i.length;r++){var h=gh(i[r],n);if(h){i.splice(r,1),i.push(h[0],h[1]);break}}return i}return n=s,e=t.indexOf(n[0]),r=t.indexOf(n[1]),-1!==e&&-1!==r&&[dh(t,e,r),dh(t,r,e)]},yh=function(t){var s,i=t;for(s=0;s<i.length-1;s++)for(var e=0;e<s-1;e++)if(Zr(i[s],i[s+1],i[e],i[e+1]))return!1;for(s=1;s<i.length-2;s++)if(Zr(i[0],i[i.length-1],i[s],i[s+1]))return!1;return!0},wh=function(t,s,i,e,n){n=n||0;var r=s[1]-t[1],h=t[0]-s[0],o=r*t[0]+h*t[1],a=e[1]-i[1],u=i[0]-e[0],l=a*i[0]+u*i[1],c=r*u-a*h;return bh(c,0,n)?[0,0]:[(u*o-h*l)/c,(r*l-a*o)/c]},Mh=function(t,s,i,e,n,r,h){r=r||100,h=h||0,n=n||25,s=void 0!==s?s:[],i=i||[],e=e||[];var o=[0,0],a=[0,0],u=[0,0],l=0,c=0,f=0,d=0,p=0,m=0,g=0,y=[],w=[],M=t,S=t;if(S.length<3)return s;if(++h>r)return console.warn("quickDecomp: max level ("+r+") reached."),s;for(var T=0;T<t.length;++T)if(lh(M,T)){i.push(M[T]),l=c=Number.MAX_VALUE;for(var b=0;b<t.length;++b)$r(rh(M,T-1),rh(M,T),rh(M,b))&&ih(rh(M,T-1),rh(M,T),rh(M,b-1))&&(u=wh(rh(M,T-1),rh(M,T),rh(M,b),rh(M,b-1)),sh(rh(M,T+1),rh(M,T),u)&&(f=nh(M[T],u))<c&&(c=f,a=u,m=b)),$r(rh(M,T+1),rh(M,T),rh(M,b+1))&&ih(rh(M,T+1),rh(M,T),rh(M,b))&&(u=wh(rh(M,T+1),rh(M,T),rh(M,b),rh(M,b+1)),$r(rh(M,T-1),rh(M,T),u)&&(f=nh(M[T],u))<l&&(l=f,o=u,p=b));if(m===(p+1)%t.length)u[0]=(a[0]+o[0])/2,u[1]=(a[1]+o[1])/2,e.push(u),T<p?(oh(y,M,T,p+1),y.push(u),w.push(u),0!==m&&oh(w,M,m,M.length),oh(w,M,0,T+1)):(0!==T&&oh(y,M,T,M.length),oh(y,M,0,p+1),y.push(u),w.push(u),oh(w,M,m,T+1));else{if(m>p&&(p+=t.length),d=Number.MAX_VALUE,p<m)return s;for(b=m;b<=p;++b)th(rh(M,T-1),rh(M,T),rh(M,b))&&ih(rh(M,T+1),rh(M,T),rh(M,b))&&(f=nh(rh(M,T),rh(M,b)))<d&&fh(M,T,b)&&(d=f,g=b%t.length);T<g?(oh(y,M,T,g+1),0!==g&&oh(w,M,g,S.length),oh(w,M,0,T+1)):(0!==T&&oh(y,M,T,S.length),oh(y,M,0,g+1),oh(w,M,g,T+1))}return y.length<w.length?(Mh(y,s,i,e,n,r,h),Mh(w,s,i,e,n,r,h)):(Mh(w,s,i,e,n,r,h),Mh(y,s,i,e,n,r,h)),s}return s.push(t),s},Sh=function(t,s){for(var i=0,e=t.length-1;t.length>3&&e>=0;--e)eh(rh(t,e-1),rh(t,e),rh(t,e+1),s)&&(t.splice(e%t.length,1),i++);return i},Th=function(t,s){for(var i=t.length-1;i>=1;--i)for(var e=t[i],n=i-1;n>=0;--n)vh(e,t[n],s)&&t.splice(i,1)},bh=function(t,s,i){return i=i||0,Math.abs(t-s)<=i},vh=function(t,s,i){return bh(t[0],s[0],i)&&bh(t[1],s[1],i)};bt=[],vt=[],xt=[],It=[],self.Ms={Ss:mh,Ts:Mh,bs:yh,vs:Sh,xs:Th,Is:ah}}{let xh=!1,Ih=!1,Gh="dev";const Ch=Symbol("Construct internal API token");let _h=16;const Ah=self.Gs=class{constructor(){throw TypeError("static class can't be instantiated")}static Cs(){if(_h<=0)throw new Error("cannot obtain internal API token");return--_h,Ch}static _s(){xh=!0}static As(){return xh}static Es(){Ih=!0}static Ds(){return Ih}static Ns(t){Gh=t}static Ls(){return Gh}static Os(){return"final"===Gh}};Ah.Rs=!1,Ah.Ps=!1,Ah.hardwareConcurrency=navigator.hardwareConcurrency||2,self.ks={}}{const Eh=self.Gs;Eh.Fs=class{constructor(t){this.js=t,this.zs=new Map,this.Bs()}Bs(){let t=this.js;(t.startsWith("?")||t.startsWith("#"))&&(t=t.substr(1));const s=t.split("&");for(const t of s)this.Us(t)}Us(t){if(!t)return;if(!t.includes("="))return void this.zs.set(t,null);const s=t.indexOf("="),i=decodeURIComponent(t.substring(0,s)),e=decodeURIComponent(t.substring(s+1));this.zs.set(i,e)}Ws(){for(const t of this.zs)console.log("[QueryParser] Parameter '"+t[0]+"' = "+(null===t[1]?"null":"'"+t[1]+"'"))}Vs(t){return this.zs.has(t)}Ys(t){const s=this.zs.get(t);return void 0===s?null:s}Qs(){history.replaceState("",document.title,location.pathname+location.search)}Js(t){this.js=t,this.zs.clear(),this.Bs()}},Eh.Hs=new Eh.Fs(location.search),Eh.qs=new Eh.Fs(location.hash),Eh.Hs.Vs("perf")&&(Eh.Xs=!0),"dev"!==Eh.Hs.Ys("mode")&&Eh.Ns("final")}{let Dh=function(t){const s=parseFloat(t);return Oh.get(s)||(s>=13?"11":"NT "+t)};0;const Nh=self.Gs,Lh="(unknown)";Nh.Zs={Ks:Lh,$s:Lh,ti:Lh,si:Lh,ii:NaN,ei:Lh,ni:"browser",ri:!0,hi:!1,oi:!1,ai:!1,li:async()=>{}};const Oh=new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]]),Rh=navigator.userAgent,Ph=navigator.userAgentData;if(Ph&&Ph.brands.length>0){let kh=function(t){let s="",i="",e="",n="";for(const r of t){const t=Fh.get(r.brand);!s&&t&&(s=t,i=r.version);const h=jh.get(r.brand);!e&&h&&(e=h,n=r.version)}s||"Chromium"!==e||(Nh.Zs.ti="Chromium",Nh.Zs.si=n),Nh.Zs.ti=s||Lh,Nh.Zs.si=i||Lh,Nh.Zs.ei=e||Lh};Nh.Zs.Ks=Ph.platform,Nh.Zs.hi=Ph.mobile,Nh.Zs.ri=!Nh.Zs.hi;const Fh=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),jh=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);kh(Ph.brands);let zh=!1;Nh.Zs.li=async()=>{if(!zh)try{const t=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);kh(t.fullVersionList),"Windows"===Nh.Zs.Ks?Nh.Zs.$s=Dh(t.platformVersion):Nh.Zs.$s=t.platformVersion,zh=!0}catch(t){console.warn("Failed to get detailed user agent information: ",t)}}}else{let Bh=function(t,s){const i=Array.isArray(t)?t:[t];for(const t of i){const i=t.exec(Rh);if(i){s(i);break}}};Bh(/windows\s+nt\s+([\d\.]+)/i,(t=>{Nh.Zs.Ks="Windows";const s=t[1];Nh.Zs.$s=Dh(s)})),Bh(/mac\s+os\s+x\s+([\d\._]+)/i,(t=>{Nh.Zs.Ks="macOS",Nh.Zs.$s=t[1].replace(/_/g,".")})),Bh(/CrOS/,(()=>{Nh.Zs.Ks="Chrome OS"})),Bh(/linux|openbsd|freebsd|netbsd/i,(()=>{Nh.Zs.Ks="Linux"})),Bh(/android/i,(()=>{Nh.Zs.Ks="Android"})),Bh(/android\s+([\d\.]+)/i,(t=>{Nh.Zs.Ks="Android",Nh.Zs.$s=t[1]})),Nh.Zs.Ks===Lh&&(Bh(/(iphone|ipod|ipad)/i,(t=>{Nh.Zs.Ks="iOS"})),Bh([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],(t=>{Nh.Zs.Ks="iOS",Nh.Zs.$s=t[1].replace(/_/g,".")})));const Uh=/chrome\//i.test(Rh),Wh=/chromium\//i.test(Rh),Vh=/edg\//i.test(Rh),Yh=/OPR\//.test(Rh),Qh=/nwjs/i.test(Rh),Jh=/safari\//i.test(Rh),Hh=/webkit/i.test(Rh);Vh||Yh||Bh(/chrome\/([\d\.]+)/i,(t=>{Nh.Zs.ti="Chrome",Nh.Zs.si=t[1],Nh.Zs.ei="Chromium"})),Bh(/edg\/([\d\.]+)/i,(t=>{Nh.Zs.ti="Edge",Nh.Zs.si=t[1],Nh.Zs.ei="Chromium"})),Bh(/OPR\/([\d\.]+)/,(t=>{Nh.Zs.ti="Opera",Nh.Zs.si=t[1],Nh.Zs.ei="Chromium"})),Bh(/chromium\/([\d\.]+)/i,(t=>{Nh.Zs.ti="Chromium",Nh.Zs.si=t[1],Nh.Zs.ei="Chromium"})),Bh(/nwjs\/[0-9.]+/i,(t=>{Nh.Zs.ti="NW.js",Nh.Zs.si=t[1],Nh.Zs.ei="Chromium",Nh.Zs.ni="nwjs"})),Bh(/firefox\/([\d\.]+)/i,(t=>{Nh.Zs.ti="Firefox",Nh.Zs.si=t[1],Nh.Zs.ei="Gecko"})),!Jh||Uh||Wh||Vh||Yh||Qh||(Nh.Zs.ti="Safari",Nh.Zs.ei="WebKit",Bh(/version\/([\d\.]+)/i,(t=>{Nh.Zs.si=t[1]})),Bh(/crios\/([\d\.]+)/i,(t=>{Nh.Zs.ti="Chrome for iOS",Nh.Zs.si=t[1]})),Bh(/fxios\/([\d\.]+)/i,(t=>{Nh.Zs.ti="Firefox for iOS",Nh.Zs.si=t[1]})),Bh(/edgios\/([\d\.]+)/i,(t=>{Nh.Zs.ti="Edge for iOS",Nh.Zs.si=t[1]}))),Nh.Zs.ei===Lh&&Hh&&(Nh.Zs.ei="WebKit"),"Android"===Nh.Zs.Ks&&"Safari"===Nh.Zs.ti&&(Nh.Zs.ti="Stock");const qh=new Set(["Windows","macOS","Linux","Chrome OS"]).has(Nh.Zs.Ks)||"nwjs"===Nh.Zs.ni;Nh.Zs.ri=qh,Nh.Zs.hi=!qh}"Chrome"===Nh.Zs.ti&&"browser"===Nh.Zs.ni&&/wv\)/.test(Rh)&&(Nh.Zs.ni="webview"),"nwjs"!==Nh.Zs.ni&&"undefined"!=typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(Nh.Zs.ni="webapp"),Nh.Zs.ii=parseFloat(Nh.Zs.si);"macOS"===Nh.Zs.Ks&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&(Nh.Zs.Ks="iOS",Nh.Zs.$s=Nh.Zs.si,Nh.Zs.ri=!1,Nh.Zs.hi=!0,Nh.Zs.ai=!0),Nh.Zs.oi="macOS"===Nh.Zs.Ks||"iOS"===Nh.Zs.Ks}{let Xh=function(t){return new Promise(((s,i)=>{t.onsuccess=()=>s(t.result),t.onerror=()=>i(t.error)}))},Zh=function(t){return new Promise(((s,i)=>{t.oncomplete=()=>s(),t.onerror=()=>i(t.error),t.onabort=()=>i(t.error)}))},Kh=function(t,s){return ao(t,s)},$h=function(t,s){return ao(t,s,!0)},to=function(t){so(t);let s=ro.get(t);return s instanceof Promise||(s=uo(t),ro.set(t,s),s.catch((s=>ro.delete(t)))),s},so=function(t){if("string"!=typeof t)throw new TypeError("expected string")},io=function(t,s){const i=t.objectStore(no).openCursor();return new Promise((t=>{const e=[];i.onsuccess=i=>{const n=i.target.result;if(n){switch(s){case"entries":e.push([n.key,n.value]);break;case"keys":e.push(n.key);break;case"values":e.push(n.value)}n.continue()}else t(e)}}))};0;const eo=2,no="keyvaluepairs",ro=new Map,ho="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAll,oo="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAllKeys;async function ao(t,s,i=!1,e=!0){const n=await to(t);try{return s(n.transaction([no],i?"readwrite":"readonly"))}catch(n){if(e&&"InvalidStateError"===n.name)return ro.delete(t),ao(t,s,i,!1);throw n}}async function uo(t){so(t);const s=indexedDB.open(t,eo);return s.addEventListener("upgradeneeded",(s=>{try{s.target.result.createObjectStore(no)}catch(s){console.error(`Failed to create objectstore for database ${t}`,s)}})),Xh(s)}class lo{constructor(t){so(t),this.name=t}async ready(){await to(this.name)}set(t,s){return so(t),$h(this.name,(async i=>{const e=Xh(i.objectStore(no).put(s,t)),n=Zh(i);await Promise.all([n,e])}))}get(t){return so(t),Kh(this.name,(async s=>{const i=Xh(s.objectStore(no).get(t)),e=Zh(s),[n,r]=await Promise.all([e,i]);return r}))}delete(t){return so(t),$h(this.name,(async s=>{const i=Xh(s.objectStore(no).delete(t)),e=Zh(s);await Promise.all([e,i])}))}clear(){return $h(this.name,(async t=>{const s=Xh(t.objectStore(no).clear()),i=Zh(t);await Promise.all([i,s])}))}keys(){return Kh(this.name,(async t=>{let s;s=oo?Xh(t.objectStore(no).getAllKeys()):io(t,"keys");const i=Zh(t),[e,n]=await Promise.all([i,s]);return n}))}values(){return Kh(this.name,(async t=>{let s;s=ho?Xh(t.objectStore(no).getAll()):io(t,"values");const i=Zh(t),[e,n]=await Promise.all([i,s]);return n}))}entries(){return Kh(this.name,(async t=>{const s=io(t,"entries"),i=Zh(t),[e,n]=await Promise.all([i,s]);return n}))}}self.ci=lo}{let co=function(t){throw new Error(`"${t}" is not implemented`)},fo=function(t){if("function"==typeof t)throw new Error("localforage callback API is not implemented; please use the promise API instead")},po=function(t){return"object"==typeof t?new Promise((s=>{const{port1:i,port2:e}=new MessageChannel;e.onmessage=t=>s(t.data),i.postMessage(t)})):Promise.resolve(t)};0;const mo=self.ci,go=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i];class yo{constructor(t){this.fi=t,this.di=!this.fi,this.di||"undefined"!=typeof indexedDB||(this.di=!0,console.warn("Unable to use local storage because IndexedDB API is not available")),this.pi=new Map}mi(t){if(!this.di)for(const s of go)if(t&&s.test(t.message)){console.error("Unable to use local storage, reverting to in-memory store: ",t,t.message),this.di=!0;break}}async gi(t){const s=this.pi.get(t),i=await po(s);return void 0===i?null:i}async yi(t,s){s=await po(s),this.pi.set(t,s)}wi(t){this.pi.delete(t)}Mi(){this.pi.clear()}Si(){return Array.from(this.pi.keys())}Ti(){return this.di}bi(){return this.pi}xi(t){this.pi=t}async getItem(t,s){if(fo(s),this.di)return await this.gi(t);let i;try{i=await this.fi.get(t)}catch(s){return this.mi(s),this.di?await this.gi(t):(console.error(`Error reading '${t}' from storage, returning null: `,s),null)}return void 0===i?null:i}async setItem(t,s,i){if(fo(i),void 0===s&&(s=null),this.di)await this.yi(t,s);else try{await this.fi.set(t,s)}catch(i){if(this.mi(i),!this.di)throw i;await this.yi(t,s)}}async removeItem(t,s){if(fo(s),this.di)this.wi(t);else try{await this.fi.delete(t)}catch(s){this.mi(s),this.di?this.wi(t):console.error(`Error removing '${t}' from storage: `,s)}}async clear(t){if(fo(t),this.di)this.Mi();else try{await this.fi.clear()}catch(t){this.mi(t),this.di?this.Mi():console.error("Error clearing storage: ",t)}}async keys(t){if(fo(t),this.di)return this.Si();let s=[];try{s=await this.fi.keys()}catch(t){if(this.mi(t),this.di)return this.Si();console.error("Error getting storage keys: ",t)}return s}ready(t){return fo(t),this.di?Promise.resolve(!0):this.fi.ready()}Ii(t){if(t.Gi)return new yo(null);{const s=t.name;if("string"!=typeof s)throw new TypeError("invalid store name");const i=new mo(s);return new yo(i)}}length(t){co("localforage.length()")}key(t,s){co("localforage.key()")}iterate(t,s){co("localforage.iterate()")}Ci(t){co("localforage.setDriver()")}config(t){co("localforage.config()")}_i(t){co("localforage.defineDriver()")}Ai(){co("localforage.driver()")}supports(t){co("localforage.supports()")}dropInstance(){co("localforage.dropInstance()")}}self.localforage=new yo(new mo("localforage"))}{const wo=self.Gs;if(wo.Ei={},wo.Ei.Di=(()=>{try{if("undefined"==typeof document)return!1;const t=document.createElement("div");return void 0!==t.animate&&void 0!==t.animate([{opacity:"0"},{opacity:"1"}],1e3).reverse}catch(t){return!1}})(),wo.Ei.Ni="undefined"!=typeof HTMLDialogElement,wo.Ei.Li=!!self.requestIdleCallback,wo.Ei.ImageBitmap=!!self.createImageBitmap,wo.Ei.ImageBitmapOptions=!1,wo.Ei.Oi=!1,wo.Ei.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then((()=>{wo.Ei.ImageBitmapOptions=!0})).catch((()=>{wo.Ei.ImageBitmapOptions=!1}))}catch(Mo){wo.Ei.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then((t=>{wo.Ei.Oi=10===t.width&&10===t.height})).catch((()=>{wo.Ei.Oi=!1}))}catch(So){wo.Ei.Oi=!1}}if(wo.Ei.Ri=!(!navigator.clipboard||!navigator.clipboard.readText),wo.Ei.Pi=!(!navigator.permissions||!navigator.permissions.query),wo.Ei.ki=!1,wo.Ei.Pi){const To={name:"clipboard-read"};navigator.permissions.query(To).then((()=>{wo.Ei.ki=!0})).catch((()=>{wo.Ei.ki=!1}))}wo.Ei.Fi=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem),wo.Ei.ji="undefined"!=typeof Proxy,wo.Ei.zi="undefined"!=typeof document&&void 0!==document.createElement("a").download,wo.Ei.Bi="function"==typeof fetch,wo.Ei.Ui=!!(self.isSecureContext&&"Opera"!==wo.Zs.ti&&navigator.storage&&navigator.storage.persist),wo.Ei.Wi=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate),wo.Ei.Vi=(()=>{if("undefined"==typeof document)return!1;if("iOS"===wo.Zs.Ks)return!1;const t=document.documentElement;return!!(t.requestFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen)})(),wo.Ei.ImageDecoder=void 0!==self.ImageDecoder,wo.Ei.Yi=!!self.VideoEncoder,wo.Ei.Qi=!!self.showOpenFilePicker,wo.Ei.Ji=!!self.queryLocalFonts,wo.Ei.UserActivation=!!navigator.userActivation,wo.Ei.Hi=!1,(async()=>{let t;"undefined"==typeof document?t=new OffscreenCanvas(32,32):(t=document.createElement("canvas"),t.width=32,t.height=32);const s=t.getContext("2d");s.fillStyle="blue",s.fillRect(0,0,32,32);let i=null;try{t.convertToBlob?i=await t.convertToBlob({type:"image/webp",quality:1}):t.toBlob&&(i=await new Promise((s=>t.toBlob(s,"image/webp",1)))),wo.Ei.Hi=i&&"image/webp"===i.type}catch(t){wo.Ei.Hi=!1}})()}{const bo=self.Gs;if(!String.prototype.trimStart){const vo=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(vo,"")}}if(!String.prototype.trimEnd){const xo=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(xo,"")}}if(String.prototype.replaceAll||(String.prototype.replaceAll=function(t,s){return this.replace(new RegExp(bo.Xi(t),"g"),s)}),Array.prototype.values||(Array.prototype.values=function*(){for(const t of this)yield t}),!Array.prototype.flat){let Io=function(t,s){return t.reduce(((t,i)=>s>0&&Array.isArray(i)?(Array.prototype.push.apply(t,Io(i,s-1)),t):(t.push(i),t)),[])};Array.prototype.flat=function(t=1){return Io(this,t)}}Array.prototype.at||(Array.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),String.prototype.at||(String.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),RegExp.escape||(RegExp.escape=function(t){return String(t).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}),Set.prototype.isSubsetOf||(Set.prototype.isSubsetOf=function(t){if(!(t instanceof Set))throw new TypeError("argument must be a Set");for(const s of this)if(!t.has(s))return!1;return!0}),navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise(((t,s)=>navigator.webkitTemporaryStorage.queryUsageAndQuota(((s,i)=>t({usage:s,quota:i})),s)))}),void 0===self.isSecureContext&&(self.isSecureContext="https:"===location.protocol),void 0===self.globalThis&&(self.globalThis=self)}{let Go=function(t){let s="Assertion failure: "+t+"\n\nStack trace:\n"+Co.Zi();console.error(s)};0;const Co=self.Gs;self.assert=function(t,s){t||Go(s)}}{const _o=self.Gs,Ao=self.ks;_o.Ki=function(t){return"number"==typeof t},_o.$i=function(t){return _o.Ki(t)&&isFinite(t)},_o.te=function(t){if(!_o.Ki(t))throw new TypeError("expected number")},_o.se=function(t){_o.ie(t)},_o.ee=function(t,s,i){if(!_o.Ki(t)||isNaN(t)||s>t||i<t)throw new RangeError("number outside of range")},_o.ne=function(...t){for(let s of t);},_o.re=function(t){if(!_o.$i(t))throw new TypeError("expected finite number")},_o.he=function(t){_o.ie(t)},_o.oe=function(...t){for(let s of t);},_o.ae=function(t){return"string"==typeof t},_o.ue=function(t){if(!_o.ae(t))throw new TypeError("expected string")},_o.le=function(t){_o.ie(t)},_o.ce=function(...t){for(let s of t);},_o.fe=function(t){if("object"!=typeof t||null===t)return!1;let s=Object.getPrototypeOf(t);return s?s.constructor===Object:null===s},_o.de=function(t){if(!_o.fe(t))throw new TypeError("expected simple object")},_o.pe=function(t){if(!_o.ie(t)&&!_o.fe(t))throw new TypeError("expected simple object")},_o.me=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},_o.ge=function(t){if(!_o.me(t))throw new TypeError("expected object")},_o.ye=function(t){_o.ie(t)},_o.we=function(...t){for(let s of t);},_o.Me=function(t){return _o.Se(t,Blob)&&"string"==typeof t.name},_o.Te=function(t){if(!_o.Me(t))throw new TypeError("expected file")},_o.be=function(t){_o.ie(t)},_o.ve=function(t){return Array.isArray(t)},_o.xe=function(t){if(!_o.ve(t))throw new TypeError("expected array")},_o.Ie=function(t){_o.ie(t)},_o.Ge=function(...t){for(let s of t);},_o.Ce=function(t){return!(!_o.ve(t)||t.length&&!_o.ve(t[0]))},_o._e=function(t){if(!_o.Ce(t))throw new TypeError("expected 2d array");for(let s of t)if(!_o.ve(s))throw new TypeError("expected 2d array")},_o.Ae=function(t){_o.ie(t)},_o.Ee=function(t){return"function"==typeof t},_o.De=function(t,s){if(!_o.Ee(t))throw new TypeError("expected function");if(!_o.ie(s)&&t!==s)throw new TypeError("expected same function reference")},_o.Ne=function(t){_o.ie(t)},_o.Le=function(...t){for(let s of t);},_o.Oe=function(t,...s){if(!_o.Ee(t))throw new TypeError("expected function");if(!s.length)throw new Error("missing comparison functions");for(let i of s)if(!_o.ie(i)&&t===i)return;throw new TypeError("expected same function reference")},_o.Re=function(...t){if(!_o.ie(t))for(let s of t);},_o.Pe=function(t,s){return t instanceof s},_o.ke=function(t,...s){for(let i of s)if(_o.Pe(t,i))return!0;return!1},_o.Fe=function(t,s){if(!_o.Pe(t,s))throw new TypeError("unexpected type")},_o.je=function(t,s){_o.ie(t)},_o.ze=function(t,...s){for(let t of s);},_o.Be=function(t,...s){if(!_o.ke(t,...s))throw new TypeError("unexpected type")},_o.Ue=function(t,...s){if(!_o.ie(t)&&!_o.ke(t,...s))throw new TypeError("unexpected type")},_o.We=function(t,s){for(let i of t)if(!_o.Pe(i,s))return!1;return!0},_o.Ve=function(t){for(let s of t)if(!_o.$i(s))return!1;return!0},_o.Ye=function(t,s){for(let s of t);},_o.Qe=function(t,s){if(!_o.ie(t))for(let s of t);},_o.Je=function(t,s){if(!_o.ie(t))for(let s of t);},_o.He=function(t,...s){for(let s of t);},_o.qe=function(t,...s){if(!_o.ie(t))for(let s of t);},_o.Xe=function(t,s){return!(_o.ie(t)||!_o.ae(t.nodeName))&&(!s||_o.Ze(t.nodeName,s))},_o.Ke=function(t,s){if(_o.ie(t)||!_o.ae(t.nodeName))throw new TypeError("expected DOM node");if(s&&!_o.Ze(t.nodeName,s))throw new TypeError(`expected DOM '${s}' node`)},_o.$e=function(t,s){_o.ie(t)},_o.tn=function(t,s){return!(_o.ie(t)||!_o.ae(t.tagName))&&(!s||_o.Ze(t.tagName,s))},_o.sn=function(t,s){if(_o.ie(t)||!_o.ae(t.tagName))throw new TypeError("expected HTML element");if(s&&!_o.Ze(t.tagName,s))throw new TypeError(`expected HTML '${s}' element`)},_o.en=function(t,s){_o.ie(t)},_o.nn=function(t){return _o.tn(t,"img")||_o.tn(t,"canvas")||_o.tn(t,"video")||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap},_o.rn=function(t){if(!_o.nn(t))throw new TypeError("expected drawable")},_o.hn=function(t){_o.ie(t)},_o.an=function(t){return t instanceof ImageData||_o.nn(t)},_o.un=function(t){if(!_o.an(t))throw new TypeError("expected drawable or image data")},_o.ln=function(t){if(!_o.ie(t)&&!_o.an(t))throw new TypeError("expected drawable or image data")},_o.cn=function(t){return"string"==typeof t||_o.fn&&t instanceof _o.fn||t instanceof _o.dn},_o.pn=function(t){if(!_o.cn(t))throw new TypeError("expected string-like")},_o.mn=function(t){_o.ie(t)},_o.gn=function(...t){for(let s of t);},_o.yn=function(){throw new Error("must be overridden")},_o.wn=function(){throw new Error("not yet implemented")},_o.Mn=function(t){return t.constructor===function*(){}.constructor},_o.Sn=function(t){if(!_o.Mn(t))throw new Error("expected generator function")},_o.Tn=function(t){return"function"===t[Symbol.iterator]},_o.bn=function(t){if(!_o.Tn(t))throw new Error("expected iterable")},_o.vn=function(t){return!_o.ie(t)},_o.ie=function(t){return null==t},_o.xn=function(t){let s=t[0].constructor;for(let i of t)if(i.constructor!==s)return!1;return s},_o.In=function(t,s){for(let i of t)if(!(i instanceof s))return!1;return!0};const Eo=Object.getPrototypeOf(Uint8Array);_o.Gn=function(t){return _o.Pe(t,Eo)},_o.Cn=function(t){},_o._n=function(t){_o.An(t,Eo)},_o.En=function(t,...s){if(!_o.Dn(t,...s))throw new TypeError("unexpected type")},_o.Dn=function(t,...s){for(const i of s)if(_o.Se(t,i))return!0;return!1},_o.An=function(t,s){if(!_o.Se(t,s))throw new TypeError("unexpected type")},_o.Se=function(t,s){for(;t=Object.getPrototypeOf(t);)if(t.constructor.name===s.name)return!0;return!1},Ao.te=_o.te,Ao.se=_o.se,Ao.re=_o.re,Ao.he=_o.he,Ao.ue=_o.ue,Ao.le=_o.le,Ao.ge=_o.ge,Ao.ye=_o.ye,Ao.xe=_o.xe,Ao.Ie=_o.Ie,Ao.De=_o.De,Ao.Ne=_o.Ne,Ao.Fe=_o.Fe,Ao.je=_o.je,Ao.ie=_o.ie}{let Do=function(t,s){let i=Po.getType(t),e=Po.getType(s);return"null"===i||"null"===e||"undefined"!==i&&"undefined"!==e&&i===e},No=function(t){console.warn("[Defence] "+t+" @",Po.Zi())},Lo=function(){if(Vo=-1,jo.size>0||zo.size>0){let t=[...new Set([...jo.keys()].map((t=>Po.getName(t))))].join(",");console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${t}`),jo.clear(),zo.clear()}},Oo=function(t){let s=new Set;for(let i in t)s.add(i);return s},Ro=function(t,s){let i=Oo(s),e=Yo.get(t);if(e){let s=[];for(let t of e.values())i.has(t)?i.delete(t):s.push(t);Po.Nn(s,[...i]),s.length&&console.warn(`[Defence] '${Po.getName(t)}' constructor creates inconsistent properties: ${s.join(", ")}`)}else Yo.set(t,i)};0;const Po=self.Gs,ko=new Map;let Fo;Po.Ln=function(t,s){console.log(`%c${t}`,`font-weight: bold; color:${s}`)},Po.On=function(t,...s){ko.has(t)||ko.set(t,-1),-1===ko.get(t)&&ko.set(t,requestAnimationFrame((()=>{console.log(`%c${t}`,"font-weight: bold",...s),ko.set(t,-1)})))},Po.Rn=function(t){performance.mark(t),Fo||(Fo=new Map),Fo.has(t)||Fo.set(t,{Pn:0,total:0,kn:0,Fn:1,toString:function(){return`${t} :: current => ${this.Pn.toPrecision(3)} :: average => ${this.kn.toPrecision(3)} :: calls => ${this.Fn}`}})},Po.jn=function(t){performance.measure(`measure-${t}`,t);const s=performance.getEntriesByName(`measure-${t}`)[0],i=Fo.get(t);i.Pn=s.duration,i.total+=i.Pn,i.kn=i.total/i.Fn,console.log(i.toString()),i.Fn++,performance.clearMarks(t),performance.clearMeasures(`measure-${t}`)},Po.Zi=function(){return(new Error).stack},Po.zn=function(){},Po.cast=function(t,s){return t&&t instanceof s?t:null},Po.getName=function(t){return void 0===t?"undefined":null===t?"null":"boolean"==typeof t?"<boolean>":Po.Ki(t)?"<number>":Po.ae(t)?"<string>":Po.ve(t)?"<array>":"symbol"==typeof t?"<"+t.toString()+">":Po.Ee(t)?t.name&&"Function"!==t.name?t.name:"<anonymous function>":"object"==typeof t?t.constructor&&t.constructor.name&&"Object"!==t.constructor.name?t.constructor.name:"<anonymous object>":"<unknown>"},Po.getType=function(t){return null===t?"null":Array.isArray(t)?"array":typeof t},Po.range=function*(t,s){if(!isFinite(Math.abs(t-s)))throw new Error("Invalid parameters");if(t>s)for(let i=t-1;i>=s;i--)yield i;else for(let i=t;i<s;i++)yield i};let jo=new Map,zo=new Map,Bo=new WeakMap,Uo=new WeakMap;Po.Bn={};const Wo=new Set(["then","splice"]);Po.Bn.get=function(t,s){return s in t||"symbol"==typeof s||Wo.has(s)||No(`Accessed missing property '${s}' from defended object '${Po.getName(t)}', returning undefined`),Uo.has(t)&&"symbol"!=typeof s&&!Wo.has(s)&&No(`Accessed property '${s}' on a released object '${Po.getName(t)}'\nObject was originally released at: ${Uo.get(t)})\nCall stack at access: `),t[s]},Po.Bn.set=function(t,s,i){return s in t||jo.has(t)||No(`Set non-existent property '${s}' to '${i}' on defended object '${Po.getName(t)}'`),Do(t[s],i)||jo.has(t)||No(`Set '${Po.getType(t[s])}' property '${s}' to type '${Po.getType(i)}' on defended object '${Po.getName(t)}'`),Uo.has(t)&&No(`Set property '${s}' on a released object '${Po.getName(t)}'\nObject was originally released at: ${Uo.get(t)})\nCall stack at access: `),t[s]=i,!0},Po.Bn.deleteProperty=function(t,s){throw new ReferenceError(`Cannot delete property '${s}' from defended object '${Po.getName(t)}'`)},Po.Bn.defineProperty=function(t,s,i){throw new ReferenceError(`Cannot define property '${s}' on defended object '${Po.getName(t)}'`)},Po.Bn.enumerate=function(t){throw new ReferenceError(`Cannot enumerate defended object '${Po.getName(t)}'`)};let Vo=-1;Po.Un=class{constructor(){if(!Po.Ps||!Po.Ei.ji)return;let t=new.target,s=Object.create(t.prototype),i=new Proxy(s,Po.Bn);return jo.set(s,i),zo.set(i,s),Bo.set(i,s),-1===Vo&&(Vo=requestAnimationFrame(Lo)),i}},Po.Wn=function(t){if(Po.Ps&&Po.Ei.ji&&t instanceof Po.Un){if(!zo.has(t))return t;let s=zo.get(t);return zo.delete(t),jo.delete(s),t}return Po.Rs?Object.seal(t):t},Po.Vn=function(t,...s){let i;try{i=new t(...s)}catch(t){throw zo.clear(),jo.clear(),t}return Po.Ps&&Ro(t,i),Po.Wn(i)},Po.Yn=function(t){let s=Bo.get(t);s&&Uo.set(s,Po.Zi())},Po.Qn=function(t){let s=Bo.get(t);return!!s&&!!Uo.get(s)};let Yo=new Map;Po.Jn=class{constructor(t){this.Hn="",t&&this.start(t)}start(t){Po.Xs&&(this.Hn=t,performance.mark(this.Hn+"-Start"))}end(){Po.Xs&&(performance.mark(this.Hn+"-End"),performance.measure(this.Hn,this.Hn+"-Start",this.Hn+"-End"))}next(t){Po.Xs&&(this.end(),this.Hn=t,performance.mark(this.Hn+"-Start"))}}}{let Qo=function(t){return 0===t&&1/t<0};0;const Jo=self.Gs,Ho=2*Math.PI,qo=Math.PI/180,Xo=180/Math.PI;Jo.wrap=function(t,s,i){t=Math.floor(t),s=Math.floor(s);const e=(i=Math.floor(i))-s;if(0===e)return i;if(t<s){const n=i-(s-t)%e;return n===i?0:n}return s+(t-s)%e},Jo.qn=function(t,s,i,e,n){const r=i-s;return 0===r&&0===e?t:(t-s)*(n-e)/r+e},Jo.normalize=function(t,s,i){return s-i==0?1:(t-s)/(i-s)},Jo.Xn=function(t,s,i){return t<s?s:t>i?i:t},Jo.Zn=function(t){return(t%=Ho)<0&&(t+=Ho),t},Jo.Kn=function(t){return t*qo},Jo.$n=function(t){return t*Xo},Jo.tr=function(t,s){return Math.sqrt(t*t+s*s)},Jo.sr=function(t,s,i){return Math.sqrt(t*t+s*s+i*i)},Jo.ir=function(t,s,i,e){return Jo.tr(i-t,e-s)},Jo.er=function(t,s,i,e){const n=i-t,r=e-s;return n*n+r*r},Jo.nr=function(t,s,i,e){return Math.atan2(e-s,i-t)},Jo.rr=function(t,s){if(t===s)return 0;let i=Math.sin(t),e=Math.cos(t),n=i*Math.sin(s)+e*Math.cos(s);return n>=1?0:n<=-1?Math.PI:Math.acos(n)},Jo.hr=function(t,s,i){let e=Math.sin(t),n=Math.cos(t),r=Math.sin(s),h=Math.cos(s);return Math.acos(e*r+n*h)>i?n*r-e*h>0?Jo.Zn(t+i):Jo.Zn(t-i):Jo.Zn(s)},Jo.ar=function(t,s){let i=Math.sin(t);return Math.cos(t)*Math.sin(s)-i*Math.cos(s)<=0},Jo.ur=function(t,s,i,e=0){let n=Jo.rr(t,s);const r=Ho*e;return Jo.ar(s,t)?Jo.Zn(t+(n+r)*i):Jo.Zn(t-(n+r)*i)},Jo.lr=function(t,s,i,e=0){const n=Jo.rr(t,s),r=Ho*e;return Jo.ar(s,t)?Jo.Zn(t+(n+r)*i):Jo.Zn(t+(Ho-n+r)*i)},Jo.cr=function(t,s,i,e=0){const n=Jo.rr(t,s),r=Ho*e;return Jo.ar(s,t)?Jo.Zn(t-(-Ho+n-r)*i):Jo.Zn(t-(n+r)*i)},Jo.dr=function(t,s){const i=Jo.rr(t,s);return Jo.ar(t,s)?Jo.Zn(s-i):Jo.Zn(s+i)},Jo.Gt=function(t,s,i){return t+i*(s-t)},Jo.pr=function(t,s,i){return t===s?0:(i-t)/(s-t)},Jo.mr=function(t,s,i,e,n){return Jo.Gt(e,n,Jo.pr(t,s,i))},Jo.gr=function(t,s,i,e){return Jo.Gt(Jo.Gt(t,s,e),Jo.Gt(s,i,e),e)},Jo.yr=function(t,s,i,e,n){return Jo.Gt(Jo.gr(t,s,i,n),Jo.gr(s,i,e,n),n)},Jo.wr=function(t,s,i){return(t+s+(t-s)*Math.cos(i*Math.PI))/2},Jo.Mr=function(t){return t>0&&!(t-1&t)},Jo.Sr=function(t){--t;for(let s=1;s<32;s<<=1)t|=t>>s;return t+1},Jo.Tr=function(t,s){return Math.round(t*s)/s},Jo.br=function(t,s){return Math.floor(t*s)/s},Jo.vr=function(t,s){s=Math.max(Math.floor(s),0);const i=Math.pow(10,s);return Math.round(t*i)/i},Jo.Ir=function(t){return Math.floor(t)!==t&&t.toString().split(".")[1].length||0},Jo.toFixed=function(t,s){let i=t.toFixed(s),e=i.length-1;for(;e>=0&&"0"===i.charAt(e);--e);return e>=0&&"."===i.charAt(e)&&--e,e<0?i:i.substr(0,e+1)},Jo.Gr=function(t,s,i){return Jo.Xn(t,0,255)|Jo.Xn(s,0,255)<<8|Jo.Xn(i,0,255)<<16};Jo.Cr=function(t,s,i,e){return(t=Jo.Xn(Math.floor(1024*t),-8192,8191))<0&&(t+=16384),(s=Jo.Xn(Math.floor(1024*s),-8192,8191))<0&&(s+=16384),(i=Jo.Xn(Math.floor(1024*i),-8192,8191))<0&&(i+=16384),-(16384*t*16384*1024+16384*s*1024+1024*i+(e=Jo.Xn(Math.floor(1023*e),0,1023)))},Jo._r=function(t,s,i){return Jo.Cr(t,s,i,1)},Jo.Ar=function(t){if(t>=0)return(255&t)/255;{let s=Math.floor(-t/274877906944);return s>8191&&(s-=16384),s/1024}},Jo.Er=function(t){if(t>=0)return((65280&t)>>8)/255;{let s=Math.floor(-t%274877906944/16777216);return s>8191&&(s-=16384),s/1024}},Jo.Dr=function(t){if(t>=0)return((16711680&t)>>16)/255;{let s=Math.floor(-t%16777216/1024);return s>8191&&(s-=16384),s/1024}},Jo.Nr=function(t){return Qo(t)?0:t>=0?1:Math.floor(-t%1024)/1023},Jo.Lr=function(t,s){for(t=Math.floor(t),s=Math.floor(s);0!==s;){let i=s;s=t%s,t=i}return t};const Zo=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];Jo.Or=function(t,s){if((t=Math.floor(t))===(s=Math.floor(s)))return[1,1];for(let i of Zo){let e=t/i[0]*i[1];if(Math.abs(s-e)<1)return i.slice(0);if(e=t/i[1]*i[0],Math.abs(s-e)<1)return[i[1],i[0]]}let i=Jo.Lr(t,s);return[t/i,s/i]},Jo.Rr=function(t,s,i,e,n,r,h,o){const a=Math.min(t,i),u=Math.max(t,i),l=Math.min(n,h),c=Math.max(n,h);if(u<l||a>c)return!1;const f=Math.min(s,e),d=Math.max(s,e),p=Math.min(r,o),m=Math.max(r,o);if(d<p||f>m)return!1;const g=n-t+h-i,y=r-s+o-e,w=i-t,M=e-s,S=h-n,T=o-r,b=Math.abs(M*S-T*w),v=S*y-T*g;if(Math.abs(v)>b)return!1;const x=w*y-M*g;return Math.abs(x)<=b},Jo.Pr=function(t,s,i,e,n,r,h,o,a,u,l,c){const f=Math.min(a,l),d=Math.max(a,l);if(r<f||n>d)return!1;const p=Math.min(u,c),m=Math.max(u,c);if(o<p||h>m)return!1;const g=a-t+l-i,y=u-s+c-e,w=i-t,M=e-s,S=l-a,T=c-u,b=Math.abs(M*S-T*w),v=S*y-T*g;if(Math.abs(v)>b)return!1;const x=w*y-M*g;return Math.abs(x)<=b},Jo.kr=function(t,s,i,e,n){const r=Math.min(t,i),h=Math.max(t,i),o=Math.min(s,e),a=Math.max(s,e),u=n.Fr(),l=n.jr(),c=n.zr(),f=n.Br(),d=n.Ur(),p=n.Wr(),m=n.Vr(),g=n.Yr();return Jo.Pr(t,s,i,e,r,h,o,a,u,l,c,f)||Jo.Pr(t,s,i,e,r,h,o,a,c,f,d,p)||Jo.Pr(t,s,i,e,r,h,o,a,d,p,m,g)||Jo.Pr(t,s,i,e,r,h,o,a,m,g,u,l)},Jo.Qr=function(t,s,i,e,n){const r=Math.min(t,i),h=Math.max(t,i),o=Math.min(s,e),a=Math.max(s,e);let u=0;for(let l=n.length-4;u<=l;u+=2)if(Jo.Pr(t,s,i,e,r,h,o,a,n[u],n[u+1],n[u+2],n[u+3]))return!0;return Jo.Pr(t,s,i,e,r,h,o,a,n[u],n[u+1],n[0],n[1])};Jo.Jr=function(t,s,i,e,n,r,h,o){const a=i-t,u=o-r,l=a*u-(e-s)*(h-n);if(0===l)return 2;const c=((s-e)*(h-t)+a*(o-s))/l;return 0<c&&c<1.000001?(u*(h-t)+(n-h)*(o-s))/l:2},Jo.Hr=function(t,s,i,e,n,r,h,o,a){const u=(h-n)*a,l=(o-r)*a;return Jo.Jr(t,s,i,e,n-u,r-l,h+u,o+l)},Jo.qr=function(t,s,i,e,n,r,h,o){const a=n-i,u=r-e,l=h-i,c=o-e,f=t-i,d=s-e,p=a*a+u*u,m=a*l+u*c,g=a*f+u*d,y=l*l+c*c,w=l*f+c*d,M=1/(p*y-m*m),S=(y*g-m*w)*M,T=(p*w-m*g)*M;return S>=0&&T>=0&&S+T<=1},Jo.Xr=function(t,s,i,e,n,r,h,o){const a=n-i,u=r-e,l=h-i,c=o-e,f=t-i,d=s-e,p=a*a+u*u,m=a*l+u*c,g=l*l+c*c,y=f*a+d*u,w=f*l+d*c,M=p*g-m*m,S=(g*y-m*w)/M,T=(p*w-m*y)/M;return[1-S-T,S,T]},Jo.Zr=function(t,s,i,e,n,r,h,o,a,u,l,c){return[t*e+s*h+i*u,t*n+s*o+i*l,t*r+s*a+i*c]}}{const Ko=self.Gs;let $o=null,ta="";if("undefined"!=typeof document){$o=document;const ha=document.querySelector("base");ta=ha&&ha.hasAttribute("href")?ha.getAttribute("href"):"",ta&&(ta.startsWith("/")&&(ta=ta.substr(1)),ta.endsWith("/")||(ta+="/"))}Ko.Kr=function(){return ta},Ko.$r=function(){if(!$o)return"";const t=$o.location;return Ko.th(t.origin+t.pathname)+ta},Ko.th=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return t;const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?"":t.substr(0,s+1)},Ko.sh=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return"";const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?t:t.substr(s+1)},Ko.ih=function(t){let s=t.lastIndexOf(".");return s<1?"":t.substr(s)},Ko.eh=function(t,s){const i=t.lastIndexOf(".");return-1===i?t+"."+s:t.substr(0,i+1)+s},Ko.nh=function(t){let s=t.lastIndexOf(".");return s<1?t:t.substr(0,s)},Ko.rh=function(t){return t.replace(/\\/g,"/")},Ko.hh=function(t,s){return s===(t?Ko.ih(t).slice(1):"")},Ko.oh=function(t,s){let i,e;return Ko.Me(t)&&(i=Ko.nh(t.name)),Ko.ae(t)&&(i=Ko.nh(t)),Ko.Me(s)&&(e=Ko.nh(s.name)),Ko.ae(s)&&(e=Ko.nh(s)),i===e},Ko.ah=function(t){t=Ko.rh(t);let s=/^\w\:\//.exec(t);s?(s=s[0],"/"!==(t=t.slice(3))[0]&&(t="/"+t)):s="",(t=t.replace(/\/{2,}/g,"/")).length>1&&"/"===t.slice(-1)&&(t=t.slice(0,-1));const i=t.lastIndexOf("/")+1;let e,n="",r=t,h="";i>0&&(n=t.slice(0,i),r=t.slice(i)),e=r;const o=r.lastIndexOf(".");return o>0&&(h=r.slice(o),e=r.slice(0,-h.length)),{dir:n,uh:r,name:e,root:s,ext:h,fh:s+n+r}},Ko.dh=function(t,s){return new Promise(((i,e)=>{self.setTimeout(i,t,s)}))},Ko.ph=function(t){try{t()}catch(t){Ko.Rs&&console.warn("Swallowed exception: ",t)}},Ko.mh=function(){},Ko.Ze=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize().toLowerCase()===s.normalize().toLowerCase())},Ko.gh=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize()===s.normalize())},Ko.yh=function(t,s,i){t[i++]=s[0],t[i++]=s[1],t[i++]=s[2],t[i++]=s[3],t[i++]=s[4],t[i++]=s[5],t[i++]=s[6],t[i++]=s[7],t[i++]=s[8],t[i++]=s[9],t[i++]=s[10],t[i++]=s[11],t[i++]=s[12],t[i++]=s[13],t[i++]=s[14],t[i]=s[15]},Ko.wh=function(t,s){t.length=s},Ko.Mh=function(t){t&&0!==t.length&&Ko.wh(t,0)},Ko.Sh=function(t){if(t){for(let s=0;s<t.length;s++){let i=t[s];Ko.wh(i,0)}Ko.wh(t,0)}},Ko.Th=function(t,s,i){s|=0;const e=t.length;if(!(s<=e))for(let n=e;n<s;++n)t.push(i)},Ko.bh=function(t,s,i){s|=0;const e=t.length;s<e?Ko.wh(t,s):s>e&&Ko.Th(t,s,i)},Ko.xh=function(t,s){Ko.Mh(t),Ko.Nn(t,s)},Ko.Nn=function(t,s){if(s.length<1e4)t.push(...s);else for(let i=0,e=s.length;i<e;++i)t.push(s[i])},Ko.Ih=function(t,s){if((s=Math.floor(s))<0||s>=t.length)return;let i=t.length-1;for(let e=s;e<i;++e)t[e]=t[e+1];Ko.wh(t,i)},Ko.Gh=function(t,s){let i=t.indexOf(s);i>=0&&t.splice(i,1)},Ko.Ch=function(t,s){let i=t.length;if(s.length!==i)return!1;for(let e=0;e<i;++e)if(t[e]!==s[e])return!1;return!0},Ko._h=function(t,s){let i=[],e=0;for(let n=0,r=t.length;n<r;++n){let r=t[n];s(r)?i.push(r):(t[e]=r,++e)}return Ko.wh(t,e),i},Ko.Ah=function(t,s){const i=t.length;let e=0;for(let i=0,n=t.length;i<n;++i){let n=t[i];s.has(n)||(t[e++]=n)}return Ko.wh(t,e),i-e},Ko.Eh=function(t,s){return t===Math.floor(t)&&t>=0&&t<s.length},Ko.Dh=function(t,s){if(!Ko.Eh(t,s))throw new RangeError("array index out of bounds")},Ko.Nh=function(t){return t.slice()},Ko.Lh=function(t,s){let i=[];for(let e of t)if(Ko.me(e)){let t=s(e);if(!t)throw new Error("missing clone");if(t.constructor!==e.constructor)throw new Error("object is not a clone");i.push(t)}else Ko.ve(e)?i.push(Ko.Lh(e,s)):i.push(e);return i},Ko.Oh=function(t){let s=[];for(let i of t)s.push(i.slice());return s},Ko.Rh=function(t,s=" "){return t?t.split(s).map((t=>t.trim())).filter((t=>!!t)):[]},Ko.Ph=function(t,s,i){const e=new Set;for(const n of t.values())s(n)&&(i?e.add(i(n)):e.add(n));return e},Ko.kh=function(t,s){return t.union?t.union(s):new Set([...t,...s])},Ko.Fh=function(t,s){for(const i of s)t.add(i);return t},Ko.jh=function(t){for(let s of t)return s;return null},Ko.xor=function(t,s){return!t!=!s},Ko.compare=function(t,s,i){switch(s){case 0:return t===i;case 1:return t!==i;case 2:return t<i;case 3:return t<=i;case 4:return t>i;case 5:return t>=i;default:return!1}},Ko.zh=function(t){for(let s in t)if(t.hasOwnProperty(s))return!0;return!1},Ko.Bh=function(t,s){return t.length?new Promise(((i,e)=>{const n=[];let r=0,h=!1;for(let o=0,a=t.length;o<a;++o)n.push(void 0),t[o].then((e=>{h||(n[o]=e,++r,r===t.length?i(n):s(r,t.length))})).catch((t=>{h=!0,e(t)}))})):Promise.resolve([])};let sa=[];Ko.Uh=function(t){sa.push(t)},Ko.Wh=function(){let t=0;for(let s of sa)t+=s();return Math.floor(t)};let ia=1;const ea=new Map,na=new MessageChannel;na.port2.onmessage=function(t){const s=t.data,i=ea.get(s);ea.delete(s),i&&i(performance.now())},Ko.Vh=function(t){const s=ia++;return ea.set(s,t),na.port1.postMessage(s),s},Ko.Yh=function(t){ea.delete(t)},Ko.Qh=Ko.Vh,Ko.Jh=function(){return new Promise((t=>Ko.Qh(t)))};const ra=new Set;Ko.Hh=function(t){const s=self.requestAnimationFrame((async i=>{await Ko.Jh(),ra.has(s)&&(ra.delete(s),t(i))}));return ra.add(s),s},Ko.qh=function(t){ra.has(t)&&(self.cancelAnimationFrame(t),ra.delete(t))}}{const oa=self.Gs;oa.Xh=function(t){return/^(?:[a-z\-]+:)?\/\//.test(t)||"data:"===t.substr(0,5)||"blob:"===t.substr(0,5)},oa.Zh=function(t){return!oa.Xh(t)},oa.Kh=function(t){if(!t.ok)throw new Error(`fetch '${t.url}' response returned ${t.status} ${t.statusText}`)},oa.$h=function(t,s){return fetch(t,s).then((t=>(oa.Kh(t),t)))},oa.so=function(t){return oa.$h(t).then((t=>t.text()))},oa.io=function(t){return oa.$h(t).then((t=>t.json()))},oa.eo=function(t){return oa.$h(t).then((t=>t.blob()))},oa.no=function(t){return oa.$h(t).then((t=>t.arrayBuffer()))},oa.ro=function(t){return new Promise(((s,i)=>{const e=new Image;e.onload=()=>s(e),e.onerror=t=>i(t),e.src=t}))},oa.ho=function(t){return"function"==typeof t.arrayBuffer?t.arrayBuffer():new Promise(((s,i)=>{const e=new FileReader;e.onload=()=>s(e.result),e.onerror=()=>i(e.error),e.readAsArrayBuffer(t)}))},oa.oo=function(t){return"function"==typeof t.text?t.text():new Promise(((s,i)=>{const e=new FileReader;e.onload=()=>s(e.result),e.onerror=()=>i(e.error),e.readAsText(t)}))},oa.ao=function(t){return oa.oo(t).then((t=>JSON.parse(t)))},oa.uo=async function(t,s){let i=URL.createObjectURL(t);try{const t=await oa.ro(i);return URL.revokeObjectURL(i),i="",s&&"function"==typeof t.decode&&await t.decode(),t}finally{i&&URL.revokeObjectURL(i)}},oa.lo=function(t,s){if("undefined"!=typeof document&&"function"==typeof document.createElement){const i=document.createElement("canvas");return i.width=t,i.height=s,i}return new OffscreenCanvas(t,s)},oa.co=function(t,s,i){if("number"!=typeof i&&(i=1),s=s||"image/png",i=oa.Xn(i,0,1),t.convertToBlob)return t.convertToBlob({type:s,quality:i});if(t.toBlob)return new Promise((e=>t.toBlob(e,s,i)));throw new Error("could not convert canvas to blob")},oa.fo=function(t,s,i){const e=oa.lo(t.width,t.height);return e.getContext("2d").drawImage(t,0,0),oa.co(e,s,i)},oa.do=function(t,s,i){if(oa.Ei.ImageBitmapOptions)return createImageBitmap(t,{premultiplyAlpha:"none"}).then((t=>oa.fo(t,s,i)));if(oa.Ei.ImageBitmap)return createImageBitmap(t).then((t=>oa.fo(t,s,i)));{const e=oa.lo(t.width,t.height);return e.getContext("2d").putImageData(t,0,0),oa.co(e,s,i)}},oa.po=function(t,s){t.clear();for(const i of s)t.add(i)},oa.mo=function(t){const s=Object.create(null);for(const[i,e]of t.entries())s[i]=e;return s},oa.yo=function(t,s){s.clear();for(const[i,e]of Object.entries(t))s.set(i,e)},oa.wo=function t(s){if("object"==typeof s&&null!==s){if(s instanceof Set)return{_c3type_:"set",data:[...s].map((s=>t(s)))};if(s instanceof Map)return{_c3type_:"map",data:[...s].map((s=>[s[0],t(s[1])]))};{const i=Object.create(null);for(const[e,n]of Object.entries(s))i[e]=t(n);return i}}return s},oa.Mo=function t(s){if("object"==typeof s&null!==s){if("set"===s._c3type_)return new Set(s.data.map((s=>t(s))));if("map"===s._c3type_)return new Map(s.data.map((s=>[s[0],t(s[1])])));{const i=Object.create(null);for(const[e,n]of Object.entries(s))i[e]=t(n);return i}}return s},oa.So=function(t){if(t.startsWith("--"))return t;let s="",i=!1,e=0;for(const n of t)"-"===n?e>0&&(i=!0):i?(s+=n.toUpperCase(),i=!1):s+=n,++e;return s},oa.To=function(t){return"object"==typeof t&&"function"==typeof t.next},oa.bo=function(t,s){const i=[];if("function"==typeof s)for(let e=0;e<t;++e)i.push(s());else for(let e=0;e<t;++e)i.push(s);return i}}{let aa=function(t){return 0===t.length?"00":1===t.length?"0"+t:t},ua=function(t,s,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(s-t)*i:i<.5?s:i<2/3?t+(s-t)*(2/3-i)*6:t};0;const la=self.Gs,ca=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?/i,fa=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?,([0-9.])/i;la.vo=class{constructor(t,s,i,e){this.xo=NaN,this.Io=NaN,this.Go=NaN,this.Co=NaN,this.xo=0,this.Io=0,this.Go=0,this.Co=0,t instanceof la.vo?this.set(t):this._o(t||0,s||0,i||0,e||0)}Ao(t,s,i){return this.xo=+t,this.Io=+s,this.Go=+i,this.Xn(),this}_o(t,s,i,e){return this.xo=+t,this.Io=+s,this.Go=+i,this.Co=+e,this.Xn(),this}set(t){return this.xo=t.xo,this.Io=t.Io,this.Go=t.Go,this.Co=t.Co,this}m(t){return this.set(t)}add(t){this.xo+=t.xo,this.Io+=t.Io,this.Go+=t.Go,this.Co+=t.Co,this.Xn()}Eo(t,s,i,e=0){this.xo+=+t,this.Io+=+s,this.Go+=+i,this.Co+=+e,this.Xn()}Do(t){this.No(Math.max(this.xo,t.xo)-Math.min(this.xo,t.xo)),this.Lo(Math.max(this.Io,t.Io)-Math.min(this.Io,t.Io)),this.Oo(Math.max(this.Go,t.Go)-Math.min(this.Go,t.Go)),this.Ro(Math.max(this.Co,t.Co)-Math.min(this.Co,t.Co)),this.Xn()}Po(t){this.xo=t.xo,this.Io=t.Io,this.Go=t.Go}No(t){this.xo=la.Xn(+t,0,1)}ko(){return this.xo}Lo(t){this.Io=la.Xn(+t,0,1)}Fo(){return this.Io}Oo(t){this.Go=la.Xn(+t,0,1)}jo(){return this.Go}Ro(t){this.Co=la.Xn(+t,0,1)}zo(){return this.Co}clone(){return la.Vn(la.vo,this.xo,this.Io,this.Go,this.Co)}toArray(){return[this.xo,this.Io,this.Go,this.Co]}Bo(){return new Float64Array(this.toArray())}Uo(t,s){t[s++]=this.xo,t[s++]=this.Io,t[s++]=this.Go,t[s]=this.Co}Wo(t,s){t[s++]=this.xo,t[s++]=this.Io,t[s]=this.Go}equals(t){return this.xo===t.xo&&this.Io===t.Io&&this.Go===t.Go&&this.Co===t.Co}Vo(t){return this.xo===t.xo&&this.Io===t.Io&&this.Go===t.Go}Yo(t,s,i){return this.xo===t&&this.Io===s&&this.Go===i}Qo(t,s,i,e){return this.xo===t&&this.Io===s&&this.Go===i&&this.Co===e}Jo(t,s){return t[s]===Math.fround(this.xo)&&t[s+1]===Math.fround(this.Io)&&t[s+2]===Math.fround(this.Go)&&t[s+3]===Math.fround(this.Co)}Ho(t,s){return t[s]===Math.fround(this.xo)&&t[s+1]===Math.fround(this.Io)&&t[s+2]===Math.fround(this.Go)}multiply(t){this.xo*=t.xo,this.Io*=t.Io,this.Go*=t.Go,this.Co*=t.Co}qo(t){this.xo*=t,this.Io*=t,this.Go*=t,this.Co*=t}Xo(){return this.xo*=this.Co,this.Io*=this.Co,this.Go*=this.Co,this}Zo(){return this.xo/=this.Co,this.Io/=this.Co,this.Go/=this.Co,this}Xn(){return this.xo=la.Xn(this.xo,0,1),this.Io=la.Xn(this.Io,0,1),this.Go=la.Xn(this.Go,0,1),this.Co=la.Xn(this.Co,0,1),this}Ko(t){this.xo=la.Ar(t),this.Io=la.Er(t),this.Go=la.Dr(t),this.Co=la.Nr(t)}$o(t,s,i){return`rgb(${100*(la.$i(t)?t:this.ko())}%, ${100*(la.$i(s)?s:this.Fo())}%, ${100*(la.$i(i)?i:this.jo())}%)`}ta(t,s,i,e){return`rgba(${100*(la.$i(t)?t:this.ko())}%, ${100*(la.$i(s)?s:this.Fo())}%, ${100*(la.$i(i)?i:this.jo())}%, ${la.$i(e)?e:this.zo()})`}sa(){const t=Math.round(255*this.ko()),s=Math.round(255*this.Fo()),i=Math.round(255*this.jo());return"#"+aa(t.toString(16))+aa(s.toString(16))+aa(i.toString(16))}ia(t){if("string"!=typeof t)return!1;let s,i,e;if("#"===(t=t.trim()).charAt(0)&&(t=t.substr(1)),3===t.length)s=parseInt(t[0],16)/15,i=parseInt(t[1],16)/15,e=parseInt(t[2],16)/15;else{if(6!==t.length)return!1;s=parseInt(t.substr(0,2),16)/255,i=parseInt(t.substr(2,2),16)/255,e=parseInt(t.substr(4,2),16)/255}return isFinite(s)&&this.No(s),isFinite(i)&&this.Lo(i),isFinite(e)&&this.Oo(e),this.Ro(1),!0}ea(){return`${Math.round(255*this.ko())}, ${Math.round(255*this.Fo())}, ${Math.round(255*this.jo())}`}na(){return[Math.round(255*this.ko()),Math.round(255*this.Fo()),Math.round(255*this.jo())]}ra(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const i=parseInt(s[0].trim(),10)/255,e=parseInt(s[1].trim(),10)/255,n=parseInt(s[2].trim(),10)/255;return isFinite(i)&&this.No(i),isFinite(e)&&this.Lo(e),isFinite(n)&&this.Oo(n),this.Ro(1),!0}ha(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const i=parseInt(s[0].trim(),10)/100,e=parseInt(s[1].trim(),10)/100,n=parseInt(s[2].trim(),10)/100;return isFinite(i)&&this.No(i),isFinite(e)&&this.Lo(e),isFinite(n)&&this.Oo(n),this.Ro(1),!0}oa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const i=parseInt(s[0].trim(),10)/255,e=parseInt(s[1].trim(),10)/255,n=parseInt(s[2].trim(),10)/255,r=parseFloat(s[3].trim());return isFinite(i)&&this.No(i),isFinite(e)&&this.Lo(e),isFinite(n)&&this.Oo(n),isFinite(r)&&this.Ro(r),!0}aa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const i=parseInt(s[0].trim(),10)/100,e=parseInt(s[1].trim(),10)/100,n=parseInt(s[2].trim(),10)/100,r=parseFloat(s[3].trim());return isFinite(i)&&this.No(i),isFinite(e)&&this.Lo(e),isFinite(n)&&this.Oo(n),isFinite(r)&&this.Ro(r),!0}ua(t){if("string"!=typeof t)return!1;if((t=t.replace(/\s+/,"")).includes(",")){if(t.startsWith("rgb("))return t.includes("%")?this.ha(t):this.ra(t);if(t.startsWith("rgba("))return t.includes("%")?this.aa(t):this.oa(t);if(t.startsWith("hsl(")||t.startsWith("hsla("))return this.la(t);{const s=t.split(",");return t.includes("%")?3===s.length?this.ha(t):4===s.length&&this.aa(t):3===s.length?this.ra(t):4===s.length&&this.oa(t)}}return this.ia(t)}toJSON(){return[this.xo,this.Io,this.Go,this.Co]}ca(t,s,i,e){let n,r,h;if(t%=360,s=la.Xn(s,0,100),i=la.Xn(i,0,100),e=la.Xn(e,0,1),t/=360,i/=100,0==(s/=100))n=r=h=i;else{const e=i<.5?i*(1+s):i+s-i*s,o=2*i-e;n=ua(o,e,t+1/3),r=ua(o,e,t),h=ua(o,e,t-1/3)}return this.No(n),this.Lo(r),this.Oo(h),this.Ro(e),this}la(t){const s=t.replace(/ |hsl|hsla|\(|\)|;/gi,""),i=ca.exec(s),e=fa.exec(s);return i&&4===i.length?(this.ca(+i[1],+i[2],+i[3],1),!0):!(!e||5!==e.length||(this.ca(+i[1],+i[2],+i[3],+i[4]),0))}fa(){const t=this.xo,s=this.Io,i=this.Go,e=this.Co;return`hsla(${la.vo.da(t,s,i)}, ${la.vo.pa(t,s,i)}%, ${la.vo.ma(t,s,i)}%, ${e})`}ga(){const t=this.xo,s=this.Io,i=this.Go;return[la.vo.da(t,s,i),la.vo.pa(t,s,i),la.vo.ma(t,s,i),this.Co]}ya(t){Array.isArray(t)&&(t.length<3||(this.xo=t[0],this.Io=t[1],this.Go=t[2],t.length>=4?this.Co=t[3]:this.Co=1))}set r(t){this.No(t)}get r(){return this.ko()}set g(t){this.Lo(t)}get g(){return this.Fo()}set b(t){this.Oo(t)}get b(){return this.jo()}set a(t){this.Ro(t)}get a(){return this.zo()}wa(t,s){switch(t){case 0:this.No(s);break;case 1:this.Lo(s);break;case 2:this.Oo(s);break;case 3:this.Ro(s);break;default:throw new RangeError("invalid color index")}}Ma(t){switch(t){case 0:return this.ko();case 1:return this.Fo();case 2:return this.jo();case 3:return this.zo();default:throw new RangeError("invalid color index")}}static Sa(t,s){let i,e;if(Array.isArray(t))i=new la.vo,i.ya(t);else{if(!(t instanceof la.vo))throw new Error("unexpected type");i=t}if(Array.isArray(s))e=new la.vo,e.ya(s);else{if(!(s instanceof la.vo))throw new Error("unexpected type");e=s}return i.equals(e)}static Ta(t,s){return la.Xn(Math.max(t,s)-Math.min(t,s),0,1)}static ba(t,s){const i=new la.vo;return i.No(Math.max(t.xo,s.xo)-Math.min(t.xo,s.xo)),i.Lo(Math.max(t.Io,s.Io)-Math.min(t.Io,s.Io)),i.Oo(Math.max(t.Go,s.Go)-Math.min(t.Go,s.Go)),i.Ro(Math.max(t.Co,s.Co)-Math.min(t.Co,s.Co)),i}static va(t,s){const i=new la.vo(0,0,0,1);return i.No(Math.max(t.xo,s.xo)-Math.min(t.xo,s.xo)),i.Lo(Math.max(t.Io,s.Io)-Math.min(t.Io,s.Io)),i.Oo(Math.max(t.Go,s.Go)-Math.min(t.Go,s.Go)),i}static da(t,s,i){const e=Math.max(t,s,i),n=Math.min(t,s,i);if(e===n)return 0;let r=0;switch(e){case t:r=(s-i)/(e-n)+(s<i?6:0);break;case s:r=(i-t)/(e-n)+2;break;case i:r=(t-s)/(e-n)+4}return Math.round(r/6*360)}static pa(t,s,i){const e=Math.max(t,s,i),n=Math.min(t,s,i);if(e===n)return 0;const r=e-n,h=(e+n)/2>.5?r/(2-e-n):r/(e+n);return Math.round(100*h)}static ma(t,s,i){const e=Math.max(t,s,i),n=(e+Math.min(t,s,i))/2;return e?Math.round(100*n):0}},la.vo.xa=Object.freeze(la.Vn(la.vo,1,1,1,1)),la.vo.Ia=Object.freeze(la.Vn(la.vo,0,0,0,1)),la.vo.Ga=Object.freeze(la.Vn(la.vo,0,0,0,0))}{const da=self.Gs;da.Ca=class{constructor(t,s){this._a=0,this.Aa=0,t instanceof da.Ca?this.m(t):this.set(t||0,s||0)}set(t,s){this._a=+t,this.Aa=+s}m(t){this._a=t._a,this.Aa=t.Aa}equals(t){return this._a===t._a&&this.Aa===t.Aa}Ea(t,s){return this._a===t&&this.Aa===s}Jo(t,s){return t[s]===Math.fround(this._a)&&t[s+1]===Math.fround(this.Aa)}Da(t){this._a=+t}Na(){return this._a}La(t){this.Aa=+t}Oa(){return this.Aa}toArray(){return[this._a,this.Aa]}Bo(){return new Float64Array(this.toArray())}Uo(t,s){t[s++]=this._a,t[s]=this.Aa}offset(t,s){this._a+=+t,this.Aa+=+s}scale(t,s){this._a*=t,this.Aa*=s}wt(t,s){this._a/=t,this.Aa/=s}round(){this._a=Math.round(this._a),this.Aa=Math.round(this.Aa)}floor(){this._a=Math.floor(this._a),this.Aa=Math.floor(this.Aa)}ceil(){this._a=Math.ceil(this._a),this.Aa=Math.ceil(this.Aa)}angle(){return da.nr(0,0,this._a,this.Aa)}Ra(){return this._a*this._a+this.Aa*this.Aa}length(){return da.tr(this._a,this.Aa)}Pa(t,s){const i=this._a*s-this.Aa*t;this.Aa=this.Aa*s+this._a*t,this._a=i}rotate(t){0!==t&&this.Pa(Math.sin(t),Math.cos(t))}ka(t,s,i){0===t||s===this._a&&i===this.Aa||(this._a-=s,this.Aa-=i,this.Pa(Math.sin(t),Math.cos(t)),this._a+=+s,this.Aa+=+i)}move(t,s){0!==s&&(this._a+=Math.cos(t)*s,this.Aa+=Math.sin(t)*s)}normalize(){const t=this.length();0!==t&&1!==t&&(this._a/=t,this.Aa/=t)}Xn(t,s){this._a=da.Xn(this._a,t,s),this.Aa=da.Xn(this.Aa,t,s)}xt(t){return this._a*t._a+this.Aa*t.Aa}reverse(){this._a=-this._a,this.Aa=-this.Aa}Fa(){let t=this._a;return this._a=this.Aa,this.Aa=-t,this}}}{const pa=self.Gs;pa.Rect=class{constructor(t,s,i,e){this.ja=NaN,this.za=NaN,this.Ba=NaN,this.Ua=NaN,this.ja=0,this.za=0,this.Ba=0,this.Ua=0,t instanceof pa.Rect?this.m(t):this.set(t||0,s||0,i||0,e||0)}set(t,s,i,e){this.ja=+t,this.za=+s,this.Ba=+i,this.Ua=+e}Wa(t,s,i,e){t=+t,s=+s,this.ja=t,this.za=s,this.Ba=t+ +i,this.Ua=s+ +e}m(t){this.ja=+t.ja,this.za=+t.za,this.Ba=+t.Ba,this.Ua=+t.Ua}clone(){return new pa.Rect(this.ja,this.za,this.Ba,this.Ua)}static Va(t,s){const i=new pa.Rect;return i.Ya(Math.min(t.ja,s.ja)),i.Qa(Math.min(t.za,s.za)),i.Ja(Math.max(t.Ba,s.Ba)),i.Ha(Math.max(t.Ua,s.Ua)),i}static qa(t){return new pa.Rect(t.left,t.top,t.right,t.bottom)}equals(t){return this.ja===t.ja&&this.za===t.za&&this.Ba===t.Ba&&this.Ua===t.Ua}Xa(t,s,i,e){return this.ja===t&&this.za===s&&this.width()===i&&this.height()===e}Jo(t,s){return t[s]===Math.fround(this.ja)&&t[s+1]===Math.fround(this.za)&&t[s+2]===Math.fround(this.Ba)&&t[s+3]===Math.fround(this.Ua)}Ya(t){this.ja=+t}Za(){return this.ja}Qa(t){this.za=+t}Ka(){return this.za}Ja(t){this.Ba=+t}$a(){return this.Ba}Ha(t){this.Ua=+t}tu(){return this.Ua}toArray(){return[this.ja,this.za,this.Ba,this.Ua]}Bo(){return new Float64Array(this.toArray())}su(){return new DOMRect(this.ja,this.za,this.width(),this.height())}static iu(t){return pa.Vn(pa.Rect,t.left,t.top,t.right,t.bottom)}Uo(t,s){t[s++]=this.ja,t[s++]=this.za,t[s++]=this.Ba,t[s]=this.Ua}eu(t,s){t[s++]=this.ja,t[s++]=this.za,t[s++]=this.Ba,t[s++]=this.za,t[s++]=this.Ba,t[s++]=this.Ua,t[s++]=this.ja,t[s]=this.Ua}nu(t,s,i){t[s++]=this.ja,t[s++]=this.za,t[s++]=i,t[s++]=this.Ba,t[s++]=this.za,t[s++]=i,t[s++]=this.Ba,t[s++]=this.Ua,t[s++]=i,t[s++]=this.ja,t[s++]=this.Ua,t[s]=i}width(){return this.Ba-this.ja}height(){return this.Ua-this.za}ru(){return(this.ja+this.Ba)/2}hu(){return(this.za+this.Ua)/2}offset(t,s){t=+t,s=+s,this.ja+=t,this.za+=s,this.Ba+=t,this.Ua+=s}offsetLeft(t){this.ja+=+t}offsetTop(t){this.za+=+t}ou(t){this.Ba+=+t}au(t){this.Ua+=+t}uu(t){if("x"!==t)throw new Error("invalid axis, only 'x' supported");this.za<this.Ua?this.ja<this.Ba?this.Ua=this.za+this.width():this.Ua=this.za-this.width():this.ja<this.Ba?this.Ua=this.za-this.width():this.Ua=this.za+this.width()}lu(t,s){t=+t,s=+s,this.ja-=t,this.za-=s,this.Ba+=t,this.Ua+=s}cu(t,s){t=+t,s=+s,this.ja+=t,this.za+=s,this.Ba-=t,this.Ua-=s}multiply(t,s){this.ja*=t,this.za*=s,this.Ba*=t,this.Ua*=s}wt(t,s){this.ja/=t,this.za/=s,this.Ba/=t,this.Ua/=s}fu(t){this.ja=+t-this.ja,this.Ba=+t-this.Ba}du(t){this.za=+t-this.za,this.Ua=+t-this.Ua}pu(t,s){const i=this.width(),e=this.height(),n=this.Za()+i*t,r=this.Ka()+e*s;this.Wa(n-e*s,r-i*t,e,i)}mu(){const t=this.ja;this.ja=this.Ba,this.Ba=t}gu(){const t=this.za;this.za=this.Ua,this.Ua=t}yu(t){const s=this.za;this.za=+t-this.Ua,this.Ua=+t-s}round(){this.ja=Math.round(this.ja),this.za=Math.round(this.za),this.Ba=Math.round(this.Ba),this.Ua=Math.round(this.Ua)}wu(){this.ja=Math.ceil(this.ja),this.za=Math.ceil(this.za),this.Ba=Math.floor(this.Ba),this.Ua=Math.floor(this.Ua)}Mu(){this.ja=Math.floor(this.ja),this.za=Math.floor(this.za),this.Ba=Math.ceil(this.Ba),this.Ua=Math.ceil(this.Ua)}floor(){this.ja=Math.floor(this.ja),this.za=Math.floor(this.za),this.Ba=Math.floor(this.Ba),this.Ua=Math.floor(this.Ua)}ceil(){this.ja=Math.ceil(this.ja),this.za=Math.ceil(this.za),this.Ba=Math.ceil(this.Ba),this.Ua=Math.ceil(this.Ua)}Xn(t,s,i,e){this.ja=Math.max(this.ja,+t),this.za=Math.max(this.za,+s),this.Ba=Math.min(this.Ba,+i),this.Ua=Math.min(this.Ua,+e)}Su(t,s,i,e){t=+t,s=+s,i=+i,e=+e,this.ja=pa.Xn(this.ja,t,i),this.za=pa.Xn(this.za,s,e),this.Ba=pa.Xn(this.Ba,t,i),this.Ua=pa.Xn(this.Ua,s,e)}normalize(){this.ja>this.Ba&&this.mu(),this.za>this.Ua&&this.gu()}Tu(t){return!(t.Ba<this.ja||t.Ua<this.za||t.ja>this.Ba||t.za>this.Ua)}bu(t,s,i){return!(t.Ba+s<this.ja||t.Ua+i<this.za||t.ja+s>this.Ba||t.za+i>this.Ua)}vu(t,s){return t>=this.ja&&t<=this.Ba&&s>=this.za&&s<=this.Ua}xu(t){return t.ja>=this.ja&&t.za>=this.za&&t.Ba<=this.Ba&&t.Ua<=this.Ua}Iu(t){t.ja<this.ja&&(this.ja=+t.ja),t.za<this.za&&(this.za=+t.za),t.Ba>this.Ba&&(this.Ba=+t.Ba),t.Ua>this.Ua&&(this.Ua=+t.Ua)}Gu(t){this.ja=pa.Gt(t.ja,t.Ba,this.ja),this.za=pa.Gt(t.za,t.Ua,this.za),this.Ba=pa.Gt(t.ja,t.Ba,this.Ba),this.Ua=pa.Gt(t.za,t.Ua,this.Ua)}}}{const ma=self.Gs;ma.Cu=class{constructor(t,s,i,e,n,r,h,o){this._u=NaN,this.Au=NaN,this.Eu=NaN,this.Du=NaN,this.Nu=NaN,this.Lu=NaN,this.Ou=NaN,this.Ru=NaN,this._u=0,this.Au=0,this.Eu=0,this.Du=0,this.Nu=0,this.Lu=0,this.Ou=0,this.Ru=0,t instanceof ma.Cu?this.m(t):this.set(t||0,s||0,i||0,e||0,n||0,r||0,h||0,o||0)}set(t,s,i,e,n,r,h,o){this._u=+t,this.Au=+s,this.Eu=+i,this.Du=+e,this.Nu=+n,this.Lu=+r,this.Ou=+h,this.Ru=+o}Pu(t,s,i,e){this.set(t,s,i,s,i,e,t,e)}m(t){this._u=t._u,this.Au=t.Au,this.Eu=t.Eu,this.Du=t.Du,this.Nu=t.Nu,this.Lu=t.Lu,this.Ou=t.Ou,this.Ru=t.Ru}equals(t){return this._u===t._u&&this.Au===t.Au&&this.Eu===t.Eu&&this.Du===t.Du&&this.Nu===t.Nu&&this.Lu===t.Lu&&this.Ou===t.Ou&&this.Ru===t.Ru}ku(t){this._u=+t}Fr(){return this._u}Fu(t){this.Au=+t}jr(){return this.Au}ju(t){this.Eu=+t}zr(){return this.Eu}zu(t){this.Du=+t}Br(){return this.Du}Bu(t){this.Nu=+t}Ur(){return this.Nu}Uu(t){this.Lu=+t}Wr(){return this.Lu}Wu(t){this.Ou=+t}Vr(){return this.Ou}Vu(t){this.Ru=+t}Yr(){return this.Ru}Yu(){return new DOMQuad(new DOMPoint(this._u,this.Au),new DOMPoint(this.Eu,this.Du),new DOMPoint(this.Nu,this.Lu),new DOMPoint(this.Ou,this.Ru))}static Qu(t){return ma.Vn(ma.Cu,t.p1.x,t.p1.y,t.p2.x,t.p2.y,t.p3.x,t.p3.y,t.p4.x,t.p4.y)}toArray(){return[this._u,this.Au,this.Eu,this.Du,this.Nu,this.Lu,this.Ou,this.Ru]}Bo(){return new Float64Array(this.toArray())}Uo(t,s){t[s++]=this._u,t[s++]=this.Au,t[s++]=this.Eu,t[s++]=this.Du,t[s++]=this.Nu,t[s++]=this.Lu,t[s++]=this.Ou,t[s]=this.Ru}Ju(t,s,i){t[s++]=this._u,t[s++]=this.Au,t[s++]=i,t[s++]=this.Eu,t[s++]=this.Du,t[s++]=i,t[s++]=this.Nu,t[s++]=this.Lu,t[s++]=i,t[s++]=this.Ou,t[s++]=this.Ru,t[s]=i}offset(t,s){t=+t,s=+s,this._u+=t,this.Au+=s,this.Eu+=t,this.Du+=s,this.Nu+=t,this.Lu+=s,this.Ou+=t,this.Ru+=s}round(){this._u=Math.round(this._u),this.Au=Math.round(this.Au),this.Eu=Math.round(this.Eu),this.Du=Math.round(this.Du),this.Nu=Math.round(this.Nu),this.Lu=Math.round(this.Lu),this.Ou=Math.round(this.Ou),this.Ru=Math.round(this.Ru)}floor(){this._u=Math.floor(this._u),this.Au=Math.floor(this.Au),this.Eu=Math.floor(this.Eu),this.Du=Math.floor(this.Du),this.Nu=Math.floor(this.Nu),this.Lu=Math.floor(this.Lu),this.Ou=Math.floor(this.Ou),this.Ru=Math.floor(this.Ru)}ceil(){this._u=Math.ceil(this._u),this.Au=Math.ceil(this.Au),this.Eu=Math.ceil(this.Eu),this.Du=Math.ceil(this.Du),this.Nu=Math.ceil(this.Nu),this.Lu=Math.ceil(this.Lu),this.Ou=Math.ceil(this.Ou),this.Ru=Math.ceil(this.Ru)}Hu(t){this._u=t.ja,this.Au=t.za,this.Eu=t.Ba,this.Du=t.za,this.Nu=t.Ba,this.Lu=t.Ua,this.Ou=t.ja,this.Ru=t.Ua}qu(t,s){0===s?this.Hu(t):this.Xu(t,Math.sin(s),Math.cos(s))}Xu(t,s,i){const e=t.ja*s,n=t.za*s,r=t.Ba*s,h=t.Ua*s,o=t.ja*i,a=t.za*i,u=t.Ba*i,l=t.Ua*i;this._u=o-n,this.Au=a+e,this.Eu=u-n,this.Du=a+r,this.Nu=u-h,this.Lu=l+r,this.Ou=o-h,this.Ru=l+e}Zu(t){t.set(Math.min(this._u,this.Eu,this.Nu,this.Ou),Math.min(this.Au,this.Du,this.Lu,this.Ru),Math.max(this._u,this.Eu,this.Nu,this.Ou),Math.max(this.Au,this.Du,this.Lu,this.Ru))}vu(t,s){let i=this.Eu-this._u,e=this.Du-this.Au;const n=this.Nu-this._u,r=this.Lu-this.Au,h=t-this._u,o=s-this.Au;let a=i*i+e*e,u=i*n+e*r,l=i*h+e*o;const c=n*n+r*r,f=n*h+r*o;let d=1/(a*c-u*u),p=(c*l-u*f)*d,m=(a*f-u*l)*d;return p>=0&&m>0&&p+m<1||(i=this.Ou-this._u,e=this.Ru-this.Au,a=i*i+e*e,u=i*n+e*r,l=i*h+e*o,d=1/(a*c-u*u),p=(c*l-u*f)*d,m=(a*f-u*l)*d,p>=0&&m>0&&p+m<1)}ru(){return(this._u+this.Eu+this.Nu+this.Ou)/4}hu(){return(this.Au+this.Du+this.Lu+this.Ru)/4}Ku(t,s,i,e){return!(!this.vu(t,s)&&!this.vu(i,e))||ma.kr(t,s,i,e,this)}$u(t){let s=t.ru(),i=t.hu();if(this.vu(s,i))return!0;if(s=this.ru(),i=this.hu(),t.vu(s,i))return!0;const e=this._u,n=this.Au,r=this.Eu,h=this.Du,o=this.Nu,a=this.Lu,u=this.Ou,l=this.Ru;return ma.kr(e,n,r,h,t)||ma.kr(r,h,o,a,t)||ma.kr(o,a,u,l,t)||ma.kr(u,l,e,n,t)}tl(){const t=this._u,s=this.Au;this._u=this.Eu,this.Au=this.Du,this.Eu=this.Nu,this.Du=this.Lu,this.Nu=this.Ou,this.Lu=this.Ru,this.Ou=t,this.Ru=s}sl(){this.il(0,2),this.il(1,3),this.il(6,4),this.il(7,5)}el(){this.il(0,6),this.il(1,7),this.il(2,4),this.il(3,5)}nl(){this.il(2,6),this.il(3,7)}il(t,s){const i=this.rl(t);this.hl(t,this.rl(s)),this.hl(s,i)}rl(t){switch(t){case 0:return this._u;case 1:return this.Au;case 2:return this.Eu;case 3:return this.Du;case 4:return this.Nu;case 5:return this.Lu;case 6:return this.Ou;case 7:return this.Ru;default:throw new RangeError("invalid quad point index")}}hl(t,s){switch(s=+s,t){case 0:this._u=s;break;case 1:this.Au=s;break;case 2:this.Eu=s;break;case 3:this.Du=s;break;case 4:this.Nu=s;break;case 5:this.Lu=s;break;case 6:this.Ou=s;break;case 7:this.Ru=s;break;default:throw new RangeError("invalid quad point index")}}}}{const ga=self.Gs,ya=(self.assert,[0,0,1,0,1,1,0,1]),wa=ga.Vn(ga.Cu);ga.ol=class extends ga.Un{constructor(t,s=!0){super(),t||(t=ya),this.al=Float64Array.from(t),this.ul=new ga.Rect,this.ll=!0,this.cl=s}Yn(){}fl(){return this.al}dl(){return this.al.length/2}pl(t){this.al.length===t.length?this.al.set(t):this.al=Float64Array.from(t),this.ll=!0}ml(){this.pl(ya)}m(t){this.pl(t.al)}gl(){this.ll=!0}yl(){if(!this.ll)return;const t=this.al;let s=t[0],i=t[1],e=s,n=i;for(let r=0,h=t.length;r<h;r+=2){const h=t[r],o=t[r+1];h<s&&(s=h),h>e&&(e=h),o<i&&(i=o),o>n&&(n=o)}this.ul.set(s,i,e,n),this.ll=!1}Hu(t,s,i){let e=this.al;8!==e.length&&(e=new Float64Array(8),this.al=e),e[0]=t.Za()-s,e[1]=t.Ka()-i,e[2]=t.$a()-s,e[3]=t.Ka()-i,e[4]=t.$a()-s,e[5]=t.tu()-i,e[6]=t.Za()-s,e[7]=t.tu()-i,this.ul.m(t),0===s&&0===i||this.ul.offset(-s,-i),this.ll=!1}wl(t,s,i){wa.m(t),wa.offset(s,i),this.pl(wa.toArray()),this.ll=!0}transform(t,s,i){let e=0,n=1;0!==i&&(e=Math.sin(i),n=Math.cos(i)),this.Ml(t,s,e,n)}Ml(t,s,i,e){const n=this.al;for(let r=0,h=n.length;r<h;r+=2){const h=r+1,o=n[r]*t,a=n[h]*s;n[r]=o*e-a*i,n[h]=a*e+o*i}this.ll=!0}offset(t,s){const i=this.al;for(let e=0,n=i.length;e<n;e+=2)i[e]+=t,i[e+1]+=s}vu(t,s){const i=this.al;if(t===i[0]&&s===i[1])return!0;this.yl();const e=this.ul,n=e.Za()-110,r=e.Ka()-101,h=e.$a()+131,o=e.tu()+120;let a=0,u=0,l=0,c=0,f=0,d=0,p=0,m=0;n<t?(a=n,l=t):(a=t,l=n),r<s?(u=r,c=s):(u=s,c=r),h<t?(f=h,p=t):(f=t,p=h),o<s?(d=o,m=s):(d=s,m=o);let g=0,y=0;for(let e=0,w=i.length;e<w;e+=2){const M=(e+2)%w,S=i[e],T=i[e+1],b=i[M],v=i[M+1];ga.Pr(n,r,t,s,a,l,u,c,S,T,b,v)&&++g,ga.Pr(h,o,t,s,f,p,d,m,S,T,b,v)&&++y}return g%2==1||y%2==1}Sl(t,s,i){const e=t.al,n=this.al;if(this.vu(e[0]+s,e[1]+i))return!0;if(t.vu(n[0]-s,n[1]-i))return!0;for(let t=0,r=n.length;t<r;t+=2){const h=(t+2)%r,o=n[t],a=n[t+1],u=n[h],l=n[h+1];let c=0,f=0,d=0,p=0;o<u?(c=o,d=u):(c=u,d=o),a<l?(f=a,p=l):(f=l,p=a);for(let t=0,n=e.length;t<n;t+=2){const r=(t+2)%n,h=e[t]+s,m=e[t+1]+i,g=e[r]+s,y=e[r+1]+i;if(ga.Pr(o,a,u,l,c,d,f,p,h,m,g,y))return!0}}return!1}Ku(t,s,i,e,n,r){if(this.vu(i-t,e-s))return!0;if(this.vu(n-t,r-s))return!0;let h=0,o=0,a=0,u=0;i<n?(h=i,a=n):(h=n,a=i),e<r?(o=e,u=r):(o=r,u=e);const l=this.al;for(let c=0,f=l.length;c<f;c+=2){const d=(c+2)%f,p=l[c]+t,m=l[c+1]+s,g=l[d]+t,y=l[d+1]+s;if(ga.Pr(i,e,n,r,h,a,o,u,p,m,g,y))return!0}return!1}sl(t){const s=this.al;for(let i=0,e=s.length;i<e;i+=2)s[i]=2*t-s[i];this.ll=!0}el(t){const s=this.al;for(let i=0,e=s.length;i<e;i+=2){const e=i+1;s[e]=2*t-s[e]}this.ll=!0}nl(){const t=this.al;for(let s=0,i=t.length;s<i;s+=2){const i=s+1,e=t[s];t[s]=t[i],t[i]=e}this.ll=!0}Tl(){const t=this.al;let s=0;for(let i=0,e=t.length;i<e;i+=2)s+=t[i];return s/this.dl()}bl(){const t=this.al;let s=0;for(let i=0,e=t.length;i<e;i+=2)s+=t[i+1];return s/this.dl()}vl(){return this.al}xl(){return this.dl()}Il(){return this.cl}}}{const Ma=self.Gs;Ma.Gl=class extends Ma.Un{constructor(t){if(super(),this.Cl=new Map,t)for(const[s,i,e]of t)this.Set(s,i,e)}Yn(){this._l(),this.Cl=null}Al(){return 0===this.Cl.size}_l(){const t=this.Cl;for(const s of t.values())s.clear();t.clear()}Set(t,s,i){const e=this.Cl;let n=e.get(t);n||(n=new Map,e.set(t,n)),n.set(s,i)}Ys(t,s){const i=this.Cl.get(t);return i?i.get(s):i}Vs(t,s){const i=this.Cl.get(t);return!!i&&i.has(s)}El(t,s){const i=this.Cl,e=i.get(t);if(!e)return!1;const n=e.delete(s);return n&&0===e.size&&i.delete(t),n}Dl(t){const s=this.Cl,i=s.get(t);i&&(i.clear(),s.delete(t));for(const[i,e]of s.entries())e.delete(t)&&0===e.size&&s.delete(i)}Nl(){let t=0;for(const s of this.Cl.values())t+=s.size;return t}*values(){for(const t of this.Cl.values())yield*t.values()}*Ll(){for(const[t,s]of this.Cl.entries())for(const i of s.keys())yield[t,i]}*entries(){for(const[t,s]of this.Cl.entries())for(const[i,e]of s.entries())yield[t,i,e]}}}{const Sa=self.Gs;Sa.Ol=class extends Sa.Un{constructor(){super(),this.Rl=new Set,this.Pl=[],this.kl=!1}Yn(){this._l()}_l(){this.Rl.clear(),Sa.Mh(this.Pl),this.kl=!1}Fl(t){this.Rl.has(t)||(this.Rl.add(t),this.kl||this.Pl.push(t))}Vs(t){return this.Rl.has(t)}El(t){this.Rl.delete(t)&&(this.kl=!0)}Nl(){return this.Rl.size}Al(){return 0===this.Rl.size}jl(){return this.kl&&(this.zl(),this.kl=!1),this.Pl}zl(){const t=this.Pl;Sa.Mh(t);for(const s of this.Rl)t.push(s)}}}{const Ta=self.Gs,ba=new Map,va=new Map,xa=new Map,Ia=new Map,Ga=new Map,Ca=new Map,_a=new Map,Aa=new Map,Ea=new Map;Ea.set("linear","noease"),Ea.set("default","noease");const Da=["default","noease","easeinquad","easeoutquad","easeinoutquad","easeincubic","easeoutcubic","easeinoutcubic","easeinquart","easeoutquart","easeinoutquart","easeinquint","easeoutquint","easeinoutquint","easeinsine","easeoutsine","easeinoutsine","easeinexpo","easeoutexpo","easeinoutexpo","easeincirc","easeoutcirc","easeinoutcirc","easeinelastic","easeoutelastic","easeinoutelastic","easeinback","easeoutback","easeinoutback","easeinbounce","easeoutbounce","easeinoutbounce"],Na=["default","noease","quad","cubic","quart","quint","sine","expo","circ","elastic","back","bounce"],La=new Map([["linear","noease"],["in-sine","easeinsine"],["out-sine","easeoutsine"],["in-out-sine","easeinoutsine"],["in-elastic","easeinelastic"],["out-elastic","easeoutelastic"],["in-out-elastic","easeinoutelastic"],["in-back","easeinback"],["out-back","easeoutback"],["in-out-back","easeinoutback"],["in-bounce","easeinbounce"],["out-bounce","easeoutbounce"],["in-out-bounce","easeinoutbounce"],["in-cubic","easeincubic"],["out-cubic","easeoutcubic"],["in-out-cubic","easeinoutcubic"],["in-quadratic","easeinquad"],["out-quadratic","easeoutquad"],["in-out-quadratic","easeinoutquad"],["in-quartic","easeinquart"],["out-quartic","easeoutquart"],["in-out-quartic","easeinoutquart"],["in-quintic","easeinquint"],["out-quintic","easeoutquint"],["in-out-quintic","easeinoutquint"],["in-circular","easeincirc"],["out-circular","easeoutcirc"],["in-out-circular","easeinoutcirc"],["in-exponential","easeinexpo"],["out-exponential","easeoutexpo"],["in-out-exponential","easeinoutexpo"]]);self.Bl=class t{constructor(){}static Ul(){return"default"}static Wl(){return"noease"}static Vl(t){return La.get(t)}static Yl(s,...i){let e,n;this.Ql(),s?(xa.has(s)||xa.set(s,new Map),e=xa.get(s),n=[...e.keys()].filter((i=>!t.Jl(i,s)||t.Jl(i,s).transition.Hl()))):(e=Ga,n=[...e.keys()]);const r=n.sort();return[...va.keys()].concat(r).filter((t=>!i.includes(t)))}static ql(){this.Ql();const t=[...Ga.keys()];return t.sort(),[...va.keys()].concat(t)}static Xl(){this.Ql();const t=[...Ga.keys()];return t.sort(),t}static Zl(t){for(const s of Da)if(self.lang(`ui.bars.timeline.eases.${s}`)===t)return!0;for(const s of Na)if(self.lang(`ui.bars.timeline.short-eases.${s}`)===t)return!0}static Kl(t){return this.Ql(),[...va.keys()].includes(t)}static $l(s){const i=Ea.get(s);return i?ba.get(i):t.Kl(s)?ba.get(s):_a.has(s)?_a.get(s):void 0}static tc(t){return this.Ql(),Aa.get(t)}static sc(s,i){this.Ql();const e=t.$l(s);if(e)return e;if(!i)throw new Error("missing ease function");return xa.get(i).get(s)}static Jl(t,s){this.Ql();const i=Ia.get(s);if(i)return i.get(t)}static ec(s,i){return this.Ql(),!!t.$l(s)||!!xa.get(i).get(s)}static nc(s){this.Ql();return t.$l(s)||Ga.get(s)}static rc(t){return this.Ql(),Ca.get(t)}static hc(t){return this.Ql(),this.ql()[t]}static oc(t,s){return this.Ql(),this.Yl(s).indexOf(t)}static ac(t){return this.oc(t)}static Ql(){0===ba.size&&(this.uc("default",(()=>{})),this.uc("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this.uc("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this.uc("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this.uc("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this.uc("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this.uc("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this.uc("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),this.uc("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,ee:!0}]),this.uc("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this.uc("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this.uc("easeinbounce",[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this.uc("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,ee:!0}]),this.uc("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,se:!1,ee:!0}]),this.uc("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this.uc("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this.uc("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this.uc("easeinquad",[{x:0,y:0,sax:.4,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this.uc("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this.uc("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.uc("easeinquart",[{x:0,y:0,sax:.25,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.5,eay:0,se:!1,ee:!0}]),this.uc("easeoutquart",[{x:0,y:0,sax:.5,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:-1,se:!1,ee:!0}]),this.uc("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this.uc("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this.uc("easeoutquint",[{x:0,y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),this.uc("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.uc("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this.uc("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.uc("easeinoutcirc",[{x:0,y:0,sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this.uc("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this.uc("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this.uc("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.lc("cubicbezier",this.cc),this.lc("spline",this.fc))}static uc(s,i,e=!1){if("function"==typeof i)t.dc(s,i,"predefined");else{if(!Ta.ve(i))throw new Error("unexpected arguments");if(self.mc){const n=Ta.Vn(self.mc,s,e);n.yc(i),t.dc(s,((t,s,i,e)=>n.wc(t,s,i,e)),"predefined"),Aa.set(s,n)}else{const n=Ta.Vn(Ta.Mc,[s,i.map((t=>[t.x,t.y,t.sax,t.say,t.eax,t.eay,t.se,t.ee]))],!1);n.Sc(e),t.dc(s,((t,s,i,e)=>n.wc(t,s,i,e)),"predefined")}}}static lc(s,i){t.dc(s,i,"private")}static Tc(s,i,e,n){this.Ql(),t.dc(s,i,"custom",e,n)}static bc(t,s){if(this.Kl(t))return;if([..._a.keys()].includes(t))return;const i=xa.get(s);i&&i.delete(t);const e=Ia.get(s);e&&e.delete(t)}static dc(t,s,i,e,n){switch(i){case"predefined":ba.set(t,s),va.set(t,s);break;case"custom":e?(xa.has(e)||xa.set(e,new Map),Ia.has(e)||Ia.set(e,new Map),xa.get(e).set(t,s),Ia.get(e).set(t,n)):(Ga.set(t,s),Ca.set(t,n));break;case"private":ba.set(t,s),_a.set(t,s);break;default:throw new Error("unexpected ease mode")}}static vc(t,s,i,e){return 0===e?s:i*t/e+s}static cc(t,s,i,e,n){return s+3*t*(i-s)+3*t**2*(s+e-2*i)+t**3*(n-s+3*i-3*e)}static fc(t,s,i,e,n,r,h,o,a,u){if(e===n&&r===h)return t;const l=Ba(t,s,e,r,o,u),c=Pa(i,n,h,a),f=ka(i,n,h,a),d=Fa(i,n,h,a);return ja(l,c,f,d)}static xc(t,s,i,e){const n=[],r=Pa(t,s,i,e),h=ka(t,s,i,e),o=Fa(t,s,i,e);for(let t=0;t<Oa;++t){const s=ja(t*Ra,r,h,o);n.push(s)}return n}};const Oa=11,Ra=1/(Oa-1),Pa=(t,s,i,e)=>e-3*i+3*s-t,ka=(t,s,i,e)=>3*i-6*s+3*t,Fa=(t,s,i,e)=>3*(s-t),ja=(t,s,i,e)=>((s*t+i)*t+e)*t,za=(t,s,i,e)=>3*s*t*t+2*i*t+e,Ba=(t,s,i,e,n,r)=>{if(1==t)return 1;let h=0,o=1,a=r[o],u=Oa-1;for(r[Oa-1];o!=u&&a<=t;)o++,a=r[o],h+=Ra;o--,a=r[o];let l=h+(t-a)/(r[o+1]-a)*Ra;const c=Pa(s,i,e,n),f=ka(s,i,e,n),d=Fa(s,i,e,n),p=za(l,c,f,d);if(0===p)return l;if(p>=.01){for(let s=0;s<4;++s)l-=(ja(l,c,f,d)-t)/za(l,c,f,d);return l}{let s,i,e=h,n=h+Ra,r=0;do{l=e+(n-e)/2;let h=ja(l,c,f,d)-t;h>0?n=l:e=l,s=Math.abs(h)>1e-7,i=++r<10}while(s&&i);return l}}}{let Ua=function(t){Wa.ae(t)};0;const Wa=self.Gs;Wa.Ic=class{constructor(t){this.Gc=[],this.Hn=t||"",this.Cc=0}Yn(){this._l(),this.Gc=null}_c(){return this.Hn}_l(){Wa.Sh(this.Gc),this.Cc=0}Ac(){return this.Cc}Ec(t=Math.random()*this.Ac()){let s=0;for(const[i,e]of this.Gc)if(s+=i,t<s)return e;return 0}Dc(){return!!this.Gc.length}Nc(t,s){Ua(s),this.Cc+=t,this.Gc.push([t,s])}Lc(t,s){Ua(s);const i=0===t;for(let e=0;e<this.Gc.length;e++){const n=this.Gc[e],r=i||n[0]===t,h=n[1]===s;if(r&&h){this.Gc.splice(e,1),this.Cc-=n[0];break}}}Oc(){return JSON.stringify(this.Gc)}static Rc(t,s){const i=new Wa.Ic(s),e=JSON.parse(t);for(const t of e){const s=t[0],e=t[1];i.Nc(s,e)}return i}}}{const Va=self.Gs;let Ya=0;Va.Pc=class{constructor(t,s){this.kc=t,this.Fc=s,this.jc=Ya++,this.kc.zc("runtime","screen-reader-text",{type:"create",id:this.jc,text:this.Fc})}Yn(){this.kc.zc("runtime","screen-reader-text",{type:"release",id:this.jc}),this.kc=null,this.Fc="",this.jc=-1}Bc(t){this.Fc!==t&&(this.Fc=t,this.kc.zc("runtime","screen-reader-text",{type:"update",id:this.jc,text:this.Fc}))}}}self.Gs.Event=class{constructor(t,s){this.type=t,this.cancelable=!!s,this.defaultPrevented=!1,this.Uc=!1,this.Wc=!1}preventDefault(){if(!this.cancelable)throw new Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw new Error(`event '${this.type}' cannot be stopped`);if(this.Wc)throw new Error(`cannot stop async event '${this.type}' propagation`);this.Uc=!0}};{const Qa=self.Gs;self.assert;Qa.Event.Vc=class extends Qa.Un{constructor(t){super(),this.Yc=t,this.Qc=[],this.Jc=new Set,this.Hc=[],this.qc=new Set,this.Xc=0,this.Zc=[]}Yn(){this.Xc>0||(Qa.Mh(this.Qc),this.Jc.clear(),Qa.Mh(this.Hc),this.qc.clear(),Qa.Mh(this.Zc),Qa.Yn(this))}Kc(t,s){if(this.$c())this.Zc.push({tf:"add",sf:t,capture:s});else if(s){if(this.Jc.has(t))return;this.Qc.push(t),this.Jc.add(t)}else{if(this.qc.has(t))return;this.Hc.push(t),this.qc.add(t)}}if(t,s){this.$c()?this.Zc.push({tf:"remove",sf:t,capture:s}):s?this.Jc.has(t)&&(this.Jc.delete(t),Qa.Gh(this.Qc,t)):this.qc.has(t)&&(this.qc.delete(t),Qa.Gh(this.Hc,t))}ef(){return!this.Qc.length&&!this.Hc.length}$c(){return this.Xc>0}nf(){const t=new Set,s=new Set;for(const i of this.Zc)if("add"===i.tf)this.Kc(i.sf,i.capture),i.capture?s.delete(i.sf):t.delete(i.sf);else{if("remove"!==i.tf)throw new Error("invalid op");i.capture?(this.Jc.delete(i.sf),s.add(i.sf)):(this.qc.delete(i.sf),t.add(i.sf))}Qa.Ah(this.Hc,t),Qa.Ah(this.Qc,s),Qa.Mh(this.Zc)}rf(t){this.hf();let s=!1;for(let i=0,e=this.Qc.length;i<e;++i)if(this.Qc[i](t),t.Uc){s=!0;break}if(!s)for(let s=0,i=this.Hc.length;s<i&&(this.Hc[s](t),!t.Uc);++s);return this.af(),!t.defaultPrevented}uf(t){this.hf();for(let s=0,i=this.Qc.length;s<i;++s)this.Qc[s](t);for(let s=0,i=this.Hc.length;s<i;++s)this.Hc[s](t);return this.af(),!0}hf(){this.Xc++}af(){this.Xc--,0===this.Xc&&this.Zc.length>0&&this.nf()}lf(t){t?this.hf():this.af()}cf(t){let s=[];for(let i=0,e=this.Qc.length;i<e;++i){let e=this.Qc[i];s.push(Qa.ff((()=>e(t))))}for(let i=0,e=this.Hc.length;i<e;++i){let e=this.Hc[i];s.push(Qa.ff((()=>e(t))))}return Promise.all(s).then((()=>!t.defaultPrevented))}df(t){const s=[];this.hf();for(let i=0,e=this.Qc.length;i<e;++i){const e=this.Qc[i](t);e instanceof Promise&&s.push(e)}for(let i=0,e=this.Hc.length;i<e;++i){const e=this.Hc[i](t);e instanceof Promise&&s.push(e)}return this.af(),s.length?Promise.all(s).then((()=>!t.defaultPrevented)):!t.defaultPrevented}async pf(t){return await this.df(t)}async mf(t){this.hf();for(let s=0,i=this.Qc.length;s<i;++s){const i=this.Qc[s](t);i instanceof Promise&&await i}for(let s=0,i=this.Hc.length;s<i;++s){const i=this.Hc[s](t);i instanceof Promise&&await i}return this.af(),!t.defaultPrevented}*gf(t){this.hf();for(let s=0,i=this.Qc.length;s<i;++s){const i=this.Qc[s](t);Qa.To(i)&&(yield*i)}for(let s=0,i=this.Hc.length;s<i;++s){const i=this.Hc[s](t);Qa.To(i)&&(yield*i)}this.af()}}}{const Ja=self.Gs;Ja.Event.yf=class extends Ja.Un{constructor(){super(),this.wf=new Map,this.Mf=!1}Yn(){if(this.Mf)throw new Error("already released");this.Sf(),this.Mf=!0,Ja.Yn(this)}Qn(){return this.Mf}Sf(){if(this.wf){for(let t of this.wf.values())t.Yn();this.wf.clear()}}Tf(t,s){let i=this.wf.get(t);return i||(s?(i=Ja.Vn(Ja.Event.Vc,t),this.wf.set(t,i),i):null)}bf(t){return this.wf.has(t)}addEventListener(t,s,i){this.Tf(t,!0).Kc(s,!!i)}removeEventListener(t,s,i){let e=this.Tf(t,!1);e&&(e.if(s,!!i),e.ef()&&this.wf.delete(t))}dispatchEvent(t){const s=this.Tf(t.type,!1);return!s||(t.cancelable?s.rf(t):s.uf(t))}vf(t){const s=this.Tf(t.type,!1);return s?(t.Wc=!0,s.cf(t)):Promise.resolve(!0)}async xf(t){const s=this.Tf(t.type,!1);if(!s)return!0;this.wf.delete(t.type),t.Wc=!0;const i=await s.cf(t);return s.Yn(),i}async If(t){const s=this.Tf(t.type,!1);return!s||await s.pf(t)}Gf(t){const s=this.Tf(t.type,!1);return!s||s.df(t)}async Cf(t){const s=this.Tf(t.type,!1);return!s||await s.mf(t)}_f(t){const s=this.Tf(t.type,!1);if(!s)return null;if(t.cancelable)throw new Error("not supported");return s.gf(t)}lf(t){for(const s of this.wf.values())s.lf(t)}}}{let Ha=function(t){tu=Ka&&0===su?requestIdleCallback(qa,{timeout:35}):setTimeout(qa,su>0?1:t)},qa=function(t){if(tu=-1,!$a.length)return;let s=performance.now(),i=s,e=0,n=0;do{Xa($a.shift()),i=performance.now(),++e,n=(i-s)/e*1.1}while($a.length&&(Ka&&0===su&&void 0!==t?n<t.timeRemaining():i-s+n<12));if(-1===tu&&$a.length){let t=i-s;Ha(Math.max(16-t,4))}},Xa=function(t){let s;try{s=t.sf()}catch(s){return void t.reject(s)}t.resolve(s)};0;const Za=self.Gs,Ka="undefined"!=typeof requestIdleCallback;let $a=[],tu=-1,su=0,iu=Za.Hs.Vs("disable-asyncify");iu&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously."),Za.ff=function(t){let s=null;return Za.Rs&&(s=Za.Zi()),new Promise(((i,e)=>{$a.push({sf:t,resolve:i,reject:e,stack:s}),iu?Xa($a.pop()):-1===tu&&Ha(16)}))},Za.ff.Af=function(t){if(t)++su;else if(--su,su<0)throw new Error("already turned off high throughput mode")}}{let eu=function(){hu=-1},nu=function(){ou=-1,au=-1;let t=Date.now();for(let s of uu)if(s.Ef(t)){let t=s.Df();(-1===au||t<au)&&(au=t)}else uu.delete(s);if(-1!==au){let s=Math.max(au-t+100,1e3);ou=self.setTimeout(nu,s)}};0;const ru=self.Gs;let hu=-1;ru.Nf=function(){return-1===hu&&(hu=Date.now(),self.setTimeout(eu,16)),hu};let ou=-1,au=-1,uu=new Set;ru.Lf=class{constructor(t,s){this.Of=t,this.Rf=1e3*s,this.Pf=0,this.kf=!1}Ff(){let t=ru.Nf();this.Pf=t+this.Rf,this.kf||(uu.add(this),this.kf=!0),-1===ou?(au=this.Pf,ou=self.setTimeout(nu,this.Rf+100)):this.Pf<au&&au>t+1e3&&(self.clearTimeout(ou),au=this.Pf,ou=self.setTimeout(nu,this.Rf+100))}Ef(t){return!(t>=this.Pf&&(this.Of()?(this.Pf=t+this.Rf,0):(this.kf=!1,1)))}Df(){return this.Pf}jf(){this.kf&&(uu.delete(this),this.kf=!1,0===uu.size&&-1!==ou&&(self.clearTimeout(ou),ou=-1,au=-1))}Yn(){this.jf(),this.Of=null}}}{const lu=self.Gs;lu.zf=class t{constructor(t){this.Bf=!1,this.Uf=t}Wf(){this.Bf||(this.Bf=!0,this.Uf&&(this.Uf(),this.Uf=null))}Vf(){return this.Bf}Yn(){this.Wf()}static Yn(s){return new t((()=>s.Yn()))}static Yf(t,s,i,e,n){if("string"!=typeof s&&!Array.isArray(s))throw new TypeError("expected string or array");if(null==e)e=!1;else if("boolean"!=typeof e&&"object"!=typeof e)throw new TypeError("invalid event listener options");if(n&&(i=i.bind(n)),Array.isArray(s)||s.includes(" ")){"string"==typeof s&&(s=s.split(" "));const n=new lu.Qf;for(const r of s)t.addEventListener(r,i,e),n.Fl(lu.Vn(lu.zf,(()=>t.removeEventListener(r,i,e))));return n}return t.addEventListener(s,i,e),lu.Vn(lu.zf,(()=>t.removeEventListener(s,i,e)))}},lu.Jf=class extends lu.zf{Hf(t){this.Uf=t}},lu.Qf=class extends lu.zf{constructor(...t){super(),this.qf=new Set;for(let s of t)this.Fl(s)}Fl(...t){if(this.Bf)throw new Error("already disposed");for(let s of t)this.qf.add(s)}Xf(t){if(this.Bf)throw new Error("already disposed");this.qf.delete(t)}Zf(){if(this.Bf)throw new Error("already disposed");if(this.qf){for(let t of this.qf)t.Wf();this.qf.clear()}}Vf(){return this.Bf}Wf(){if(this.Bf)throw new Error("already disposed");this.Bf=!0;for(let t of this.qf)t.Wf();this.qf.clear(),this.qf=null}Yn(){this.Wf()}}}{const cu=self.Gs;cu.Kf=class extends cu.Un{constructor(){super(),this.$f=0,this.Aa=0,this.td=0,this.sd=0}Fl(t){t=+t,this.Aa=t-this.$f,this.td=this.sd+this.Aa,this.$f=this.td-this.sd-this.Aa,this.sd=this.td}ed(t){this.sd-=+t}Ys(){return this.sd}Ff(){this.$f=0,this.Aa=0,this.td=0,this.sd=0}Set(t){this.$f=0,this.Aa=0,this.td=0,this.sd=+t}nd(t){this.$f=t.$f,this.Aa=t.Aa,this.td=t.td,this.sd=t.sd}Yn(){}}}{const fu=self.Gs,du={},pu=!0;du.rd=function(t){this.hd=t,this.right=this.hd.od,this.left=this.hd.od,this.parent=null,this.color=!1,this.key=null},du.ad=function(t){this.size=0,this.od=new du.rd(this),this.od.color=!1,this.root=this.od,this.root.parent=this.od,this.compare=t||this.ud},du.ad.prototype.ud=function(t,s){return t<s?-1:s<t?1:0},du.ad.prototype.clone=function(){var t=new du.ad(this.compare);return t.ld(this),t},du.ad.prototype.clear=function(){this.size=0,this.od=new du.rd(this),this.od.color=!1,this.root=this.od,this.root.parent=this.od},du.ad.prototype.fd=function(t){var s=t.right;t.right=s.left,s.left!=this.od&&(s.left.parent=t),s.parent=t.parent,t.parent==this.od?this.root=s:t==t.parent.left?t.parent.left=s:t.parent.right=s,s.left=t,t.parent=s},du.ad.prototype.dd=function(t){var s=t.left;t.left=s.right,s.right!=this.od&&(s.right.parent=t),s.parent=t.parent,t.parent==this.od?this.root=s:t==t.parent.right?t.parent.right=s:t.parent.left=s,s.right=t,t.parent=s},du.ad.prototype.pd=function(t){if(this.contains(t))this.md(t).key=t;else{var s=new du.rd(this);s.key=t;for(var i=this.od,e=this.root;e!=this.od;)i=e,e=this.compare(s.key,e.key)<0?e.left:e.right;s.parent=i,i==this.od?this.root=s:this.compare(s.key,i.key)<0?i.left=s:i.right=s,s.left=this.od,s.right=this.od,s.color=pu,this.gd(s),this.size++}},du.ad.prototype.gd=function(t){for(;t!=this.od&&t!=this.root&&t.parent.color==pu;){var s;t.parent==t.parent.parent.left?(s=t.parent.parent.right).color==pu?(t.parent.color=!1,s.color=!1,t.parent.parent.color=pu,t=t.parent.parent):(t==t.parent.right&&(t=t.parent,this.fd(t)),t.parent.color=!1,t.parent.parent.color=pu,t.parent.parent!=this.od&&this.dd(t.parent.parent)):(s=t.parent.parent.left).color==pu?(t.parent.color=!1,s.color=!1,t.parent.parent.color=pu,t=t.parent.parent):(t==t.parent.left&&(t=t.parent,this.dd(t)),t.parent.color=!1,t.parent.parent.color=pu,t.parent.parent!=this.od&&this.fd(t.parent.parent))}this.root.color=!1},du.ad.prototype.yd=function(t){var s,i;(i=(s=t.left==this.od||t.right==this.od?t:this.wd(t)).left!=this.od?s.left:s.right).parent=s.parent,s.parent==this.od?this.root=i:s==s.parent.left?s.parent.left=i:s.parent.right=i,s!=t&&(t.key=s.key),0==s.color&&this.Md(i),this.size--},du.ad.prototype.Md=function(t){for(;t!=this.root&&0==t.color;){var s;t==t.parent.left?((s=t.parent.right).color==pu&&(s.color=!1,t.parent.color=pu,this.fd(t.parent),s=t.parent.right),0==s.left.color&&0==s.right.color?(s.color=pu,t=t.parent):(0==s.right.color&&(s.left.color=!1,s.color=pu,this.dd(s),s=t.parent.right),s.color=t.parent.color,t.parent.color=!1,s.right.color=!1,this.fd(t.parent),t=this.root)):((s=t.parent.left).color==pu&&(s.color=!1,t.parent.color=pu,this.dd(t.parent),s=t.parent.left),0==s.right.color&&0==s.left.color?(s.color=pu,t=t.parent):(0==s.left.color&&(s.right.color=!1,s.color=pu,this.fd(s),s=t.parent.left),s.color=t.parent.color,t.parent.color=!1,s.left.color=!1,this.dd(t.parent),t=this.root))}t.color=!1},du.ad.prototype.remove=function(t){var s=this.md(t);if(s!=this.od){var i=s.key;return this.yd(s),i}return null},du.ad.prototype.Sd=function(t,s){this.remove(s)},du.ad.prototype.min=function(t){for(;t.left!=this.od;)t=t.left;return t},du.ad.prototype.max=function(t){for(;t.right!=this.od;)t=t.right;return t},du.ad.prototype.wd=function(t){if(t.right!=this.od)return this.min(t.right);for(var s=t.parent;s!=this.od&&t==s.right;)t=s,s=s.parent;return s},du.ad.prototype.Td=function(t){if(t.left!=this.od)return this.max(t.left);for(var s=t.parent;s!=this.od&&t==s.left;)t=s,s=s.parent;return s},du.ad.prototype.bd=function(t){if(this.size>0){var s=this.md(t);if(s==this.od)return null;if(s.right!=this.od)return this.min(s.right).key;for(var i=s.parent;i!=this.od&&s==i.right;)s=i,i=i.parent;return i!=this.od?i.key:null}return null},du.ad.prototype.vd=function(t){if(this.size>0){var s=this.md(t);if(s==this.od)return null;if(s.left!=this.od)return this.max(s.left).key;for(var i=s.parent;i!=this.od&&s==i.left;)s=i,i=i.parent;return i!=this.od?i.key:null}return null},du.ad.prototype.xd=function(){return this.min(this.root).key},du.ad.prototype.Id=function(){return this.max(this.root).key},du.ad.prototype.md=function(t){for(var s=this.root;s!=this.od&&0!=this.compare(s.key,t);)s=this.compare(t,s.key)<0?s.left:s.right;return s},du.ad.prototype.contains=function(t){return null!=this.md(t).key},du.ad.prototype.getValues=function(){var t=[];return this.forEach((function(s){t.push(s)})),t},du.ad.prototype.ld=function(t){if("array"==du.Gd(t))for(var s=0;s<t.length;s++)this.pd(t[s]);else if("function"==du.Gd(t.forEach))t.forEach(this.pd,this);else if("function"==du.Gd(t.getValues)){var i=t.getValues();for(s=0;s<i.length;s++)this.pd(i[s])}else if("object"==du.Gd(t))for(var e in t)this.pd(t[e])},du.ad.prototype.Cd=function(t){if("array"==du.Gd(t))for(var s=0;s<t.length;s++)this.remove(t[s]);else if("function"==du.Gd(t.forEach))t.forEach(this.Sd,this);else if("function"==du.Gd(t.getValues)){var i=t.getValues();for(s=0;s<i.length;s++)this.remove(i[s])}else if("object"==du.Gd(t))for(var e in t)this.remove(t[e])},du.ad.prototype._d=function(t){if("array"==du.Gd(t)){for(var s=0;s<t.length;s++)if(!this.contains(t[s]))return!1;return!0}if("function"==du.Gd(t.forEach))return t.every(this.contains,this);if("function"==du.Gd(t.getValues)){var i=t.getValues();for(s=0;s<i.length;s++)if(!this.contains(i[s]))return!1;return!0}if("object"==du.Gd(t)){for(var e in t)if(!this.contains(t[e]))return!1;return!0}},du.ad.prototype.range=function(t,s){var i=[];return this.Ad((function(t){i.push(t)}),t,s),i},du.ad.prototype.Ed=function(t,s){if(!this.Dd())for(var i=this.min(this.root);i!=this.od;){if(t.call(s,i.key,this))return;i=this.wd(i)}},du.ad.prototype.Nd=function(t,s,i){if(!this.Dd())for(var e=this.md(s);e!=this.od;){if(t.call(i,e.key,this))return;e=this.wd(e)}},du.ad.prototype.traverseTo=function(t,s,i){if(!this.Dd())for(var e=this.min(this.root),n=this.md(s);e!=n;){if(t.call(i,e.key,this))return;e=this.wd(e)}},du.ad.prototype.Ad=function(t,s,i,e){if(!this.Dd())for(var n=this.md(s),r=this.md(i);n!=r;){if(t.call(e,n.key,this))return;n=this.wd(n)}},du.ad.prototype.Ld=function(t,s){if(!this.Dd())for(var i=this.max(this.root);i!=this.od;){if(t.call(s,i.key,this))return;i=this.Td(i)}},du.ad.prototype.forEach=function(t,s){if(!this.Dd())for(var i=this.min(this.root);i!=this.od;i=this.wd(i))t.call(s,i.key,i.key,this)},du.ad.prototype.some=function(t,s){if(this.Dd())return!1;for(var i=this.min(this.root);i!=this.od;i=this.wd(i))if(t.call(s,i.key,i.key,this))return!0;return!1},du.ad.prototype.every=function(t,s){if(this.Dd())return!1;for(var i=this.min(this.root);i!=this.od;i=this.wd(i))if(!t.call(s,i.key,i.key,this))return!1;return!0},du.ad.prototype.map=function(t,s){var i=[];if(this.Dd())return i;for(var e=this.min(this.root);e!=this.od;e=this.wd(e))i.push(t.call(s,e.key,e.key,this));return i},du.ad.prototype.filter=function(t,s){var i=[];if(this.Dd())return i;for(var e=this.min(this.root);e!=this.od;e=this.wd(e))t.call(s,e.key,e.key,this)&&i.push(e.key);return i},du.ad.prototype.Od=function(){return this.size},du.ad.prototype.Dd=function(){return 0==this.size},du.ad.prototype.isSubsetOf=function(t){var s=du.Od(t);if(this.Od()>s)return!1;var i=0;if(this.Dd())return!0;for(var e=this.min(this.root);e!=this.od;e=this.wd(e))du.contains.call(t,t,e.key)&&i++;return i==this.Od()},du.ad.prototype.intersection=function(t){var s=new du.ad(this.compare);if(this.Dd())return s;for(var i=this.min(this.root);i!=this.od;i=this.wd(i))t.contains.call(t,i.key,i.key,this)&&s.pd(i.key);return s},fu.ad=class extends fu.Un{constructor(t){super(),this.Rd=new du.ad(t),this.Pd=!1,this.kd=new Set,this.Fd=new Set}Fl(t){this.Pd?this.Rd.contains(t)?this.Fd.delete(t):this.kd.add(t):this.Rd.pd(t)}Xf(t){this.Pd?this.Rd.contains(t)?this.Fd.add(t):this.kd.delete(t):this.Rd.remove(t)}Vs(t){return this.Pd?!!this.kd.has(t)||!this.Fd.has(t)&&this.Rd.contains(t):this.Rd.contains(t)}_l(){this.Rd.clear(),this.kd.clear(),this.Fd.clear()}toArray(){if(this.Pd)throw new Error("cannot be used in queueing mode");return this.Rd.getValues()}Nl(){return this.Rd.Od()+this.kd.size-this.Fd.size}Al(){return 0===this.Nl()}jd(){if(this.Al())throw new Error("empty set");if(this.Pd)throw new Error("cannot be used in queueing mode");const t=this.Rd;return t.min(t.root).key}zd(){if(this.Al())throw new Error("empty set");if(this.Pd)throw new Error("cannot be used in queueing mode");const t=this.jd();return this.Xf(t),t}Bd(t){if(t=!!t,this.Pd!==t&&(this.Pd=t,!t)){for(const t of this.Fd)this.Rd.remove(t);this.Fd.clear();for(const t of this.kd)this.Rd.pd(t);this.kd.clear()}}Ud(t){this.Rd.forEach(t)}*values(){if(this.Al())return;const t=this.Rd;for(let s=t.min(t.root);s!=t.od;s=t.wd(s))yield s.key}[Symbol.iterator](){return this.values()}}}{const mu=self.Gs;mu.Wd=class{constructor(t=mu.hardwareConcurrency){this.Vd=t,this.Yd=[],this.Qd=0}Fl(t){return new Promise(((s,i)=>{this.Yd.push({sf:t,resolve:s,reject:i}),this.Jd()}))}Hd(t){for(let s=0,i=this.Yd.length;s<i;++s)if(this.Yd[s].sf===t)return s;return-1}qd(t,s){const i=this.Hd(t);if(-1===i)throw new Error("cannot find promise to resolve");this.Yd[i].resolve(s),this.Yd.splice(i,1)}Xd(t,s){const i=this.Hd(t);if(-1===i)throw new Error("cannot find promise to reject");this.Yd[i].reject(s),this.Yd.splice(i,1)}async Jd(){if(!this.Yd.length)return;if(this.Qd>=this.Vd)return;this.Qd++;const t=this.Yd.shift();try{const s=await t.sf();t.resolve(s)}catch(s){t.reject(s)}this.Qd--,this.Jd()}static async Zd(t,s){const i=[];let e=!1;const n=async t=>{let n;for(;n=s.pop();){if(e)return;try{i.push(await n())}catch(t){throw e=!0,t}}},r=[];for(;t--;)r.push(n());return await Promise.all(r),i}}}{const gu=self.Gs;gu.Kd=class{constructor(t,s,i){this.Of=t,this.$d=s,this.tp=i||2*s,this.sp=-1,this.ip=-1/0,this.ep=()=>this.np(),this.rp=!1,this.hp=!1,this.op=null}ap(t){this.hp=!!t}up(){return void 0!==gu.lp&&gu.lp.cp()?this.tp:this.$d}fp(...t){if(-1!==this.sp)return;this.op=t;let s=gu.Nf(),i=s-this.ip,e=this.up();i>=e&&this.hp?(this.ip=s,this.pp()):this.sp=self.setTimeout(this.ep,Math.max(e-i,4))}pp(){this.rp=!0;const t=this.op;this.op=null,t?this.Of(...t):this.Of(),this.rp=!1}Ff(){this.rp||(this.mp(),this.op=null,this.ip=gu.Nf())}np(){this.sp=-1,this.ip=gu.Nf(),this.pp()}mp(){-1!==this.sp&&(self.clearTimeout(this.sp),this.sp=-1)}Yn(){this.mp(),this.Of=null,this.op=null,this.ep=null}}}{const yu=self.Gs;yu.gp=class{constructor(){this.yp=new Map,this.wp=!1,this.Mp=null,this.Sp=null,this.Tp=null,this.bp=null}vp(t){this.wp=!!t}xp(){return this.wp}Ip(t){this.Mp=t}Gp(t){if(!this.Mp)throw new Error("no get base size callback set");return this.Mp(t)}Cp(t){this.Sp=t}_p(t,s,i,e,n,r){if(!this.Sp)throw new Error("no raster at size callback set");return this.Sp(t,s,i,e,n,r)}Ap(t){this.Tp=t}Ep(t){if(!this.Tp)throw new Error("no release result callback set");this.Tp(t)}Dp(t){this.bp=t}Np(){if(!this.bp)throw new Error("no redraw callback set");this.bp()}Lp(t){let s=this.yp.get(t);return s||(s=yu.Vn(yu.Op,this,t),this.yp.set(t,s)),s.Rp(),s}Pp(t){this.yp.delete(t.kp())}Fp(){for(const t of this.yp.values())t.jp(),t.zp()}}}{const wu=self.Gs;wu.Op=class{constructor(t,s){this.Bp=t,this.Up=s,this.Wp=0,this.Vp=0,this.Yp=0,this.Qp=this.Bp.Gp(s).then((t=>{this.Bp&&(this.Vp=t[0],this.Yp=t[1],this.Bp.Np())})).catch((t=>{console.error("[SVG] Error loading SVG: ",t),this.Jp=!0,this.Bp&&this.Bp.Np()})),this.Hp=0,this.qp=0,this.Xp=0,this.Zp=0,this.Kp=!1,this.$p=null,this.tm=!1,this.Jp=!1}Yn(){if(this.Wp<=0)throw new Error("already released");this.Wp--,0===this.Wp&&this.sm()}jp(){this.$p&&(this.Bp.Ep(this.$p),this.$p=null)}sm(){this.jp(),this.Bp.Pp(this),this.Bp=null}kp(){return this.Up}Rp(){this.Wp++}im(){return this.Wp>0}nm(){return this.$p}zp(){this.tm=!0}async rm(t,s,i){if(0===s||0===i||this.Jp)return;if(this.Kp)return;let e=wu.Sr(Math.ceil(s)),n=wu.Sr(Math.ceil(i));const r=Math.max(e,n);if(r>4096){const t=4096/r;s*=t,i*=t,e=Math.min(Math.ceil(e*t),4096),n=Math.min(Math.ceil(n*t),4096)}if(s<e&&i<n){const t=s/i;e/n>t?(s=n*t,i=n):(s=e,i=e/t)}if(this.Bp.xp()&&(e=Math.ceil(s),n=Math.ceil(i)),e<=this.Hp&&n<=this.qp&&!this.tm)return;this.Kp=!0,this.Hp=e,this.qp=n;const h=await this.Bp._p(this.Up,t,this.Hp,this.qp,s,i);this.Bp&&(this.jp(),this.$p=h,this.Xp=s,this.Zp=i,this.Kp=!1,this.tm=!1,this.Bp.Np())}hm(){return this.Qp}om(){return this.Vp}am(){return this.Yp}um(){return this.Xp}lm(){return this.Zp}fm(){return this.Jp}}}{let Mu=function(t){return Iu.get(t)};0;const Su=self.Gs;Su.dm="\ufeff";const Tu=new Set("0123456789");Su.pm=function(t){return Tu.has(t)};const bu=new Set(" \t\n\r\u2028\u2029");Su.gm=function(t){return bu.has(t)},Su.ym=function(t){return[...t].filter((t=>!Su.gm(t))).join("")},Su.wm=function(t){for(const s of t)if(!Su.gm(s))return!1;return!0},Su.Mm=function(t){for(const s of t)if(!Su.gm(s))return!1;return!0},Su.Sm=function(t){return 1===t.length&&t.charCodeAt(0)<32},Su.Tm=function(t){return[...t].filter((t=>!Su.Sm(t))).join("")};let vu=null;try{vu=new RegExp("\\p{P}(?<=[\\u3000-\\u303F\\uFF00-\\uFFEF])","u")}catch(t){console.warn("Unable to detect CJK punctuation: ",t)}Su.bm=function(t){return!Su.gm(t)&&vu&&vu.test(t)};const xu=new Set("0123456789.+-e");Su.vm=function(t){if(!(t=t.trim()).length)return!1;let s=t.charAt(0);if("-"!==s&&!Tu.has(s))return!1;for(let s of t)if(!xu.has(s))return!1;return!0},Su.xm=function(t){let s=t.length;for(;s>0;){let i=t.charAt(s-1);if(!Su.pm(i))break;--s}return t.substr(0,s)},Su.Im=function(t){let s=Su.xm(t),i=t.substr(s.length);return i=i?(parseInt(i,10)+1).toString():"2",s+i};const Iu=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]),Gu=/[&<>"']/g;Su.Gm=function(t){return t.replace(Gu,Mu)},Su.Cm=function(t){let s=Su._m(t,"\\","\\\\");return s=Su._m(s,'"','\\"'),s=Su._m(s,"\t","\\t"),s=Su._m(s,"\r",""),Su._m(s,"\n","\\n")},Su.Am=function(t){let s=Su._m(t,"&","&amp;");return s=Su._m(s,"<","&lt;"),s=Su._m(s,">","&gt;"),Su._m(s,'"',"&quot;")};const Cu=/[-[\]{}()*+?.,\\^$|#\s]/g;Su.Xi=function(t){return t.replace(Cu,"\\$&")},Su.Em=function(t,s){let i=0;for(const e of t)e===s&&++i;return i},Su.Dm=function(t,s){let i=0,e=0;for(;i<s;){if(i=t.indexOf("\n",i),-1===i)return e;e++,i++}return e},Su.Nm=function(t,s,i=!1){if(!s)return[];i||(t=t.toLowerCase(),s=s.toLowerCase());const e=s.length;let n=0,r=0,h=[];for(;(r=t.indexOf(s,n))>-1;)h.push(r),n=r+e;return h},Su._m=function(t,s,i){return t.replaceAll(s,(()=>i))},Su.Lm=function(t,s,i){return t.replace(new RegExp(Su.Xi(s),"gi"),(()=>i))},Su.Om=function(t,s){"string"==typeof s?t.textContent=s:s.Rm()?t.textContent=s.toString():(t.innerHTML=s.Pm(),s instanceof Su.dn&&s.km(t))},Su.Fm=function(t,s){return t instanceof Su.fn||t instanceof Su.dn?t.equals(s):s instanceof Su.fn||s instanceof Su.dn?s.equals(t):t===s},Su.jm=function(t,...s){let i=t;for(let e=0,n=s.length;e<n;++e){const n=`{${e}}`;if(!t.includes(n))throw new Error(`missing placeholder '${n}' in string substitution`);i=i.replace(n,s[e].toString())}return i},Su.zm=function(t,...s){let i=t,e=-1,n=-1;for(let r=0,h=s.length;r<h;++r){const h=`{${r}}`;t.includes(h)?(n=r,i=i.replace(h,s[r].toString())):-1===e&&(e=r)}if(e>=0&&n>=0&&e<n)throw new Error(`missing placeholder '${e}' in string substitution`);return i},Su.Bm=function(t,s){let i=t;for(let[t,e]of Object.entries(s))i=i.replaceAll(t,e.toString());return i},Su.Um=function(t,s){return t>s?1:t<s?-1:0},Su.Wm=function(t,s){let i=t.toLowerCase(),e=s.toLowerCase();return i>e?1:i<e?-1:0};const _u=new self.Intl.Segmenter;Su.Vm=function(t){const s=[];for(const i of _u.segment(t))s.push(i.segment);return s},Su.Ym=function*(t){for(const s of _u.segment(t))yield s.segment},Su.Qm=function(t){let s=0;for(const i of _u.segment(t))++s;return s};const Au=1073741824,Eu=1099511627776;Su.Jm=function(t,s){let i="common."+(s?"dataRates":"dataSizes")+".";const e=self.Hm;if(t<1024)return e(i+"bytes",t);if(t<1048576){let s=t/1024;return s=s<10?Math.round(10*s)/10:Math.round(s),e(i+"kilobytes",s)}if(t<Au){let s=t/1048576;return s=s<10?Math.round(10*s)/10:Math.round(s),e(i+"megabytes",s)}if(t<Eu){let s=t/Au;return s=s<10?Math.round(10*s)/10:Math.round(s),e(i+"gigabytes",s)}{let s=t/Eu;return s=s<10?Math.round(10*s)/10:Math.round(s),e(i+"terabytes",s)}};const Du={qm:!1,Xm:!0,Zm:!0,Km:!0,$m:!0};Su.tg=function(t,s){s=Object.assign({},Du,s),Su.ig.sg("common.time");const i=[],e=self.lang,n=self.eg;if(s.Xm){const s=Math.floor(t/86400);s>0&&(t-=24*s*3600,i.push(n(".days",null,s)))}if(s.Zm){const s=Math.floor(t/3600);(s>0||i.length)&&(t-=3600*s,i.push(n(".hours",null,s)))}if(s.Km){const e=Math.floor(t/60);(e>0||i.length||!s.$m)&&(t-=60*e,i.push(n(".minutes",null,e)))}if(s.$m){const s=Math.floor(t%60);i.push(n(".seconds",null,s))}const r=(s.qm?e(".approx-prefix"):"")+i.join(e(".separator"));return Su.ig.ng(),r},Su.rg=function(t,s){let i=t<0?"-":"",e=(t=Math.abs(t)).toString(),n=s-e.length;for(let t=0;t<n;++t)i+="0";return i+e},Su.hg=function(t){return t.toLowerCase().replace(/\b\w/g,(t=>t.toUpperCase()))},Su.og=function(t,s){let i=t.split(".").map((t=>t.trim())),e=s.split(".").map((t=>t.trim()));Su.bh(i,4,"0"),Su.bh(e,4,"0"),i=i.map((t=>parseInt(t,10))),e=e.map((t=>parseInt(t,10)));for(let t=0;t<4;++t){const s=i[t]-e[t];if(0!==s)return s<0?-1:1}return 0},Su.ag=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const s=Math.floor(16*Math.random());return("x"===t?s:3&s|8).toString(16)}))},Su.ug=function(t,s){if(t.length!==s.length)throw new Error("strings must be same length");let i=0;for(let e=0,n=t.length;e<n;++e)t.charAt(e)!==s.charAt(e)&&++i;return i},Su.lg=function(t,s){if(0===t.length)return s.length;if(0===s.length)return t.length;let i,e,n,r,h,o;for(t.length>s.length&&(i=t,t=s,s=i),o=Array(t.length+1),e=0;e<=t.length;e++)o[e]=e;for(e=1;e<=s.length;e++){for(r=e,n=1;n<=t.length;n++)h=s[e-1]===t[n-1]?o[n-1]:Math.min(o[n-1]+1,Math.min(r+1,o[n]+1)),o[n-1]=r,r=h;o[t.length]=r}return o[t.length]}}{let Nu=function(t,s,i){const e=Ou.get(i);if(!e)return"class"===i?s?"</span>":`<span class="bbclass${zu++}">`:t;if("string"==typeof e){if("a"===e&&0===Fu.length||"abbr"===e&&0===ju.length)return t;if("a"!==e||s){if("abbr"!==e||s)return"<"+s+e+">";{const t=parseInt(i.substring(3),10)-1;if(t<0||t>=ju.length)throw new Error("invalid bbcode tip substitution");const s=ju[t];let e="";if("string"==typeof s?e=s:"function"==typeof s&&(e=s()),"string"!=typeof e)throw new TypeError("invalid bbcode tip");return`<abbr title="${Lu._m(e,'"',"&quot;")}">`}}{const t=parseInt(i.substring(1),10)-1;if(t<0||t>=Fu.length)throw new Error("invalid bbcode link substitution");const s=Fu[t];if("string"==typeof s)return`<a href="${Fu[t]}">`;if("function"==typeof s)return`<a class="bblink${t}">`;throw new TypeError("invalid bbcode link action")}}if(Array.isArray(e)){let t=e[0],i=e[1];return s?"</"+t+">":`<${t} class="${i}">`}};0;const Lu=self.Gs,Ou=(self.assert,new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]])),Ru=new Set(["icon"]),Pu=/\[(\/?)([a-zA-Z0-9]+)\]/g,ku=/\[(\/?)([^\[\n]*?)\]/g;let Fu=null,ju=null,zu=0;const Bu=/\n/g;Lu.dn=class{constructor(t,s){if(this.cg=s&&s.fg?t:Lu.Gm(t),this.dg="",this.pg=!1,this.mg=[],this.gg=[],s){if(this.pg=!!s.yg,s.links){if(s.links.length>9)throw new Error("too many links");this.mg=s.links}if(s.wg){if(s.wg.length>9)throw new Error("too many tips");this.gg=s.wg}}this.Mg=this.cg.includes("["),this.Sg=this.pg&&this.cg.includes("\n"),this.Tg=!this.Mg&&!this.Sg&&!this.cg.includes("&"),this.bg=!1,this.vg=[]}toString(){return this.cg}valueOf(){return this.cg}Rm(){return this.Tg}xg(){return this.Mg?this.cg.replace(Pu,""):this.cg}Pm(){if(this.Tg)return this.cg;if(!this.dg&&this.cg){let t=this.cg;this.Mg&&(zu=0,Fu=this.mg,ju=this.gg,t=t.replace(Pu,Nu),Fu=null,ju=null),this.Sg&&(t=t.replace(Bu,"<br>")),this.dg=t}return this.dg}km(t){if(this.mg.length)for(let s=0,i=this.mg.length;s<i;++s){const i=this.mg[s];if("function"!=typeof i)continue;const e=t.querySelector(".bblink"+s);if(!e)throw new Error("unable to attach BBString link handler");e.onclick=i}}equals(t){return t instanceof Lu.fn?this.Pm()===t.Pm():t instanceof Lu.dn?this.cg===t.cg:this.cg===t}Ig(){if(this.bg)return this.vg;const t=[],s=this.cg,i=[];ku.lastIndex=0;let e=0,n=null;for(;null!==(n=ku.exec(s));){const r=n.index;if(r>0&&"\\"===s.charAt(r-1))continue;const h=n[0],o=n[1],a=n[2],u=s.substring(e,r);if(e=r+h.length,u&&t.push({text:u,Gg:i.slice(0)}),a)if(o){const t=a.toLowerCase();for(let s=i.length-1;s>=0;--s)if(i[s].tag===t){i.splice(s,1);break}}else{let s=a,e=null;const n=a.indexOf("=");if(-1!==n?(s=a.substring(0,n).toLowerCase(),e=a.substring(n+1)):s=s.toLowerCase(),Ru.has(s)){if("icon"!==s)throw new Error(`unknown self-closing tag ${s}`);t.push({icon:e,Gg:i.slice(0)})}else i.push({tag:s,Cg:e})}}e<s.length&&t.push({text:s.substring(e),Gg:i.slice(0)});for(const s of t)s.text&&(s.text=this._g(s.text));return this.vg=t.map((t=>t.icon?Lu.Vn(Lu.Ag,{icon:t.icon,Gg:t.Gg}):Lu.Vn(Lu.Eg,{Dg:Lu.Vm(t.text),Gg:t.Gg}))),this.bg=!0,this.vg}_g(t){return t=Lu._m(t,"\\[","["),Lu._m(t,"\\\\","\\")}static Ng(t){return Lu.Vn(Lu.dn,t,{fg:!0}).xg()}static Lg(t){return t.replace(ku,"")}}}{let Uu=function(t){return""!==t&&""!==t&&Ju.gm(t)},Wu=function(t){return Hu.has(t)},Vu=function(t){return Ju.bm(t)&&!Wu(t)},Yu=function(t){for(;t.length>0&&Uu(t.at(-1));)t.pop()},Qu=function(t){return"\n"===t||"\r\n"===t};0;const Ju=self.Gs,Hu=new Set("");Ju.Og=class{constructor(){this.Rg=[],this.Pg=null}kg(){return this.Rg}Fg(){return this.Rg.length}jg(t){this.Pg=t}zg(t,s){let i=0,e=0,n=0,r=0,h=0;for(const o of t){if(-1===o.Bg()){const t=s(o);o.Ug(t.height),o.Wg(t.fontBoundingBoxAscent||0),o.Vg(t.fontBoundingBoxDescent||0),o.Yg(t.Qg||0),o.Jg()?o.Hg(t.width):o.qg()&&o.Xg(this.Pg)}i+=o.Bg(),e=Math.max(e,o.Zg()),n=Math.max(n,o.Kg()),r=Math.max(r,o.$g()),h=Math.max(h,o.ty())}return{width:i,height:e,fontBoundingBoxAscent:n,fontBoundingBoxDescent:r,Qg:h}}sy(t,s,i,e,n,r){this.Rg.push(Ju.Vn(Ju.Og.iy,{ey:t,width:s,height:i,fontBoundingBoxAscent:e,fontBoundingBoxDescent:n,Qg:r}))}Og(t,s,i,e,n){if("string"==typeof t&&(t=[Ju.Vn(Ju.Eg,{Dg:Ju.Vm(t)})]),Ju.Mh(this.Rg),!t.length||1===t.length&&t[0].Jg()&&t[0].Al()||i<2)return;if(1===t.length){const e=t[0];if(e.Jg()&&e.ny()<=100&&!e.hy()){let{width:t,height:r,fontBoundingBoxAscent:h,fontBoundingBoxDescent:o,Qg:a}=s(e);if(t+=n,e.Hg(t),e.Ug(r),e.Wg(h||0),e.Vg(o||0),e.Yg(a||0),t<=i)return void this.sy([e],t,r,h,o,a)}}let r;r="word"===e?this.oy(t):"cjk"===e?this.uy(t):this.ly(t),this.py(r,s,i,n)}oy(t){const s=[];let i=[],e=!1;for(const n of t){const t=n.my();if(n.qg())i.length>0&&s.push(i),s.push([n]),i=[];else for(const r of n.gy())if(Qu(r))i.length>0&&s.push(i),s.push([Ju.Vn(Ju.Eg,{Dg:["\n"],Gg:t})]),i=[];else if(0===i.length)i.push(Ju.Vn(Ju.Eg,{Dg:[r],Gg:t})),e=Uu(r);else{const n=Uu(r);if(n===e){const s=i.at(-1);s.my()===t?s.yy(r):i.push(Ju.Vn(Ju.Eg,{Dg:[r],Gg:t}))}else s.push(i),i=[Ju.Vn(Ju.Eg,{Dg:[r],Gg:t})],e=n}}return i.length>0&&s.push(i),s}uy(t){const s=[];let i=[],e=!1;for(const n of t){const t=n.my();if(n.qg())i.length>0&&s.push(i),s.push([n]),i=[];else for(const r of n.gy())if(Qu(r))i.length>0&&s.push(i),s.push([Ju.Vn(Ju.Eg,{Dg:["\n"],Gg:t})]),i=[];else if(0===i.length)i.push(Ju.Vn(Ju.Eg,{Dg:[r],Gg:t})),e=Wu(r);else if(e||Vu(r)){const s=i.at(-1);s.my()===t?s.yy(r):i.push(Ju.Vn(Ju.Eg,{Dg:[r],Gg:t})),e=Wu(r)}else s.push(i),i=[Ju.Vn(Ju.Eg,{Dg:[r],Gg:t})],e=Wu(r)}return i.length>0&&s.push(i),s}ly(t){const s=[];for(const i of t)if(i.Jg()){const t=i.gy();Ju.Nn(s,t.map((t=>[Ju.Vn(Ju.Eg,{Dg:[t],Gg:i.my()})])))}else s.push([i]);return s}wy(t){return t.map((t=>t.My()))}Sy(t,s){const i=t.length?t.at(-1):null;let e=0;i&&i.Jg()&&s[0].Jg()&&s[0].my()===i.my()&&(i.Ty(s[0].gy()),e=1);for(let i=s.length;e<i;++e){const i=s[e];t.push(i.My())}}py(t,s,i,e){let n=[],r=0,h=0,o=0,a=0,u=0;for(const e of t){if(1===e.length&&e[0].Jg()&&1===e[0].ny()&&Qu(e[0].gy()[0])){if(0===h){const t=s(Ju.Vn(Ju.Eg,{Dg:[" "],Gg:e[0].my()}));h=t.height,o=t.fontBoundingBoxAscent||0,a=t.fontBoundingBoxDescent||0,u=t.Qg||0}this.sy(n,r,h,o,a,u),n=[],r=0,h=0,o=0,a=0,u=0;continue}const t=this.wy(n);this.Sy(t,e);const l=this.zg(t,s),c=l.width;if(c>=i)if(n.length>0&&this.sy(n,r,h,o,a,u),n=[],e[0].Jg()&&Ju.Mm(e[0].gy()))r=0,h=0,o=0,a=0,u=0;else{this.Sy(n,e);const t=this.zg(n,s);r=t.width,h=t.height,o=t.fontBoundingBoxAscent,a=t.fontBoundingBoxDescent,u=t.Qg}else n=t,r=c,h=l.height,o=l.fontBoundingBoxAscent,a=l.fontBoundingBoxDescent,u=l.Qg}n.length>0&&this.sy(n,r,h,o,a,u),this.by(s,e)}by(t,s){for(const i of this.Rg){const e=i.vy();if(!e.length)continue;let n=e.at(-1);if(n.Jg()){const r=n.gy(),h=r.slice(0);if(Yu(h),0===h.length)i.xy(-n.Bg()),e.pop();else if(h.length<r.length){n.Iy(h);const s=t(n).width,e=n.Bg()-s;n.Hg(s),i.xy(-e)}0!==s&&e.length>0&&(n=e.at(-1),n.xy(s),i.xy(s))}}}_l(){Ju.Mh(this.Rg)}Gy(){return this.Rg.reduce(((t,s)=>Math.max(t,s.Bg())),0)}Cy(){return this.Rg.reduce(((t,s)=>t+s.Zg()),0)}}}self.Gs.Og.iy=class{constructor(t){this.vg=t.ey||[],this._y=t.width||-1,this.Ay=t.height||-1,this.Ey=t.fontBoundingBoxAscent||-1,this.Dy=t.fontBoundingBoxDescent||-1,this.Ny=t.Qg||-1,this.Ly=0,this.Oy=0}ey(){return this.vg.values()}*Ry(){const t=this.vg;for(let s=t.length-1;s>=0;--s)yield t[s]}vy(){return this.vg}xy(t){this._y+=t}Bg(){return this._y}Zg(){return this.Ay}Py(){return this.Ey}$g(){return this.Dy}ty(){return this.Ny}ky(t){this.Ly=t}Fy(){return this.Ly}jy(t){this.Oy=t}zy(){return this.Oy}};self.Gs.By=class{constructor(t){this.Uy=t.Gg||[],this._y=t.width||-1,this.Ay=t.height||-1,this.Ey=t.fontBoundingBoxAscent||-1,this.Dy=t.fontBoundingBoxDescent||-1,this.Ny=t.Qg||-1,this.Ly=0,this.Oy=0}Jg(){return!1}qg(){return!1}my(){return this.Uy}Wy(t){const s=this.Uy;for(let i=s.length-1;i>=0;--i){const e=s[i];if(e.tag===t)return e}return null}Vy(t){return!!this.Wy(t)}Yy(){const t=new Map;for(const s of this.Uy)t.set(s.tag,s.Cg);return t}xy(t){this._y+=t}Hg(t){this._y=t}Bg(){return this._y}Ug(t){this.Ay=t}Zg(){return this.Ay}Wg(t){this.Ey=t}Kg(){return this.Ey}Vg(t){this.Dy=t}$g(){return this.Dy}Yg(t){this.Ny=t}ty(){return this.Ny}ky(t){this.Ly=t}Fy(){return this.Ly}jy(t){this.Oy=t}zy(){return this.Oy}};{const qu=self.Gs;qu.Eg=class extends qu.By{constructor(t){super(t),this.Qy=t.Dg}Jg(){return!0}Ty(t){qu.Nn(this.Qy,t),this._y=-1,this.Ay=-1,this.Ey=-1,this.Dy=-1,this.Ny=-1}yy(t){this.Qy.push(t)}My(){return qu.Vn(qu.Eg,{Dg:this.Qy.slice(0),Gg:this.Uy,width:this._y,height:this.Ay,fontBoundingBoxAscent:this.Ey,fontBoundingBoxDescent:this.Dy,Qg:this.Ny})}gy(){return this.Qy}Iy(t){this.Qy=t}ny(){return this.Qy.length}Al(){return 0===this.Qy.length}hy(){return this.Qy.includes("\n")}}}{const Xu=self.Gs;Xu.Ag=class extends Xu.By{constructor(t){super(t),this.Jy=t.icon}qg(){return!0}Hy(){return this.Jy}My(){return Xu.Vn(Xu.Ag,{icon:this.Jy,Gg:this.Uy,width:this._y,height:this.Ay,fontBoundingBoxAscent:this.Ey,fontBoundingBoxDescent:this.Dy,Qg:this.Ny})}qy(t){if(!t)return null;let s=Number(this.Jy);return String(s)===this.Jy?(s=Math.floor(s),t.Xy(s)):t.Zy(this.Jy)}Xg(t){const s=this.qy(t);this._y=s?this.Ay*s.Bg()/s.Zg():0}Ky(t){const s=this.qy(t);return s?s.Ky():null}ny(){return 1}}}{const Zu=self.Gs;Zu.$y=class{constructor(t){this.tw=new Map,this.sw=t.iw,this.ew=t.rw}Yn(){for(const t of this.tw.values())t.Yn();this.tw.clear()}hw(t){let s=this.tw.get(t);if(s)return s;const i=this.sw(t);return s=Zu.Vn(Zu.ow,this,{source:t,aw:i}),this.tw.set(t,s),s}uw(t){return this.tw.has(t)}lw(t){const s=this.tw.get(t);s&&s.Yn(),this.tw.delete(t)}async cw(t){return await this.ew(t)}}}{const Ku=self.Gs;Ku.ow=class{constructor(t,s){this.fw=t,this.dw=s.source,this.pw=[],this.mw=new Map,this.gw=!1,this.yw=!1,this.ww=null;const i=s.aw.Mw;for(let t=0,s=i.length;t<s;++t){const s=i[t],e=Ku.Vn(Ku.Sw,this,{index:t,tag:s.tag,source:s.source,width:s.width,height:s.height});this.pw.push(e),s.tag&&this.mw.set(s.tag.toLowerCase(),e)}}Yn(){for(const t of this.pw)t.Yn();Ku.Mh(this.pw),this.mw.clear(),this.fw=null,this.dw=null}Tw(){return this.gw}bw(){return this.yw}xw(){return this.ww||(this.ww=this.Iw()),this.ww}async Iw(){if(this.gw)return;this.gw=!0,this.yw=!0;const t=await this.fw.cw(this.dw);if(!this.fw)return;const s=t.Mw;for(let t=0,i=Math.min(s.length,this.pw.length);t<i;++t){const i=s[t].Gw;this.pw[t].Cw(i)}this.yw=!1}Xy(t){return(t=Math.floor(t))<0||t>=this.pw.length?null:this.pw[t]}Zy(t){return this.mw.get(t.toLowerCase())||null}}}self.Gs.Sw=class{constructor(t,s){this._w=t,this.dw=s.source||null,this.Aw=s.index,this.Ew=s.tag,this._y=s.width,this.Ay=s.height,this.Dw=null}Yn(){this._y=0,this.Ay=0,this._w=null}Nw(){return this.dw}Bg(){return this._y}Zg(){return this.Ay}Cw(t){this.Dw=t}Ky(){return this.Dw}};{let $u=function(t,s,i,e){const n=ul;nl.N(ol,i,s),nl.N(al,t,s),nl.It(n,ol,al),nl.normalize(n,n),e.set(n[0],n[1],n[2],nl.xt(t,n))},tl=function(t,s,i,e,n,r,h){const o=h.x,a=h.y,u=h.z,l=h.w,c=h.Lw,f=h.Ow,d=h.Rw,p=1-c,m=1-f,g=1-d;return o*t*c+o*e*p+a*s*f+a*n*m+u*i*d+u*r*g>=l||o*e*c+o*t*p+a*n*f+a*s*m+u*r*d+u*i*g>l},sl=function(t,s,i,e){return e.x*t+e.y*s+e.z*i>=e.w};0;const il=self.Gs,el=self.hs,nl=el.ys,rl=el.ws,hl=el.fs,ol=nl.create(),al=nl.create(),ul=nl.create(),ll=rl.create(),cl=hl.create(),fl=nl.create(),dl=nl.create(),pl=nl.create(),ml=nl.create(),gl=nl.create(),yl=nl.create(),wl=nl.create(),Ml=nl.create(),Sl=rl.M(0,0,1,1);il.Pw={kw(t,s,i,e,n,r,h){const o=e[0]*t+e[4]*s+e[8]*i+e[12],a=e[1]*t+e[5]*s+e[9]*i+e[13],u=e[2]*t+e[6]*s+e[10]*i+e[14],l=e[3]*t+e[7]*s+e[11]*i+e[15];let c=n[0]*o+n[4]*a+n[8]*u+n[12]*l,f=n[1]*o+n[5]*a+n[9]*u+n[13]*l,d=n[2]*o+n[6]*a+n[10]*u+n[14]*l,p=n[3]*o+n[7]*a+n[11]*u+n[15]*l;return 0!==p&&(p=1/p,c*=p,f*=p,d*=p,h[0]=(.5*c+.5)*r[2]+r[0],h[1]=(.5*f+.5)*r[3]+r[1],h[2]=.5*(1+d),!0)},Fw(t,s,i,e,n,r,h){const o=cl,a=ll;return hl.multiply(o,n,e),null!==hl.T(o,o)&&(a[0]=(t-r[0])/r[2]*2-1,a[1]=(s-r[1])/r[3]*2-1,a[2]=2*i-1,a[3]=1,rl.Et(a,a,o),0!==a[3]&&(a[3]=1/a[3],h[0]=a[0]*a[3],h[1]=a[1]*a[3],h[2]=a[2]*a[3],!0))},jw(t,s,i,e,n,r,h){const o=ol,a=al;if(!il.Pw.Fw(t,s,0,e,n,r,o))return!1;if(!il.Pw.Fw(t,s,1,e,n,r,a))return!1;const u=al;nl.N(u,a,o);const l=ul;nl.set(l,0,0,1);const c=-i,f=nl.xt(l,u);let d=0;if(0===f){if(0!==nl.xt(l,o)+c)return!1}else if(d=-(nl.xt(o,l)+c)/f,d<0)return!1;return nl.Mt(h,o,u,d),!0}};class Tl{constructor(){this.x=NaN,this.y=NaN,this.z=NaN,this.w=NaN,this.Lw=NaN,this.Ow=NaN,this.Rw=NaN}set(t,s,i,e){this.x=t,this.y=s,this.z=i,this.w=e,this.Lw=t>0?1:0,this.Ow=s>0?1:0,this.Rw=i>0?1:0}}il.Pw.zw=class{constructor(){this.Bw=new Tl,this.Uw=new Tl,this.Ww=new Tl,this.Vw=new Tl,this.Yw=new Tl,this.Qw=new Tl}Jw(t,s){const i=Sl;il.Pw.Fw(0,1,0,t,s,i,fl),il.Pw.Fw(1,1,0,t,s,i,dl),il.Pw.Fw(0,0,0,t,s,i,pl),il.Pw.Fw(1,0,0,t,s,i,ml),il.Pw.Fw(0,1,1,t,s,i,gl),il.Pw.Fw(1,1,1,t,s,i,yl),il.Pw.Fw(0,0,1,t,s,i,wl),il.Pw.Fw(1,0,1,t,s,i,Ml),$u(pl,fl,gl,this.Bw),$u(fl,dl,yl,this.Uw),$u(dl,ml,Ml,this.Ww),$u(ml,pl,wl,this.Vw),$u(wl,gl,yl,this.Qw),$u(ml,dl,fl,this.Yw)}Hw(t,s,i,e,n,r){return tl(t,s,i,e,n,r,this.Bw)&&tl(t,s,i,e,n,r,this.Uw)&&tl(t,s,i,e,n,r,this.Ww)&&tl(t,s,i,e,n,r,this.Vw)&&tl(t,s,i,e,n,r,this.Yw)&&tl(t,s,i,e,n,r,this.Qw)}qw(t,s,i){return!sl(t,s,i,this.Yw)}}}{const bl=self.Gs,vl=self.hs,xl=vl.ys,Il=vl.ws,Gl=vl.fs,Cl=Gl.create(),_l=xl.M(0,0,0),Al=xl.M(0,0,0),El=xl.M(0,0,0),Dl=xl.M(0,1,0),Nl=(Il.M(0,0,0,0),new bl.Cu),Ll=new bl.Rect,Ol=new bl.Cu(0,0,1,0,1,1,0,1),Rl={Xw:1,Zw:1e4},Pl=Gl.M(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);bl.Pw.Kw=class{constructor(t){t=Object.assign({},Rl,t),this._y=0,this.Ay=0,this.$w=bl.Kn(45),this.tM=Math.tan(this.$w/2),this.sM=Gl.create(),this.iM=Gl.create(),this.eM=!1,this.nM=t.Xw,this.rM=t.Zw,this.hM=[],this.oM=new Map,this.aM=null,this.uM=null,this.lM=null,this.cM=null,this.fM=null,this.dM=null,this.pM=null,this.mM=null,this.gM=null,this.yM=null,this.wM=null,this.MM=null,this.SM=new Map,this.TM=null,this.bM=[],this.vM=new Map,this.xM=0,this.IM=0,this.GM=1,this.CM=[this.GM],this._M=1,this.AM=[this._M],this.EM=.5,this.DM=[this.EM],this.NM=0,this.LM=!0,this.OM=!1}RM(t){let s=0,i=t.length,e=0;for(;s<i;)t[s++]=e,t[s++]=e+1,t[s++]=e+2,t[s++]=e,t[s++]=e+2,t[s++]=e+3,e+=4}PM(){this.xM=0,this.IM=0,this.aM=null,this.uM=null,this.lM=null,this.cM=null,this.fM=null,this.dM=null,this.pM=null,this.mM=null,this.gM=null,this.yM=null,this.wM=null,this.MM=null,this.kM()}FM(){this.PM(),this.TM=null}jM(){for(const t of this.hM)t.Yn();this.PM()}Bg(){return this._y}Zg(){return this.Ay}zM(t){return this.BM()?100:t/(2*this.UM())}WM(t){return this.BM()?t/(2*this.UM())/this.zM(t):1}VM(t){this.nM=t}YM(){return this.nM}QM(t){this.rM=t}JM(){return this.rM}HM(t){this.$w=t,this.tM=Math.tan(this.$w/2)}qM(){return this.$w}UM(){return this.tM}XM(){this.eM=!1}ZM(){this.eM=!0}BM(){return!this.eM}KM(){return this.eM}$M(t,s,i=.5,e=.5){const n=this.YM(),r=this.JM(),h=this.qM();if(.5===i&&.5===e)this.tS()?Gl.ut(t,h,s,n,r):Gl.perspective(t,h,s,n,r);else{const h=2*(i=1-i)-2,o=2*i,a=2*e-2,u=2*e,l=this.UM()*n,c=l*s;Gl.ht(t,h*c,o*c,a*l,u*l,n,r),this.tS()&&Gl.mul(t,Pl,t)}}sS(t,s,i,e=1){const n=self.devicePixelRatio,r=2*this.zM(i)*n*this.UM()/i,h=s*r/(2*n*e),o=i*r/(2*n*e),a=-h,u=h,l=-o,c=o;this.tS()?Gl.dt(t,a,u,l,c,this.YM(),this.JM()):Gl.ft(t,a,u,l,c,this.YM(),this.JM())}iS(t,s,i,e,n,r=1){let h=1;this.BM()&&(h=200*this.UM()/n);const o=El;xl.set(o,h,-h,1);const a=_l,u=Al;xl.multiply(a,s,o),xl.multiply(u,i,o),Gl.gt(t,a,u,e||Dl),o[2]=r,Gl.scale(t,t,o)}eS(t,s,i,e,n,r,h,o){return xl.set(_l,t,s,i),xl.set(Al,e,n,r),this.iS(Cl,_l,Al,Dl,h,o),Cl}nS(t){this.hM.push(t),this.oM.set(t._c(),t)}rS(t){const s=this.hM.indexOf(t);-1!==s&&this.hM.splice(s,1),this.oM.delete(t._c())}kM(){bl.Mh(this.hM),this.oM.clear()}hS(t){return this.oM.get(t)||null}oS(){return this.aM}aS(){this.uS(this.aM)}lS(){return this.uM}cS(){this.uS(this.uM)}fS(){this.uS(this.lM)}dS(){this.uS(this.cM)}pS(){this.uS(this.fM)}mS(){this.uS(this.dM)}gS(){this.uS(this.pM)}yS(){this.uS(this.mM)}wS(){this.uS(this.gM)}MS(){this.uS(this.yM)}SS(){this.uS(this.wM)}TS(){this.uS(this.MM)}bS(t){this.TM=t}vS(){return this.TM}xS(t,s,i,e){const n=bl.Pw.GS.IS(t,s,i,e);let r=this.SM.get(n);return r||(r=bl.Vn(bl.Pw.GS,this,t,s,i,e),this.SM.set(n,r)),r.CS(),r}_S(t){t.AS(),0===t.ES()&&(this.TM===t&&(this.TM=null),this.SM.delete(t.DS()),t.Yn())}NS(t){bl.Mh(this.bM),this.vM.clear();let s=0;for(const i of t){const t=i[0],e=i[1],n=i[2];this.bM.push([e,n]),this.vM.set(t,{number:s,LS:e,OS:n}),s++}}RS(t){return this.bM[t]}PS(t){return this.RS(t)[0]}kS(t){return this.RS(t)[1]}FS(t){const s=this.vM.get(t);if(void 0===s)throw new Error("invalid blend name");return s}jS(t){const s=this.vM.get(t);if(void 0===s)throw new Error("invalid blend name");return s.number}zS(t){this.xM=t}BS(){return this.xM}US(t){this.IM=t,this.TM=null}WS(){return this.IM}iy(t,s,i,e){const n=bl.nr(t,s,i,e),r=Math.sin(n),h=Math.cos(n),o=.5*this.GM,a=r*o,u=h*o,l=this._M;2===l?this.VS(t,s,0,i,e,0,a,u):1===l?this.YS(t,s,0,i,e,0,a,u):this.QS(t,s,0,i,e,0,a,u)}JS(t,s,i,e,n,r){const h=bl.nr(t,s,e,n),o=Math.sin(h),a=Math.cos(h),u=.5*this.GM,l=o*u,c=a*u,f=this._M;2===f?this.VS(t,s,i,e,n,r,l,c):1===f?this.YS(t,s,i,e,n,r,l,c):this.QS(t,s,i,e,n,r,l,c)}VS(t,s,i,e,n,r,h,o){const a=this.EM,u=t+a-o,l=s+a-h,c=e+a+o,f=n+a+h,d=2*o,p=2*h,m=u+h,g=l-o,y=u-h+d,w=l+o+p,M=c+h,S=f-o,T=c-h-d,b=f+o-p;this.HS(m,g,i,M,S,r,T,b,r,y,w,i,Ol)}YS(t,s,i,e,n,r,h,o){const a=this.EM,u=t+a-o,l=s+a-h,c=e+a+o,f=n+a+h,d=u+h,p=l-o,m=u-h,g=l+o,y=c+h,w=f-o,M=c-h,S=f+o;this.HS(d,p,i,y,w,r,M,S,r,m,g,i,Ol)}QS(t,s,i,e,n,r,h,o){const a=this.EM,u=t+a,l=s+a,c=e+a,f=n+a,d=u+h,p=l-o,m=u-h,g=l+o,y=c+h,w=f-o,M=c-h,S=f+o;this.HS(d,p,i,y,w,r,M,S,r,m,g,i,Ol)}qS(t,s,i,e,n,r){const h=bl.nr(t,s,i,e),o=Math.sin(h),a=Math.cos(h),u=.5*this.GM,l=o*u,c=a*u,f=this._M;2===f?this.XS(t,s,i,e,l,c,n,r):1===f?this.ZS(t,s,i,e,l,c,n,r):this.KS(t,s,i,e,l,c,n,r)}XS(t,s,i,e,n,r,h,o){const a=this.EM,u=t+a-r,l=s+a-n,c=i+a+r,f=e+a+n,d=2*r,p=2*n,m=u+n,g=l-r,y=u-n+d,w=l+r+p,M=c+n,S=f-r,T=c-n-d,b=f+r-p;Nl.set(m,g,M,S,T,b,y,w),Ll.set(h,0,o,0),this.$S(Nl,Ll)}ZS(t,s,i,e,n,r,h,o){const a=this.EM,u=t+a-r,l=s+a-n,c=i+a+r,f=e+a+n,d=u+n,p=l-r,m=u-n,g=l+r,y=c+n,w=f-r,M=c-n,S=f+r;Nl.set(d,p,y,w,M,S,m,g),Ll.set(h,0,o,0),this.$S(Nl,Ll)}KS(t,s,i,e,n,r,h,o){const a=this.EM,u=t+a,l=s+a,c=i+a,f=e+a,d=u+n,p=l-r,m=u-n,g=l+r,y=c+n,w=f-r,M=c-n,S=f+r;Nl.set(d,p,y,w,M,S,m,g),Ll.set(h,0,o,0),this.$S(Nl,Ll)}tT(t,s,i,e){const n=.5*this.GM,r=this._M;2===r?this.sT(t,s,i,e,n):1===r?this.iT(t,s,i,e,n):this.eT(t,s,i,e,n)}sT(t,s,i,e,n){this.VS(t,s,0,i,s,0,0,n),this.VS(i,s,0,i,e,0,n,0),this.VS(i,e,0,t,e,0,0,-n),this.VS(t,e,0,t,s,0,-n,0)}iT(t,s,i,e,n){this.YS(t,s,0,i,s,0,0,n),this.YS(i,s,0,i,e,0,n,0),this.YS(i,e,0,t,e,0,0,-n),this.YS(t,e,0,t,s,0,-n,0)}eT(t,s,i,e,n){this.QS(t,s,0,i,s,0,0,n),this.QS(i,s,0,i,e,0,n,0),this.QS(i,e,0,t,e,0,0,-n),this.QS(t,e,0,t,s,0,-n,0)}nT(t){this.tT(t.Za(),t.Ka(),t.$a(),t.tu())}rT(t){const s=bl.nr(t.Fr(),t.jr(),t.zr(),t.Br()),i=Math.sin(s),e=Math.cos(s),n=.5*this.GM,r=i*n,h=e*n,o=this._M;2===o?this.hT(t,r,h):1===o?this.oT(t,r,h):this.aT(t,r,h)}hT(t,s,i){this.VS(t.Fr(),t.jr(),0,t.zr(),t.Br(),0,s,i),this.VS(t.zr(),t.Br(),0,t.Ur(),t.Wr(),0,i,-s),this.VS(t.Ur(),t.Wr(),0,t.Vr(),t.Yr(),0,-s,-i),this.VS(t.Vr(),t.Yr(),0,t.Fr(),t.jr(),0,-i,s)}oT(t,s,i){this.YS(t.Fr(),t.jr(),0,t.zr(),t.Br(),0,s,i),this.YS(t.zr(),t.Br(),0,t.Ur(),t.Wr(),0,i,-s),this.YS(t.Ur(),t.Wr(),0,t.Vr(),t.Yr(),0,-s,-i),this.YS(t.Vr(),t.Yr(),0,t.Fr(),t.jr(),0,-i,s)}aT(t,s,i){this.QS(t.Fr(),t.jr(),0,t.zr(),t.Br(),0,s,i),this.QS(t.zr(),t.Br(),0,t.Ur(),t.Wr(),0,i,-s),this.QS(t.Ur(),t.Wr(),0,t.Vr(),t.Yr(),0,-s,-i),this.QS(t.Vr(),t.Yr(),0,t.Fr(),t.jr(),0,-i,s)}uT(t){this.GM=t,this.CM[this.CM.length-1]=t}lT(){return this.GM}cT(t){if(this.CM.length>=100)throw new Error("pushed too many line widths - check push/pop pairs");this.CM.push(t),this.GM=t}fT(){if(this.CM.length<=1)throw new Error("cannot pop last line width - check push/pop pairs");this.CM.pop(),this.GM=this.CM.at(-1)}dT(){this._M=0,this.AM[this.AM.length-1]=0}pT(){this._M=1,this.AM[this.AM.length-1]=0}mT(){this._M=2,this.AM[this.AM.length-1]=0}gT(t){if("butt"===t)this.yT();else if("square"===t)this.wT();else{if("zag"!==t)throw new Error("invalid line cap");this.MT()}}yT(){if(this.AM.length>=100)throw new Error("pushed too many line caps - check push/pop pairs");this.AM.push(0),this._M=0}wT(){if(this.AM.length>=100)throw new Error("pushed too many line caps - check push/pop pairs");this.AM.push(1),this._M=1}MT(){if(this.AM.length>=100)throw new Error("pushed too many line caps - check push/pop pairs");this.AM.push(2),this._M=2}ST(){if(this.AM.length<=1)throw new Error("cannot pop last line cap - check push/pop pairs");this.AM.pop(),this._M=this.AM.at(-1)}TT(t){this.EM=t,this.DM[this.DM.length-1]=t}bT(){return this.EM}vT(t){if(this.DM.length>=100)throw new Error("pushed too many line offsets - check push/pop pairs");this.DM.push(t),this.EM=t}xT(){if(this.DM.length<=1)throw new Error("cannot pop last line offset - check push/pop pairs");this.DM.pop(),this.EM=this.DM.at(-1)}IT(t){const s=t.length/2;if(s<3)throw new Error("need at least 3 points");const i=s-2,e=i-1,n=t[0],r=t[1];for(let s=0;s<i;s+=2){const i=2*s,h=t[i+2],o=t[i+3],a=t[i+4],u=t[i+5];if(s===e)this.GT(n,r,h,o,a,u,a,u);else{const s=t[i+6],e=t[i+7];this.GT(n,r,h,o,a,u,s,e)}}}CT(){return 3}_T(){this.AT(!0),this.NM++}ET(){return this.NM}DT(){this.NM++}NT(t){this.LM=!!t}LT(){return this.LM}OT(t){this.OM=!!t}RT(){return this.OM}PT(){return!1}tS(){return!1}kT(){}FT(){}jT(){}zT(){return this.kT()+this.FT()+this.jT()}BT(){return bl.Vn(bl.Pw.UT,this)}}}self.Gs.Pw.WT=class{constructor(t,s){this.Hn=s.name,this.VT=t,this.YT=s.QT||0,this.JT=s.HT||0,this.qT=!!s.XT,this.ZT=!!s.KT,this.$T=!!s.tb,this.sb=!!s.ib,this.eb=!!s.animated,this.nb=!!s.rb,this.hb=!!s.ob,this.ab=!1,this.ub=this.qT||this.nb||0!==this.YT||0!==this.JT}Yn(){this.VT=null}lb(){return this.VT}_c(){return this.Hn}cb(){return 0!==this.YT||0!==this.JT}fb(){return this.YT}pb(){return this.JT}mb(){return this.qT}gb(){return this.ZT}yb(){return this.$T}wb(){return this.sb}Mb(){return this.eb}Sb(){return this.nb}Tb(){return this.hb}bb(){return this.ab}xb(){return this.ub}Ib(){return!1}};{const kl=self.Gs;kl.Pw.GS=class{constructor(t,s,i,e,n){this.VT=t,this.Wp=0,this.Gb=null,this.Cb="",this._b=i,this.Ab=kl.Vn(kl.vo),this.Ab.set(e),this.Eb=n,"string"==typeof s?this.Cb=s:(this.Gb=s,this.Cb=this.Gb._c())}Yn(){if(this.Wp>0)throw new Error("releasing state group still in use");this.VT=null,this.Gb=null,this.Cb=""}Db(){const t=this.VT;t.uS(this.Gb),t.Nb(this._b),t.Lb(this.Ab),t.US(this.Eb),t.bS(this)}DS(){return kl.Pw.GS.IS(this.Cb,this._b,this.Ab,this.Eb)}CS(){++this.Wp}AS(){--this.Wp}ES(){return this.Wp}Ob(){this.Gb=null}Rb(t){if(this.Gb=t.hS(this.Cb),!this.Gb)throw new Error("failed to restore shader program")}static IS(t,s,i,e){return("string"==typeof t?t:t._c())+","+s+","+i.ko()+","+i.Fo()+","+i.jo()+","+i.zo()+","+e}}}{let Fl=function(t,s,i){const e=i.Fr(),n=i.jr(),r=i.zr()-e,h=i.Br()-n;return[e+r*t+(i.Vr()-e)*s,n+h*t+(i.Yr()-n)*s]};0;const jl=self.Gs,zl=jl.Vn(jl.Cu);jl.Pw.Pb=class{constructor(t,s,i){this.kb=t,this.Fb=s,this.jb=i,this._a=NaN,this.Aa=NaN,this.Eb=NaN,this.zb=NaN,this.Bb=NaN,this._a=0,this.Aa=0,this.Eb=0,this.zb=0,this.Bb=0}Ub(t,s,i,e){this._a=t,this.Aa=s,this.zb=i,this.Bb=e}Wb(){return this._a}Vb(t){this._a!==t&&(this._a=t,this.kb.Yb())}Qb(){return this.Aa}Jb(t){this.Aa!==t&&(this.Aa=t,this.kb.Yb())}Hb(){return this.Eb}qb(t){this.Eb!==t&&(this.Eb=Math.max(t,0),this.kb.Yb())}Xb(){return this.zb}Zb(t){this.zb=t}Kb(){return this.Bb}$b(t){this.Bb=t}tv(t,s,i){[this._a,this.Aa]=Fl(t._a,t.Aa,s),this.Eb=t.Eb,this.zb=jl.Gt(i.Za(),i.$a(),t.zb),this.Bb=jl.Gt(i.Ka(),i.tu(),t.Bb)}sv(t,s,i){[this._a,this.Aa]=Fl(t._a,t.Aa,s),this.Eb=t.Eb,[this.zb,this.Bb]=Fl(t.zb,t.Bb,i)}ev(){return{x:this.Wb(),y:this.Qb(),z:this.Hb(),u:this.Xb(),v:this.Kb()}}nv(t){this.Vb(t.x),this.Jb(t.y),t.hasOwnProperty("z")&&this.qb(t.z),this.Zb(t.u),this.$b(t.v)}rv(){return this.kb}hv(){return this.Fb}ov(){return this.jb}},jl.Pw.av=class{constructor(t,s,i){if(t<2||s<2)throw new Error("invalid mesh size");this.uv=t,this.lv=s,this.cv=i||null,this.fv=[],this.dv=0,this.pv=0,this.mv=1,this.gv=1,this.yv=0,this.wv=!1;const e=t-1,n=s-1;for(let i=0;i<s;++i){const s=[];for(let r=0;r<t;++r){const t=jl.Vn(jl.Pw.Pb,this,r,i),h=r/e,o=i/n;t.Ub(h,o,h,o),s.push(t)}this.fv.push(s)}}Yn(){jl.Mh(this.fv)}Mv(){return this.uv}Sv(){return this.lv}Tv(){return this.cv}bv(){return this.fv}Yb(){this.wv=!0}vv(){if(!this.wv)return;let t=1/0,s=1/0,i=-1/0,e=-1/0,n=0;for(const r of this.fv)for(const h of r){const r=h.Wb(),o=h.Qb();t=Math.min(t,r),s=Math.min(s,o),i=Math.max(i,r),e=Math.max(e,o),n=Math.max(n,h.Hb())}this.dv=t,this.pv=s,this.mv=i,this.gv=e,this.yv=n,this.wv=!1}xv(){return this.vv(),this.dv}Iv(){return this.vv(),this.pv}Gv(){return this.vv(),this.mv}Cv(){return this.vv(),this.gv}_v(){return this.vv(),this.yv}Av(){return this._v()>0}Ev(t,s){return t=Math.floor(t),s=Math.floor(s),t<0||t>=this.uv||s<0||s>=this.lv?null:this.fv[s][t]}Dv(t,s,i){const e=i instanceof jl.Rect;if(t.Mv()!==this.Mv()||t.Sv()!==this.Sv())throw new Error("source mesh wrong size");const n=t.fv,r=this.fv;for(let t=0,h=r.length;t<h;++t){const h=n[t],o=r[t];for(let t=0,n=o.length;t<n;++t){const n=h[t],r=o[t];e?r.tv(n,s,i):r.sv(n,s,i)}}}Nv(t){const s=this.fv;let i=s[0];for(let e=1,n=s.length;e<n;++e){const n=s[e];let r=i[0],h=n[0];for(let s=1,e=n.length;s<e;++s){const e=i[s],o=n[s];zl.set(r.Xb(),r.Kb(),e.Xb(),e.Kb(),o.Xb(),o.Kb(),h.Xb(),h.Kb()),t.HS(r.Wb(),r.Qb(),r.Hb(),e.Wb(),e.Qb(),e.Hb(),o.Wb(),o.Qb(),o.Hb(),h.Wb(),h.Qb(),h.Hb(),zl),r=e,h=o}i=n}}Lv(t,s){s||(s=(t,s,i)=>[t,s,i]);const i=this.fv;let e=i[0];for(let n=1,r=i.length;n<r;++n){const h=i[n];let o=e[0],a=h[0];for(let i=1,u=h.length;i<u;++i){const l=e[i],c=h[i],[f,d,p]=s(o.Wb(),o.Qb(),o.Hb()),[m,g,y]=s(l.Wb(),l.Qb(),l.Hb()),[w,M,S]=s(c.Wb(),c.Qb(),c.Hb()),[T,b,v]=s(a.Wb(),a.Qb(),a.Hb());t.JS(f,d,p,m,g,y),t.JS(f,d,p,w,M,S),t.JS(f,d,p,T,b,v),i===u-1&&t.JS(m,g,y,w,M,S),n===r-1&&t.JS(T,b,v,w,M,S),o=l,a=c}e=h}}Ov(t){const s=.001,i=.99999999,e=t.fl(),n=[],r=this.Mv()-1,h=this.Sv()-1,o=1/r,a=1/h,u=r-1,l=h-1;let c=e[0],f=e[1],d=jl.Xn(Math.floor(c*r),0,u),p=jl.Xn(Math.floor(f*h),0,l),m=!0,g=0,y=0,w=0,M=-1;const S=()=>{c=jl.Xn(jl.Gt(c,g,w),0,1),f=jl.Xn(jl.Gt(f,y,w),0,1),n.push(c,f)};for(let t=0,T=e.length;t<T;t+=2){c=e[t],f=e[t+1],n.push(c,f),d=jl.Xn(Math.floor(c*r),0,u),p=jl.Xn(Math.floor(f*h),0,l);const b=(t+2)%T;for(g=e[b],y=e[b+1],M=-1;;){if(n.length>1e6)throw new Error("Too many mesh poly points");const t=d*o,e=p*a,r=(d+1)*o,h=(p+1)*a;if(m=jl.qr(c,f,t,e,r,e,r,h),0!==M&&(w=jl.Hr(c,f,g,y,t,e,r,h,-.001),w>=0&&w<=i))S(),m=!m,M=0;else if(p>0&&2!==M&&(w=jl.Hr(c,f,g,y,t,e,r,e,s),w>=0&&w<=i))S(),p--,m=!1,M=4;else if(d<u&&3!==M&&(w=jl.Hr(c,f,g,y,r,e,r,h,s),w>=0&&w<=i))S(),d++,m=!1,M=1;else if(d>0&&1!==M&&(w=jl.Hr(c,f,g,y,t,e,t,h,s),w>=0&&w<=i))S(),d--,m=!0,M=3;else{if(!(p<l&&4!==M&&(w=jl.Hr(c,f,g,y,t,h,r,h,s),w>=0&&w<=i)))break;S(),p++,m=!0,M=2}}}return jl.Vn(jl.ol,n)}Rv(t,s){const i=this.Pv(t);this.kv(i),s.pl(i)}Pv(t){const s=[],i=t.fl();for(let t=0,e=i.length;t<e;t+=2){const e=i[t],n=i[t+1],[r,h]=this.Fv(e,n);s.push(r,h)}return s}Fv(t,s){const i=this.Mv()-1,e=this.Sv()-1,n=1/i,r=1/e,h=jl.Xn(Math.floor(t*i),0,i-1),o=jl.Xn(Math.floor(s*e),0,e-1),a=h*n,u=o*r,l=(h+1)*n,c=(o+1)*r,f=this.Ev(h,o),d=this.Ev(h+1,o+1),p=jl.qr(t,s,a,u,l,u,l,c),m=p?a+n:a,g=p?u:u+r,y=this.Ev(h+(p?1:0),o+(p?0:1)),[w,M,S]=jl.Xr(t,s,a,u,m,g,l,c);return jl.Zr(w,M,S,f.Wb(),f.Qb(),f.Hb(),y.Wb(),y.Qb(),y.Hb(),d.Wb(),d.Qb(),d.Hb())}kv(t){const s=[],i=1e-7;let e=t[0],n=t[1],r=e-t.at(-2),h=n-t.at(-1);for(let o=0,a=t.length;o<a;o+=2){const u=(o+2)%a,l=t[u],c=t[u+1],f=l-e,d=c-n,p=Math.abs(f)<i&&Math.abs(r)<i&&Math.sign(d)===Math.sign(h),m=Math.abs(d)<i&&Math.abs(h)<i&&Math.sign(f)===Math.sign(r);(!p&&!m&&Math.abs(f/r-d/h)>.001||0==f&&0===d)&&s.push(e,n),e=l,n=c,r=f,h=d}s.length>=6&&s.length<t.length&&jl.xh(t,s)}ev(){return{cols:this.Mv(),rows:this.Sv(),points:this.fv.map((t=>t.map((t=>t.ev()))))}}nv(t){const s=this.Mv(),i=this.Sv();if(t.cols!==s||t.rows!==i)throw new Error("mesh data wrong size");const e=t.points;for(let t=0;t<i;++t){const i=e[t];for(let e=0;e<s;++e)this.Ev(e,t).nv(i[e])}}}}{let Bl=function(t,s){let i,e,n,r;switch(t){case"rgba8":i=s.RGBA8,e=s.RGBA,n=s.RGBA,r=s.UNSIGNED_BYTE;break;case"rgb8":i=s.RGB8,e=s.RGB,n=s.RGB,r=s.UNSIGNED_BYTE;break;case"rgba4":i=s.RGBA4,e=s.RGBA,n=s.RGBA,r=s.UNSIGNED_SHORT_4_4_4_4;break;case"rgb5_a1":i=s.RGB5_A1,e=s.RGBA,n=s.RGBA,r=s.UNSIGNED_SHORT_5_5_5_1;break;case"rgb565":i=s.RGB565,e=s.RGB,n=s.RGB,r=s.UNSIGNED_SHORT_5_6_5;break;default:throw new Error("invalid pixel format")}return{jv:i,zv:e,format:n,type:r}};0;const Ul=self.Gs,Wl=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),Vl=new Set(["nearest","bilinear","trilinear"]),Yl=new Set(["default","low","high"]),Ql=new Set(["clamp-to-edge","repeat","mirror-repeat"]),Jl={Bv:"clamp-to-edge",Uv:"clamp-to-edge",Wv:"trilinear",Vv:0,Yv:"rgba8",Qv:!0,Jv:"default",Hv:!0,qv:!1,width:-1,height:-1},Hl={Hv:!0,flipY:!1},ql=new Set;Ul.Pw.Xv=class{constructor(t){this.VT=t,this.Zv=null,this._y=0,this.Ay=0,this.Kv=!0,this.$v="clamp-to-edge",this.tx="clamp-to-edge",this.sx="trilinear",this.ix=0,this.nx="rgba8",this.hx=!1,this.ox="default",this.Wp=0}ux(t,s){if(!("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||t instanceof ImageData||t instanceof ArrayBuffer||null===t))throw new Error("invalid texture source");if(s=Object.assign({},Jl,s),this.Zv)throw new Error("already created texture");if(this.$v=s.Bv,this.tx=s.Uv,this.sx=s.Wv,this.ix=s.Vv,this.nx=s.Yv,this.hx=!!s.Qv&&this.VT.LT(),this.ox=s.Jv,!Ql.has(this.$v)||!Ql.has(this.tx))throw new Error("invalid wrap mode");if(!Vl.has(this.sx))throw new Error("invalid sampling");if(!Wl.has(this.nx))throw new Error("invalid pixel format");if(!Yl.has(this.ox))throw new Error("invalid mipmap quality");if(this.Kv=!0,t instanceof ArrayBuffer||null===t||s.qv){if(this._y=s.width,this.Ay=s.height,t instanceof ArrayBuffer&&t.byteLength!==this._y*this.Ay*4)throw new Error("ArrayBuffer wrong size")}else this._y=t.width,this.Ay=t.height;if(this._y<=0||this.Ay<=0)throw new Error("invalid texture data size");if(s.qv){const s=Ul.lo(this._y,this.Ay);s.getContext("2d").drawImage(t,0,0,this._y,this.Ay),t=s}const i=Ul.Mr(this._y)&&Ul.Mr(this.Ay),e=this.VT.lx();if(this._y>e||this.Ay>e)throw new Error("texture data exceeds maximum texture size");const n=this.VT.mx(),r=this.VT.gx();this.Zv=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.Zv),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.Hv),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);const h=Bl(this.nx,n);if(this.VT.yx()||i||!this.wx())if(r>=2){let s;s=this.hx?Math.floor(Math.log2(Math.max(this._y,this.Ay))+1):1,n.texStorage2D(n.TEXTURE_2D,s,h.jv,this._y,this.Ay),t instanceof ArrayBuffer?n.texSubImage2D(n.TEXTURE_2D,0,0,0,this._y,this.Ay,h.format,h.type,new Uint8Array(t)):null!==t&&n.texSubImage2D(n.TEXTURE_2D,0,0,0,h.format,h.type,t)}else t instanceof ArrayBuffer?n.texImage2D(n.TEXTURE_2D,0,h.zv,this._y,this.Ay,0,h.format,h.type,new Uint8Array(t)):null===t?n.texImage2D(n.TEXTURE_2D,0,h.zv,this._y,this.Ay,0,h.format,h.type,null):n.texImage2D(n.TEXTURE_2D,0,h.zv,h.format,h.type,t);else{if(null===t)throw new Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");if(t instanceof ArrayBuffer&&(t=new ImageData(new Uint8ClampedArray(t),this._y,this.Ay)),t instanceof ImageData){const s=Ul.lo(this._y,this.Ay);s.getContext("2d").putImageData(t,0,0),t=s}const s=Ul.lo(Ul.Sr(this._y),Ul.Sr(this.Ay)),i=s.getContext("2d");i.imageSmoothingEnabled="nearest"!==this.sx,i.drawImage(t,0,0,this._y,this.Ay,0,0,s.width,s.height),n.texImage2D(n.TEXTURE_2D,0,h.zv,h.format,h.type,s)}null!==t&&this.Mx(n),n.bindTexture(n.TEXTURE_2D,null),this.VT.Sx(),this.Wp=1,ql.add(this)}Tx(t,s,i){if(i=Object.assign({},Jl,i),this.Zv)throw new Error("already created texture");if(this.$v=i.Bv,this.tx=i.Uv,this.sx=i.Wv,this.nx=i.Yv,this.hx=!!i.Qv&&this.VT.LT(),this.ox=i.Jv,!Ql.has(this.$v)||!Ql.has(this.tx))throw new Error("invalid wrap mode");if(!Vl.has(this.sx))throw new Error("invalid sampling");if(!Wl.has(this.nx))throw new Error("invalid pixel format");if(!Yl.has(this.ox))throw new Error("invalid mipmap quality");this.Kv=!1,this._y=Math.floor(t),this.Ay=Math.floor(s);const e=Ul.Mr(this._y)&&Ul.Mr(this.Ay),n=this.VT.lx();if(this._y<=0||this.Ay<=0)throw new Error("invalid texture size");if(this._y>n||this.Ay>n)throw new Error("texture exceeds maximum texture size");if(!this.VT.yx()&&this.wx()&&!e)throw new Error("non-power-of-two tiled textures not supported");const r=this.VT.mx(),h=this.VT.gx();this.Zv=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.Zv),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.Hv),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);const o=Bl(this.nx,r),a=h>=2?o.jv:o.zv;r.texImage2D(r.TEXTURE_2D,0,a,this._y,this.Ay,0,o.format,o.type,null),this.Mx(r),r.bindTexture(r.TEXTURE_2D,null),this.VT.Sx(),this.Wp=1,ql.add(this)}bx(t){if("default"===this.ox)return this.Kv?t.NICEST:t.FASTEST;if("low"===this.ox)return t.FASTEST;if("high"===this.ox)return t.NICEST;throw new Error("invalid mipmap quality")}wx(){return"clamp-to-edge"!==this.$v||"clamp-to-edge"!==this.tx}vx(t,s){if("clamp-to-edge"===s)return t.CLAMP_TO_EDGE;if("repeat"===s)return t.REPEAT;if("mirror-repeat"===s)return t.MIRRORED_REPEAT;throw new Error("invalid wrap mode")}Mx(t){const s=Ul.Mr(this._y)&&Ul.Mr(this.Ay);if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this.vx(t,this.$v)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this.vx(t,this.tx)),"nearest"===this.sx)t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),this.hx=!1;else if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),(s||this.VT.yx())&&this.hx){t.hint(t.GENERATE_MIPMAP_HINT,this.bx(t)),t.generateMipmap(t.TEXTURE_2D);const s="trilinear"===this.sx&&!this.VT.RT();t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,s?t.LINEAR_MIPMAP_LINEAR:t.LINEAR_MIPMAP_NEAREST)}else t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this.hx=!1;const i=this.VT.xx();i&&this.ix>0&&"nearest"!==this.sx&&t.texParameterf(t.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.ix,this.VT.Ix()))}Gx(t,s){if(!("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||t instanceof ImageData))throw new Error("invalid texture source");if(!this.Zv||this.Wp<=0)throw new Error("texture not created");if(this.Kv)throw new Error("cannot update static texture");s=Object.assign({},Hl,s);const i=t.width||t.videoWidth,e=t.height||t.videoHeight,n=this.VT.gx(),r=this.VT.mx();r.bindTexture(r.TEXTURE_2D,this.Zv),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.Hv),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!s.flipY);const h=Bl(this.nx,r),o=n>=2?h.jv:h.zv;try{if(this._y===i&&this.Ay===e){const s=Ul.Mr(this._y)&&Ul.Mr(this.Ay);r.texSubImage2D(r.TEXTURE_2D,0,0,0,h.format,h.type,t),(s||this.VT.yx())&&this.hx&&(r.hint(r.GENERATE_MIPMAP_HINT,this.bx(r)),r.generateMipmap(r.TEXTURE_2D))}else{this._y=i,this.Ay=e;const s=Ul.Mr(this._y)&&Ul.Mr(this.Ay);if(!this.VT.yx()&&this.wx()&&!s)throw new Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,o,h.format,h.type,t),(s||this.VT.yx())&&this.hx&&(r.hint(r.GENERATE_MIPMAP_HINT,this.bx(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(t){console.error("Error updating WebGL texture: ",t)}r.bindTexture(r.TEXTURE_2D,null),this.VT.Sx()}Cx(){if(this.Wp>0)throw new Error("texture still has references");if(!this.Zv)throw new Error("already deleted texture");ql.delete(this),this.VT.mx().deleteTexture(this.Zv),this.Zv=null}_x(){return!!this.Zv}Ax(){return this.Zv}lb(){return this.VT}Ex(){this.Wp++}Dx(){if(this.Wp<=0)throw new Error("no more references");this.Wp--}Nx(){return this.Wp}Bg(){return this._y}Zg(){return this.Ay}Lx(){return this.Kv}Ox(){let t=this._y*this.Ay;switch(this.nx){case"rgba8":t*=4;break;case"rgb8":t*=3;break;case"rgba4":case"rgb5_a1":case"rgb565":t*=2}return this.hx&&(t+=Math.floor(t/3)),t}static Ob(){ql.clear()}static Rx(){return ql.values()}}}{const Xl=self.Gs,Zl=(self.assert,self.hs),Kl=(Zl.ys,Zl.fs),$l=new Set(["nearest","bilinear","trilinear"]),tc={Wv:"trilinear",alpha:!0,depth:!1,Px:!0,kx:!0,Fx:0},sc=new Set;Xl.Pw.jx=class{constructor(t){this.VT=t,this.zx=null,this.Bx=null,this.Zv=null,this.Ux=null,this._y=0,this.Ay=0,this.Wx=!0,this.sx="trilinear",this.Vx=!0,this.Yx=!1,this.Qx=!0,this.Jx=0,this.Hx=Kl.create(),this.qx=0,this.Xx=0,this.Zx=0}Kx(t,s,i){i=Object.assign({},tc,i);const e=this.VT.gx();if(this.Zv||this.Ux)throw new Error("already created render target");if(this.sx=i.Wv,this.Vx=!!i.alpha,this.Yx=!!i.depth,this.Qx=!!i.Px,this.Wx=!!i.kx,this.Jx=i.Fx,!$l.has(this.sx))throw new Error("invalid sampling");if(this.Jx>0&&(e<2||this.Qx))throw new Error("invalid use of multisampling");if(e<2&&(this.Qx=!0),this._y=t,this.Ay=s,this._y<=0||this.Ay<=0)throw new Error("invalid render target size");this.$x();const n=this.VT.mx();if(this.zx=n.createFramebuffer(),this.Yx&&(this.Bx=n.createFramebuffer()),this.Qx){this.Zv=this.VT.tI(this._y,this.Ay,{Wv:this.sx,Yv:this.Vx?"rgba8":"rgb8",Qv:!1});const t=this.Zv.Ax();n.bindFramebuffer(n.FRAMEBUFFER,this.zx),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0),this.Yx&&(n.bindFramebuffer(n.FRAMEBUFFER,this.Bx),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0))}else{this.Ux=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,this.Ux);const t=this.Vx?n.RGBA8:n.RGB8;if(this.Jx>0){const s=n.getInternalformatParameter(n.RENDERBUFFER,t,n.SAMPLES);if(s&&s[0]){const t=s[0];this.Jx>t&&(this.Jx=t)}else this.Jx=0}0===this.Jx?n.renderbufferStorage(n.RENDERBUFFER,t,this._y,this.Ay):n.renderbufferStorageMultisample(n.RENDERBUFFER,this.Jx,t,this._y,this.Ay),n.bindFramebuffer(n.FRAMEBUFFER,this.zx),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,this.Ux),this.Yx&&(n.bindFramebuffer(n.FRAMEBUFFER,this.Bx),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,this.Ux)),n.bindRenderbuffer(n.RENDERBUFFER,null)}const r=this.VT.sI();this.Yx&&r&&(n.bindFramebuffer(n.FRAMEBUFFER,this.zx),this.VT.iI()?n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,r,0):n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r)),n.bindFramebuffer(n.FRAMEBUFFER,null),sc.add(this)}eI(t,s){if(this._y===t&&this.Ay===s)return;this._y=t,this.Ay=s,this.$x();const i=this.VT.mx();i.bindFramebuffer(i.FRAMEBUFFER,this.zx),this.Zv?this.Zv.Gx(new ImageData(this._y,this.Ay)):(i.bindRenderbuffer(i.RENDERBUFFER,this.Ux),i.renderbufferStorage(i.RENDERBUFFER,this.Vx?i.RGBA8:i.RGB8,this._y,this.Ay),i.bindRenderbuffer(i.RENDERBUFFER,null));const e=this.VT.sI();this.Yx&&e&&(this.VT.iI()?i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,e,0):i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,e)),i.bindFramebuffer(i.FRAMEBUFFER,null)}Cx(){if(!this.Zv&&!this.Ux)throw new Error("already deleted render target");sc.delete(this);const t=this.VT.mx();this.Zv?(t.bindFramebuffer(t.FRAMEBUFFER,this.zx),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0),this.Yx&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Bx),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)),this.VT.nI(this.Zv),this.Zv=null):this.Ux&&(t.bindFramebuffer(t.FRAMEBUFFER,this.zx),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null),this.Yx&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Bx),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null)),t.deleteRenderbuffer(this.Ux),this.Ux=null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.VT.gx()>=2&&(t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null)),t.deleteFramebuffer(this.zx),this.Yx&&t.deleteFramebuffer(this.Bx);const s=this.VT.rI();s.hI=null,s.oI=null,this.zx=null}$x(){this.VT.$M(this.Hx,this._y/this.Ay),this.qx=this.VT.qM(),this.Xx=this.VT.YM(),this.Zx=this.VT.JM()}aI(){return this.zx}uI(){return this.Bx}lb(){return this.VT}lI(){return this.Zv}cI(){return this.VT.qM()===this.qx&&this.VT.YM()===this.Xx&&this.VT.JM()===this.Zx||this.$x(),this.Hx}fI(){return"nearest"!==this.sx}dI(){return this.Vx}pI(){return this.Qx}mI(){return this.Yx}Bg(){return this._y}Zg(){return this.Ay}gI(){return this.Wx}yI(){return this.Jx}wI(){const t={Wv:this.sx,alpha:this.Vx,Px:this.Qx};return this.Wx||(t.width=this._y,t.height=this.Ay),t}MI(t){return"nearest"!==(t=Object.assign({},tc,t)).Wv===this.fI()&&!!t.alpha===this.dI()&&!!t.depth===this.mI()&&!(this.VT.gx()>=2&&!!t.Px!==this.pI())&&("number"==typeof t.width||"number"==typeof t.height?!this.gI()&&this.Bg()===Math.floor(t.width)&&this.Zg()===Math.floor(t.height):this.gI())}SI(){return this.Zv?this.Zv.Ax():null}Ox(){return this.Zv?this.Zv.Ox():this._y*this.Ay*(this.Vx?4:3)}static async TI(t,s){const i=await t.bI(s,!0);return await Xl.do(i)}static Ob(){sc.clear()}static vI(){return sc.values()}static xI(t,s){for(const i of sc)i.gI()&&i.eI(t,s)}}}{const ic=self.Gs,ec=self.hs,nc=(ec.ys,ec.fs,new Set(["aPos","aTex","aPoints","matP","matMV","samplerFront","samplerBack","samplerDepth","destStart","destEnd","srcStart","srcEnd","srcOriginStart","srcOriginEnd","pixelSize","seconds","devicePixelRatio","layerScale","layerAngle","layoutStart","layoutEnd","color","color2_","pointTexStart","pointTexEnd","zElevation","tileSize","tileSpacing","outlineThickness","zNear","zFar"]));ic.Pw.II=class extends ic.Pw.WT{static async GI(t,s){const i=t.mx(),e=s.src,n=s.CI,r=s.name,h=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(h,e),i.compileShader(h);const o=i.createShader(i.VERTEX_SHADER);i.shaderSource(o,n),i.compileShader(o);const a=i.createProgram();i.attachShader(a,h),i.attachShader(a,o),i.bindAttribLocation(a,0,"aPos"),i.bindAttribLocation(a,1,"aTex"),i.bindAttribLocation(a,2,"aPoints"),i.linkProgram(a);const u=t._I();if(u?await t.AI((()=>i.getProgramParameter(a,u.COMPLETION_STATUS_KHR))):await ic.dh(5),!i.getShaderParameter(h,i.COMPILE_STATUS)){const t=i.getShaderInfoLog(h);throw i.deleteShader(h),i.deleteShader(o),i.deleteProgram(a),new Error("Error compiling fragment shader: "+t)}if(!i.getShaderParameter(o,i.COMPILE_STATUS)){const t=i.getShaderInfoLog(o);throw i.deleteShader(h),i.deleteShader(o),i.deleteProgram(a),new Error("Error compiling vertex shader: "+t)}if(!i.getProgramParameter(a,i.LINK_STATUS)){const t=i.getProgramInfoLog(a);throw i.deleteShader(h),i.deleteShader(o),i.deleteProgram(a),new Error("Error linking shader program: "+t)}const l=ic.Tm(i.getProgramInfoLog(a)||"").trim();return l&&!ic.wm(l)&&console.info(`[WebGL] Shader program '${r}' compilation log: `,l),i.deleteShader(h),i.deleteShader(o),a}static async EI(t,s){const i=await ic.Pw.II.GI(t,s);return new ic.Pw.II(t,i,s)}constructor(t,s,i){super(t,i);const e=t.mx(),n=t.rI();t.AT(),e.useProgram(s),this.DI=e,this.Gb=s,this.NI="<default-device-transform>"===i.name;const r=e.getAttribLocation(s,"aPos"),h=e.getAttribLocation(s,"aTex");this.LI=e.getAttribLocation(s,"aPoints"),-1!==r&&(e.bindBuffer(e.ARRAY_BUFFER,t.OI),e.vertexAttribPointer(r,t.CT(),e.FLOAT,!1,0,0),e.enableVertexAttribArray(r)),-1!==h&&(e.bindBuffer(e.ARRAY_BUFFER,t.RI),e.vertexAttribPointer(h,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(h)),-1!==this.LI&&(e.bindBuffer(e.ARRAY_BUFFER,t.kI),e.vertexAttribPointer(this.LI,4,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.LI)),e.bindBuffer(e.ARRAY_BUFFER,null),this.FI=new ic.Pw.jI(this,"matP","mat4"),this.zI=new ic.Pw.jI(this,"matMV","mat4"),this.BI=new ic.Pw.jI(this,"color","vec4"),this.UI=new ic.Pw.jI(this,"samplerFront","sampler"),this.WI=new ic.Pw.jI(this,"pointTexStart","vec2"),this.VI=new ic.Pw.jI(this,"pointTexEnd","vec2"),this.YI=new ic.Pw.jI(this,"zElevation","float"),this.QI=new ic.Pw.jI(this,"tileSize","vec2"),this.JI=new ic.Pw.jI(this,"tileSpacing","vec2"),this.HI=new ic.Pw.jI(this,"color2_","vec4"),this.qI=new ic.Pw.jI(this,"outlineThickness","float"),this.XI=new ic.Pw.jI(this,"samplerBack","sampler"),this.ZI=new ic.Pw.jI(this,"samplerDepth","sampler"),this.KI=new ic.Pw.jI(this,"destStart","vec2"),this.$I=new ic.Pw.jI(this,"destEnd","vec2"),this.tG=new ic.Pw.jI(this,"srcStart","vec2"),this.sG=new ic.Pw.jI(this,"srcEnd","vec2"),this.iG=new ic.Pw.jI(this,"srcOriginStart","vec2"),this.eG=new ic.Pw.jI(this,"srcOriginEnd","vec2"),this.nG=new ic.Pw.jI(this,"pixelSize","vec2"),this.rG=new ic.Pw.jI(this,"seconds","float"),this.hG=new ic.Pw.jI(this,"devicePixelRatio","float"),this.oG=new ic.Pw.jI(this,"layerScale","float"),this.aG=new ic.Pw.jI(this,"layerAngle","float"),this.uG=new ic.Pw.jI(this,"layoutStart","vec2"),this.lG=new ic.Pw.jI(this,"layoutEnd","vec2"),this.cG=new ic.Pw.jI(this,"zNear","float"),this.fG=new ic.Pw.jI(this,"zFar","float"),this.dG=!!(this.nG.pG()||this.rG.pG()||this.XI.pG()||this.KI.pG()||this.$I.pG()||this.tG.pG()||this.sG.pG()||this.iG.pG()||this.eG.pG()||this.hG.pG()||this.oG.pG()||this.aG.pG()||this.uG.pG()||this.lG.pG());const o=i.parameters||[];this.mG=[],this.ab=this.nG.pG()||this.tG.pG()||this.sG.pG()||this.iG.pG()||this.eG.pG(),this.gG=!1,this.yG=!1,this.BI.wG(1,1,1,1),this.HI.wG(1,1,1,1),this.UI.MG(0),this.XI.MG(1),this.ZI.MG(2),this.WI.SG(0,0),this.VI.SG(1,1),this.YI.TG(0),this.QI.SG(0,0),this.JI.SG(0,0),this.KI.SG(0,0),this.$I.SG(1,1),this.tG.SG(0,0),this.sG.SG(0,0),this.iG.SG(0,0),this.eG.SG(0,0),this.nG.SG(0,0),this.hG.TG(1),this.cG.TG(t.YM()),this.fG.TG(t.JM()),this.oG.TG(1),this.aG.TG(0),this.rG.TG(0),this.uG.SG(0,0),this.lG.SG(0,0),this.qI.TG(1);for(const t of o){const s=t[0],i=t[2],e=new ic.Pw.jI(this,s,i);"color"===i?e.bG(0,0,0):e.TG(0),this.mG.push(e)}this.NI?this.vG(n.xG):(this.IG(n.xG,!0),this.GG(n.CG,!0));const a=n._G;e.useProgram(a?a.Gb:null)}Yn(){this.DI.deleteProgram(this.Gb),this.Gb=null,this.VT.rS(this),this.DI=null,super.Yn()}AG(){return this.DI}EG(){return this.Gb}DG(){return this.mG.length}NG(t){return t<0||t>=this.mG.length?null:this.mG[t].LG()}OG(t){for(let s=0,i=t.length;s<i;++s)if(!this.mG[s].PG(t[s]))return!1;return!0}kG(t){for(let s=0,i=t.length;s<i;++s)this.mG[s].FG(t[s])}jG(t,s,i,e,n,r,h,o,a,u){return!(this.XI.pG()||this.nG.pG()&&!this.nG.zG(n,r)||this.KI.pG()&&!this.KI.zG(t.Za(),t.Ka())||this.$I.pG()&&!this.$I.zG(t.$a(),t.tu())||this.hG.pG()&&!this.hG.BG(h)||this.oG.pG()&&!this.oG.BG(o)||this.aG.pG()&&!this.aG.BG(a)||this.tG.pG()&&!this.tG.zG(s.Za(),s.Ka())||this.sG.pG()&&!this.sG.zG(s.$a(),s.tu())||this.iG.pG()&&!this.iG.zG(i.Za(),i.Ka())||this.eG.pG()&&!this.eG.zG(i.$a(),i.tu())||this.uG.pG()&&!this.uG.zG(e.Za(),e.Ka())||this.lG.pG()&&!this.lG.zG(e.Ka(),e.tu())||this.rG.pG()&&!this.rG.BG(u))}UG(t,s,i,e,n,r,h,o,a,u){this.XI.pG()||(this.nG.pG()&&this.nG.WG(n,r),this.KI.pG()&&this.KI.WG(t.Za(),t.Ka()),this.$I.pG()&&this.$I.WG(t.$a(),t.tu()),this.hG.pG()&&this.hG.VG(h),this.oG.pG()&&this.oG.VG(o),this.aG.pG()&&this.aG.VG(a),this.tG.pG()&&this.tG.WG(s.Za(),s.Ka()),this.sG.pG()&&this.sG.WG(s.$a(),s.tu()),this.iG.pG()&&this.iG.WG(i.Za(),i.Ka()),this.eG.pG()&&this.eG.WG(i.$a(),i.tu()),this.uG.pG()&&this.uG.WG(e.Za(),e.Ka()),this.lG.pG()&&this.lG.WG(e.Ka(),e.tu()),this.rG.pG()&&this.rG.VG(u))}IG(t,s){this.gG&&!s||this.NI||(this.FI.pG()&&this.FI.YG(t),this.gG=!0)}QG(){this.gG=!1}GG(t,s){this.yG&&!s||this.NI||(this.zI.pG()&&this.zI.YG(t),this.yG=!0)}JG(){this.yG=!1}vG(t){if(!this.NI)throw new Error("not device transform shader");this.FI.YG(t);const s=this.VT,i=s.Bg()/2,e=s.Zg()/2,n=s.eS(i,e,s.zM(s.Zg()),i,e,0,s.Zg());this.zI.YG(n)}HG(t){this.BI.pG()&&this.BI.qG(t[0],t[1],t[2],t[3])}static XG(){return nc}static ZG(t){return t?"\n#extension GL_EXT_conservative_depth : enable\nlayout (depth_greater) out highp float gl_FragDepth;\n\t":""}static KG(t){const s=t?"highp":"mediump";return["attribute highp vec3 aPos;",`attribute ${s} vec2 aTex;`,`varying ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPos, 1.0);","\tvTex = aTex;","}"].join("\n")}static $G(t){const s=t?"highp":"mediump";return["#version 300 es","in highp vec3 aPos;",`in ${s} vec2 aTex;`,`out ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPos, 1.0);","\tvTex = aTex;","}"].join("\n")}static tC(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","}"].join("\n")}static sC(){return["#extension GL_EXT_frag_depth : enable","varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static iC(t){return["#version 300 es",ic.Pw.II.ZG(t),"in mediump vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\toutColor = texture(samplerFront, vTex) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static eC(){return["varying highp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highp vec2 srcStart;","uniform highp vec2 pixelSize;","uniform highp vec2 tileSize;","uniform highp vec2 tileSpacing;","void main(void) {","\thighp vec2 tile = floor(vTex);","\thighp vec2 tex = fract(vTex);","\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","}"].join("\n")}static nC(){return["#extension GL_EXT_frag_depth : enable","varying highp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highp vec2 srcStart;","uniform highp vec2 pixelSize;","uniform highp vec2 tileSize;","uniform highp vec2 tileSpacing;","void main(void) {","\thighp vec2 tile = floor(vTex);","\thighp vec2 tex = fract(vTex);","\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static rC(t){return["#version 300 es",ic.Pw.II.ZG(t),"in highp vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highp vec2 srcStart;","uniform highp vec2 pixelSize;","uniform highp vec2 tileSize;","uniform highp vec2 tileSpacing;","void main(void) {","\thighp vec2 tile = floor(vTex);","\thighp vec2 tex = fract(vTex);","\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static hC(t,s,i,e){let n="";return t>=2?n="#version 300 es\n"+ic.Pw.II.ZG(e):(s&&(n="#extension GL_EXT_frag_depth : enable\n"),i&&(n+="#extension GL_EXT_shader_texture_lod : enable\n",n+="#extension GL_OES_standard_derivatives : enable\n")),n+`\nprecision highp float;\n${t>=2?"in":"varying"} vec2 vTex;\n${t>=2?"out lowp vec4 outColor;":""}\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform vec2 pixelSize;\n\nuniform vec2 tileSize;\nuniform vec2 tileSpacing;\nuniform float outlineThickness;\n\nconst float PI = 3.1415926;\n\nlowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)\n{\n\treturn (a + b + (a - b) * cos(x * PI)) / 2.0;\n}\n\nvec3 randVec3(vec2 seed)\n{\n\treturn vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),\n\t\t\t\tfract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),\n\t\t\t\tfract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));\n}\n\nlowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)\n{\n\tvec2 posRandom = tileSize;\n\tfloat angleRandom = outlineThickness;\n\t\n\tvec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;\n\t\n\tfloat angle = angleRandom * rand.z * PI;\n\tfloat sin_a = sin(angle);\n\tfloat cos_a = cos(angle);\n\tfloat aspect = pixelSize.x / pixelSize.y;\n\n\tvec2 mid = tile + vec2(0.5, 0.5);\n\tvec2 dp = uv - mid;\n\tdp.x /= aspect;\n\tvec2 r = vec2(dp.x * cos_a - dp.y * sin_a,\n\t\t\t\t  dp.y * cos_a + dp.x * sin_a);\n\tr.x *= aspect;\n\n\tvec2 p = mid + r + (posRandom * rand.xy / 2.0);\n\t\n\t${t>=2?"return textureGrad(samplerFront, p, ddx, ddy);":""}\n\t${t<2&&i?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}\n\t${t<2&&!i?"return texture2D(samplerFront, p);":""}\n}\n\nvoid main(void) {\n\t\n\t${t<2?"lowp vec4 outColor;":""}\n\t\n\tfloat blendMarginX = tileSpacing.x;\n\tfloat blendMarginY = tileSpacing.y;\n\t\n\tvec2 tile = floor(vTex);\n\tvec2 tex = fract(vTex);\n\tvec2 ddx = ${t>=2||i?"dFdx(vTex)":"vec2(0.0, 0.0)"};\n\tvec2 ddy = ${t>=2||i?"dFdy(vTex)":"vec2(0.0, 0.0)"};\n\t\n\tvec4 curTile = sampleTile(tile, vTex, ddx, ddy);\n\t\n\tbool inLeftMargin = (tex.x < blendMarginX);\n\tbool inRightMargin = (tex.x > 1.0 - blendMarginX);\n\tbool inTopMargin = (tex.y < blendMarginY);\n\tbool inBottomMargin = (tex.y > 1.0 - blendMarginY);\n\t\n\tif (inLeftMargin)\n\t{\n\t\tlowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);\n\t\tfloat leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;\n\t\tlowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);\n\t\t\n\t\tif (inTopMargin)\n\t\t{\n\t\t\tlowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);\n\t\t\t\n\t\t\toutColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);\n\t\t}\n\t\telse if (inBottomMargin)\n\t\t{\n\t\t\tlowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);\n\t\t\t\n\t\t\toutColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));\n\t\t}\n\t\telse\n\t\t{\n\t\t\toutColor = leftMixedTile;\n\t\t}\n\t}\n\telse if (inRightMargin)\n\t{\n\t\tlowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);\n\t\tfloat rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);\n\t\tlowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);\n\t\t\n\t\tif (inTopMargin)\n\t\t{\n\t\t\tlowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);\n\t\t\t\n\t\t\toutColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);\n\t\t}\n\t\telse if (inBottomMargin)\n\t\t{\n\t\t\tlowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);\n\t\t\t\n\t\t\toutColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));\n\t\t}\n\t\telse\n\t\t{\n\t\t\toutColor = rightMixedTile;\n\t\t}\n\t}\n\telse if (inTopMargin)\n\t{\n\t\tlowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);\n\t\toutColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);\n\t}\n\telse if (inBottomMargin)\n\t{\n\t\tlowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);\n\t\toutColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));\n\t}\n\telse\n\t{\n\t\toutColor = curTile;\n\t}\n\t\n\toutColor *= color;\n\t${t<2?"gl_FragColor = outColor;":""}\n\t${t>=2?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}\n\t${t<2&&s?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}\n}\n`}static oC(){return["attribute vec4 aPoints;","varying float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static aC(){return["#version 300 es","in vec4 aPoints;","out float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static uC(){return["uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","}"].join("\n")}static lC(){return["#extension GL_EXT_frag_depth : enable","uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static cC(t){return["#version 300 es",ic.Pw.II.ZG(t),"uniform lowp sampler2D samplerFront;","in lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","out lowp vec4 outColor;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static fC(){return["uniform lowp vec4 color;","void main(void) {","\tgl_FragColor = color;","}"].join("\n")}static dC(){return["precision lowp float;","varying mediump vec2 vTex;","uniform vec4 color;","uniform vec4 color2_;","vec3 fromLinear(vec3 linearRGB)","{","\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));","\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);","\tvec3 lower = linearRGB * vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","vec3 toLinear(vec3 sRGB)","{","\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));","\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));","\tvec3 lower = sRGB/vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","void main(void) {","\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);","\tfloat a = mix(color.a, color2_.a, vTex.x);","\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);","}"].join("\n")}static pC(){return["precision lowp float;","varying highp vec2 vTex;","uniform vec4 color;","void main(void) {","\thighp float grad = vTex.x / (1.0 - vTex.y);","\tgl_FragColor = color * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);","}"].join("\n")}static mC(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;","\tgl_FragColor = color * f;","}"].join("\n")}static gC(){return["varying highp vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\thighp vec2 diff = vTex - vec2(0.5, 0.5);","\thighp vec2 diffSq = diff * diff;","\thighp float f = step(diffSq.x + diffSq.y, 0.25);","\tgl_FragColor = color * f;","}"].join("\n")}static yC(){return["varying highp vec2 vTex;","uniform lowp vec4 color;","uniform highp vec2 pixelSize;","uniform highp float outlineThickness;","void main(void) {","\thighp vec2 diff = vTex - vec2(0.5, 0.5);","\thighp vec2 diffSq = diff * diff;","\thighp float distSq = diffSq.x + diffSq.y;","\thighp vec2 norm = normalize(diff);","\thighp vec2 halfNorm = norm * 0.5;","\thighp float innerF = step(distSq, 0.25);","\thighp vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;","\thighp vec2 innerEdgeSq = innerEdge * innerEdge;","\thighp float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}static wC(){return["varying highp vec2 vTex;","uniform lowp vec4 color;","uniform highp vec2 pixelSize;","void main(void) {","\thighp vec2 diff = vTex - vec2(0.5, 0.5);","\thighp vec2 diffSq = diff * diff;","\thighp vec2 norm = normalize(diff);","\thighp vec2 halfNorm = norm * 0.5;","\thighp vec2 halfNormSq = halfNorm * halfNorm;","\thighp vec2 innerEdge = halfNorm - pixelSize * norm;","\thighp vec2 innerEdgeSq = innerEdge * innerEdge;","\thighp float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);","\tgl_FragColor = color * f;","}"].join("\n")}static MC(){return["varying highp vec2 vTex;","uniform lowp vec4 color;","uniform highp vec2 pixelSize;","uniform highp float outlineThickness;","void main(void) {","\thighp vec2 diff = vTex - vec2(0.5, 0.5);","\thighp vec2 diffSq = diff * diff;","\thighp float distSq = diffSq.x + diffSq.y;","\thighp vec2 norm = normalize(diff);","\thighp vec2 halfNorm = norm * 0.5;","\thighp vec2 halfNormSq = halfNorm * halfNorm;","\thighp vec2 pxNorm = pixelSize * norm;","\thighp vec2 innerEdge1 = halfNorm - pxNorm;","\thighp vec2 innerEdge1Sq = innerEdge1 * innerEdge1;","\thighp float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);","\thighp vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;","\thighp vec2 innerEdge2Sq = innerEdge2 * innerEdge2;","\thighp vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);","\thighp vec2 innerEdge3Sq = innerEdge3 * innerEdge3;","\thighp float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}}}{const rc=self.Gs,hc=self.hs.fs,oc=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);rc.Pw.jI=class{constructor(t,s,i){if(!oc.has(i))throw new Error("invalid uniform type");this.cv=t,this.DI=this.cv.AG(),this.Hn=s,this.Yc=i,this.SC="color"===this.Yc,this.TC=this.DI.getUniformLocation(this.cv.EG(),s),this.bC=!!this.TC;const e=oc.get(i);this.vC=new Float32Array(e),this.xC=new Float32Array(e)}Yn(){this.cv=null,this.DI=null,this.TC=null}pG(){return this.bC}LG(){return this.Yc}IC(){return this.SC}TG(t){this.pG()&&(this.vC[0]=t,this.xC.set(this.vC),this.DI.uniform1f(this.TC,t))}MG(t){this.pG()&&(this.vC[0]=t,this.xC.set(this.vC),this.DI.uniform1i(this.TC,t))}SG(t,s){this.pG()&&(this.vC[0]=t,this.vC[1]=s,this.xC.set(this.vC),this.DI.uniform2f(this.TC,t,s))}bG(t,s,i){this.pG()&&(this.vC[0]=t,this.vC[1]=s,this.vC[2]=i,this.xC.set(this.vC),this.DI.uniform3f(this.TC,t,s,i))}wG(t,s,i,e){this.pG()&&(this.vC[0]=t,this.vC[1]=s,this.vC[2]=i,this.vC[3]=e,this.xC.set(this.vC),this.DI.uniform4f(this.TC,t,s,i,e))}GC(t){t=Math.fround(t);const s=this.vC;s[0]!==t&&(s[0]=t,this.DI.uniform1f(this.TC,t))}CC(t){const s=this.vC;s[0]!==t&&(s[0]=t,this.DI.uniform1i(this.TC,t))}_C(t,s){t=Math.fround(t),s=Math.fround(s);const i=this.vC;i[0]===t&&i[1]===s||(i[0]=t,i[1]=s,this.DI.uniform2f(this.TC,t,s))}AC(t,s,i){t=Math.fround(t),s=Math.fround(s),i=Math.fround(i);const e=this.vC;e[0]===t&&e[1]===s&&e[2]===i||(e[0]=t,e[1]=s,e[2]=i,this.DI.uniform3f(this.TC,t,s,i))}qG(t,s,i,e){t=Math.fround(t),s=Math.fround(s),i=Math.fround(i),e=Math.fround(e);const n=this.vC;n[0]===t&&n[1]===s&&n[2]===i&&n[3]===e||(n[0]=t,n[1]=s,n[2]=i,n[3]=e,this.DI.uniform4f(this.TC,t,s,i,e))}YG(t){const s=this.vC;hc.L(s,t)||(rc.yh(s,t,0),this.DI.uniformMatrix4fv(this.TC,!1,t))}PG(t){const s=this.xC;return this.IC()?s[0]===Math.fround(t.ko())&&s[1]===Math.fround(t.Fo())&&s[2]===Math.fround(t.jo()):s[0]===Math.fround(t)}FG(t){const s=this.xC;this.IC()?(s[0]=t.ko(),s[1]=t.Fo(),s[2]=t.jo()):s[0]=t}BG(t){return this.xC[0]===Math.fround(t)}zG(t,s){const i=this.xC;return i[0]===Math.fround(t)&&i[1]===Math.fround(s)}VG(t){this.xC[0]=t}WG(t,s){const i=this.xC;i[0]=t,i[1]=s}}}{const ac=self.Gs,uc=self.hs,lc=uc.ws,cc=uc.fs;ac.Pw.EC=class{constructor(t){this.DC=t,this.CG=cc.create(),this.xG=cc.create(),this.hI=null,this.oI=null,this.NC=!1,this.LC=lc.M(1,1,1,1),this._G=null,this.OC=new ac.Rect,this.clearColor=ac.Vn(ac.vo,0,0,0,0)}},ac.Pw.RC=class{constructor(t){const s=new ArrayBuffer(96);this.Yc=0,this.PC=t,this.DI=t.DC.mx(),this.kC=0,this.FC=0,this.jC=null,this.zC=new Float32Array(s,0,16),this.BC=new Float32Array(s,64,4),this.UC=new Float32Array(s,80,4),this.WC=[]}VC(t,s){this.Yc=1,this.kC=t,this.FC=s}YC(){const t=this.DI;t.drawElements(t.TRIANGLES,this.FC,t.UNSIGNED_SHORT,this.kC)}QC(t){this.Yc=2,this.jC=t}JC(){const t=this.DI,s=this.jC;t.bindTexture(t.TEXTURE_2D,s?s.Ax():null)}HC(t){this.Yc=3,t.Uo(this.BC,0)}qC(){const t=this.BC,s=this.PC;lc.m(s.LC,t),s._G.HG(t)}XC(t){this.Yc=21,t.Uo(this.BC,0)}ZC(){const t=this.BC,s=this.PC._G;s.HI.pG()&&s.HI.qG(t[0],t[1],t[2],t[3])}KC(t,s){this.Yc=4,this.kC=t,this.FC=s}$C(){this.DI.blendFunc(this.kC,this.FC)}t_(t,s,i,e){this.Yc=5;const n=this.BC;n[0]=t,n[1]=s,n[2]=i,n[3]=e}s_(){const t=this.BC;this.DI.viewport(t[0],t[1],t[2],t[3])}i_(t){this.Yc=6,cc.m(this.zC,t)}e_(){const t=this.PC,s=t.DC.hM,i=t._G,e=this.zC;for(let t=0,n=s.length;t<n;++t){const n=s[t];n===i?n.IG(e,!0):n.QG()}cc.m(t.xG,e)}n_(t){this.Yc=7,cc.m(this.zC,t)}r_(){const t=this.PC,s=t.DC.hM,i=t._G,e=this.zC;for(let t=0,n=s.length;t<n;++t){const n=s[t];n===i?n.GG(e,!0):n.JG()}cc.m(t.CG,e)}h_(t){this.Yc=8,this.jC=t}o_(){const t=this.DI,s=this.jC,i=this.PC;s?(i.hI=s.aI(),i.oI=s.uI(),i.NC&&i.oI?t.bindFramebuffer(t.FRAMEBUFFER,i.oI):t.bindFramebuffer(t.FRAMEBUFFER,i.hI)):(i.hI=null,i.oI=null,t.bindFramebuffer(t.FRAMEBUFFER,null))}a_(t){this.Yc=9,t.Uo(this.zC,0)}u_(t,s,i,e){this.Yc=9;const n=this.zC;n[0]=t,n[1]=s,n[2]=i,n[3]=e}l_(){const t=this.DI,s=this.zC,i=this.PC.clearColor,e=s[0],n=s[1],r=s[2],h=s[3];i.Qo(e,n,r,h)||(t.clearColor(e,n,r,h),i._o(e,n,r,h)),t.clear(t.COLOR_BUFFER_BIT)}c_(t){this.Yc=15,t.Uo(this.zC,0)}f_(){const t=this.zC;this.PC.OC.set(t[0],t[1],t[2],t[3])}d_(t,s){this.Yc=10,this.kC=t,this.FC=1,this.zC[0]=s}p_(){const t=this.DI,s=this.PC,i=s.DC.uM;t.useProgram(i.Gb),i.IG(s.xG,!1),i.GG(s.CG,!1);const e=s.OC;i.WI.pG()&&i.WI._C(e.Za(),e.Ka()),i.VI.pG()&&i.VI._C(e.$a(),e.tu());const n=this.zC[0];if(i.YI.pG()&&i.YI.GC(n),i.BI.pG()){const t=s.LC;i.BI.qG(t[0],t[1],t[2],t[3])}t.drawArrays(t.POINTS,this.kC/4,this.FC),t.useProgram(s._G.Gb)}m_(t){this.Yc=11,this.jC=t}g_(){const t=this.DI,s=this.PC,i=this.jC;if(s._G=i,t.useProgram(i.Gb),i.IG(s.xG,!1),i.GG(s.CG,!1),i.BI.pG()){const t=s.LC;i.BI.qG(t[0],t[1],t[2],t[3])}}y_(){this.Yc=12}w_(){const t=this.PC._G,s=this.DI,i=this.zC,e=this.BC,n=this.UC;if(t.XI.pG()){const t=this.PC.DC,i=this.jC;t.M_!==i&&(s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,i?i.Ax():null),t.M_=i,s.activeTexture(s.TEXTURE0))}t.nG.pG()&&t.nG._C(i[0],i[1]),t.KI.pG()&&t.KI._C(i[2],i[3]),t.$I.pG()&&t.$I._C(i[4],i[5]),t.hG.pG()&&t.hG.GC(this.FC),t.oG.pG()&&t.oG.GC(i[6]),t.aG.pG()&&t.aG.GC(i[7]),t.tG.pG()&&t.tG._C(i[12],i[13]),t.sG.pG()&&t.sG._C(i[14],i[15]),t.iG.pG()&&t.iG._C(n[0],n[1]),t.eG.pG()&&t.eG._C(n[2],n[3]),t.uG.pG()&&t.uG._C(e[0],e[1]),t.lG.pG()&&t.lG._C(e[2],e[3]),t.rG.pG()&&t.rG.GC(this.kC)}S_(){this.Yc=13}T_(){const t=this.PC._G.mG,s=this.WC;for(let i=0,e=t.length;i<e;++i){const e=t[i],n=s[i];e.IC()?e.AC(n.ko(),n.Fo(),n.jo()):e.GC(n)}}b_(t){this.Yc=14,this.jC=t}v_(){const t=this.DI,s=this.jC,i=this.PC.hI;s!==i&&t.bindFramebuffer(t.FRAMEBUFFER,s),t.invalidateFramebuffer(t.FRAMEBUFFER,[t.COLOR_ATTACHMENT0]),s!==i&&t.bindFramebuffer(t.FRAMEBUFFER,i)}x_(t,s,i){this.Yc=17;const e=this.zC,n=this.PC.DC;e[0]=t.Bg(),e[1]=t.Zg(),e[2]=s?s.Bg():n.Bg(),e[3]=s?s.Zg():n.Zg(),e[4]=t.fI()?1:0,e[5]="stretch"===i;const r=this.WC;ac.Mh(r),r.push(t.aI()),r.push(s?s.aI():null)}I_(){const t=this.zC,s=this.WC,i=this.DI,e=t[0],n=t[1],r=t[2],h=t[3],o=0!==t[4],a=0!==t[5],u=s[0],l=s[1];if(i.bindFramebuffer(i.READ_FRAMEBUFFER,u),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,l),a)i.blitFramebuffer(0,0,e,n,0,0,r,h,i.COLOR_BUFFER_BIT,o?i.LINEAR:i.NEAREST);else{const t=Math.min(e,r),s=Math.min(n,h),o=Math.max(n-h,0),a=Math.max(h-n,0);i.blitFramebuffer(0,o,t,s+o,0,a,t,s+a,i.COLOR_BUFFER_BIT,i.NEAREST)}}G_(t){this.Yc=18,this.jC=t}C_(){this.jC.__(),this.jC=null}A_(t){this.Yc=19,this.jC=t}E_(){this.jC.D_(),this.jC=null}N_(t,s,i){this.Yc=20;const e=this.zC;e[0]=t,e[1]=s,e[2]=i}L_(){const t=this.PC._G,s=this.zC;t.nG.pG()&&t.nG._C(s[0],s[1]),t.qI.pG()&&t.qI.GC(s[2])}O_(t,s,i,e,n,r,h){this.Yc=16;const o=this.zC;t.Uo(o,0),o[4]=1/s,o[5]=1/i,o[6]=e/s,o[7]=n/i,o[8]=r/s,o[9]=h/i}R_(){const t=this.PC._G,s=this.zC;t.tG.pG()&&t.tG._C(s[0],s[1]),t.nG.pG()&&t.nG._C(s[4],s[5]),t.QI.pG()&&t.QI._C(s[6],s[7]),t.JI.pG()&&t.JI._C(s[8],s[9])}P_(t,s,i,e,n,r,h){this.Yc=29;const o=this.zC;o[0]=1/t,o[1]=1/s,o[2]=i,o[3]=e,o[4]=n,o[5]=r,o[6]=h}k_(){const t=this.PC._G,s=this.zC;t.nG.pG()&&t.nG._C(s[0],s[1]),t.QI.pG()&&t.QI._C(s[2],s[3]),t.qI.pG()&&t.qI.GC(s[4]),t.JI.pG()&&t.JI._C(s[5],s[6])}F_(t){this.Yc=22,this.kC=t?1:0}j_(){const t=this.DI,s=0!==this.kC;s||t.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT),s||t.depthMask(!1)}z_(t){this.Yc=23,this.kC=t?1:0}B_(){const t=this.DI;0===this.kC?(t.disable(t.DEPTH_TEST),t.depthMask(!1)):(t.enable(t.DEPTH_TEST),t.depthMask(!0))}U_(t){this.Yc=24,this.kC=t?1:0}W_(){const t=this.DI,s=this.PC,i=s.DC,e=0!==this.kC;s.NC=e,t.activeTexture(t.TEXTURE2),e?(s.oI&&t.bindFramebuffer(t.FRAMEBUFFER,s.oI),t.bindTexture(t.TEXTURE_2D,i.sI())):(t.bindTexture(t.TEXTURE_2D,null),s.oI&&t.bindFramebuffer(t.FRAMEBUFFER,s.hI)),t.activeTexture(t.TEXTURE0)}V_(){this.Yc=25}Y_(){const t=this.DI;t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,1),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1)}Q_(){this.Yc=26}J_(){const t=this.DI;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,1,1),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}H_(){this.Yc=27}q_(){const t=this.DI;t.disable(t.STENCIL_TEST)}X_(t,s,i,e,n){this.Yc=28,this.kC=t?1:0;const r=this.zC;r[0]=s,r[1]=i,r[2]=e,r[3]=n}Z_(){const t=this.DI,s=this.zC;1===this.kC?(t.enable(t.SCISSOR_TEST),t.scissor(s[0],s[1],s[2],s[3])):t.disable(t.SCISSOR_TEST)}K_(){switch(this.Yc){case 1:return void this.YC();case 2:return void this.JC();case 3:return void this.qC();case 4:return void this.$C();case 5:return void this.s_();case 6:return void this.e_();case 7:return void this.r_();case 8:return void this.o_();case 9:return void this.l_();case 10:return void this.p_();case 11:return void this.g_();case 12:return void this.w_();case 13:return void this.T_();case 14:return void this.v_();case 15:return void this.f_();case 16:return void this.R_();case 17:return void this.I_();case 18:return void this.C_();case 19:return void this.E_();case 20:return void this.L_();case 21:return void this.ZC();case 22:return void this.j_();case 23:return void this.B_();case 24:return void this.W_();case 25:return void this.Y_();case 26:return void this.J_();case 27:return void this.q_();case 28:return void this.Z_();case 29:return void this.k_()}}}}{let fc=function(t,s,i,e,n,r){s?t.strokeRect(i,e,n,r):t.fillRect(i,e,n,r)},dc=function(t){return t*(4/3)},pc=function(t,s){t=t.trim();const i=parseFloat(t);return isFinite(i)?t.endsWith("%")?s*i/100:i:0};0;const mc=self.Gs,gc=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),yc={timeout:60},wc=new mc.vo(0,0,0,1),Mc=new Set(["left","center","right"]),Sc=new Set(["top","center","bottom"]),Tc=new Set(["word","cjk","character"]),bc=new Set(["ltr","rtl"]),vc=new Set;mc.tA&&mc.tA.addEventListener("fontload",(t=>{const s=t.font._c();for(const t of vc)(t.sA()||mc.Ze(t.iA(),s))&&t.eA()}));let xc=!1,Ic=!1;mc.Pw.UT=class{constructor(t,s){s=Object.assign({},yc,s),this.VT=t,this.nA="Arial",this.rA=16,this.hA=1,this.oA=0,this.aA=!1,this.uA=!1,this.lA="black",this.cA=!1,this.Pg=null,this.fA=!0,this.dA=null,this.pA=new Set,this.mA="left",this.gA="top",this.Fc="",this.yA=null,this.wA=mc.Vn(mc.Og),this.MA="word",this.SA="ltr",this.TA=!1,this.bA=!1,this.vA=!1,this.xA=-1,this.IA=0,this.GA=0,this.CA=0,this._y=0,this.Ay=0,this._A=1,this.AA=null,this.EA=null,this.DA=null,this.NA=null,this.LA=-1,this.OA=-1,this.RA="",this.PA="",this.kA="",this.FA=1,this.jA=1,this.zA=t=>this.BA(t),this.Zv=null,this.UA=new mc.Rect,this.WA=1,this.VA=new mc.Lf((()=>{this.YA(),this.QA(8,8)}),s.timeout),this.JA=null,this.HA=!1,vc.add(this)}Yn(){this.dA=null,this.pA.clear(),this.Pg=null,this.yA=null,this.AA=null,this.EA=null,this.DA=null,this.NA=null,this.zA=null,this.VA.Yn(),this.JA=null,this.YA(),this.wA._l(),this.wA=null,this.VT=null,this.HA=!0,vc.delete(this)}qA(){this.vA=!0}XA(){this.qA(),this.bA=!0}eA(){this.XA(),this.TA=!0}ZA(t){if(t=!!t,this.cA===t)return;this.cA=t;const s=this.cA?"alphabetic":"top";this.EA&&(this.EA.textBaseline=s),this.DA&&(this.DA.textBaseline=s),this.eA()}sA(){return this.cA}jg(t){this.Pg!==t&&(this.Pg=t,this.wA.jg(t),this.Pg&&this.Pg.bw()&&this.Pg.xw().then((()=>this.qA())),this.eA())}KA(t){t=!!t,this.fA!==t&&(this.fA=t,this.qA())}$A(t){t||(t="serif"),this.nA!==t&&(this.nA=t,this.eA())}iA(){return this.nA}tE(t){t<.1&&(t=.1),this.rA!==t&&(this.rA=t,this.eA())}sE(){return this.rA}iE(t){this.hA!==t&&(this.hA=t,this.eA())}eE(t){this.oA!==t&&(this.oA=t,this.XA())}nE(){return this.oA}rE(t){t=!!t,this.aA!==t&&(this.aA=t,this.eA())}hE(){return this.aA}oE(t){t=!!t,this.uA!==t&&(this.uA=t,this.eA())}aE(){return this.uA}uE(t){t=Math.floor(t),this.xA!==t&&(this.xA=t,this.qA())}lE(){return this.xA}cE(t,s){let i=[];(this.aA||s.Vy("b"))&&i.push("bold"),(this.uA||s.Vy("i"))&&i.push("italic");const e=s.Wy("size"),n=(e?parseFloat(e.Cg):this.rA)*this.hA;t?i.push(n+"pt"):i.push(n*this.fE()+"pt");let r=this.nA;const h=s.Wy("font");return h&&h.Cg&&(r=h.Cg,this.dA&&!this.pA.has(r)&&(this.dA(r),this.pA.add(r))),r&&(gc.has(r)?i.push(r):i.push('"'+r+'"')),i.join(" ")}Lb(t){t instanceof mc.vo&&(t=t.$o()),this.lA!==t&&(this.lA=t,this.qA())}dE(t,s,i){wc.Ao(t,s,i),this.Lb(wc)}pE(t){if(!Mc.has(t))throw new Error("invalid horizontal alignment");this.mA!==t&&(this.mA=t,this.XA())}mE(){return this.mA}gE(t){if(!Sc.has(t))throw new Error("invalid vertical alignment");this.gA!==t&&(this.gA=t,this.XA())}yE(){return this.gA}wE(t){if(!Tc.has(t))throw new Error("invalid word wrap mode");this.MA!==t&&(this.MA=t,this.eA())}ME(){return this.MA}SE(t){if(!bc.has(t))throw new Error("invalid text direction");this.SA!==t&&(this.SA=t,this.EA&&(this.EA.direction=this.SA),this.DA&&(this.DA.direction=this.SA),this.eA())}TE(){return this.SA}Bc(t){this.Fc!==t&&(this.Fc=t,this.eA())}bE(){return this.Fc}fE(){return this.WA*this._A*self.devicePixelRatio}vE(t,s,i){if(void 0===i&&(i=1),t<=0||t<=0)return;if(this.GA===t&&this.CA===s&&this._A===i)return;const e=this.GA;this.GA=t,this.CA=s,this._A=i;const n=self.devicePixelRatio;this._y=this.GA*this._A*n,this.Ay=this.CA*this._A*n;const r=Math.max(this._y,this.Ay),h=Math.min(this.VT.lx(),4096);let o=1;r>h&&(o=h/r,this._y=Math.min(this._y*o,h),this.Ay=Math.min(this.Ay*o,h)),this.WA=o,this.GA!==e?this.eA():this.XA()}Bg(){return this._y}Zg(){return this.Ay}xE(){return this._A}IE(){return this.GE(),this.wA.Gy()}CE(){return this.GE(),this.wA.Cy()+this.wA.Fg()*(this.oA+4)-this.oA}_E(){this.GE();let t=0;for(const s of this.wA.kg())for(const i of s.ey())t+=i.ny();return t}lI(){return this.VA.Ff(),this.AE(),this.Zv}EE(t,s){this.GE();const i=this.fE(),e=this.wA.kg();for(const n of e){const e=n.$g()*i;if(s>=n.zy()-n.Zg()*i+e&&s<n.zy()+e)for(const s of n.ey())if(t>=s.Fy()&&t<s.Fy()+s.Bg()*i)return s}return null}*DE(t){this.GE();const s=this.wA.kg();for(const i of s)for(const s of i.ey()){const i=s.Wy("tag");i&&mc.Ze(i.Cg,t)&&(yield s)}}NE(t,s){for(const i of this.DE(t)){if(0===s)return i;--s}return null}LE(t){let s=0;for(const i of this.DE(t))++s;return s}AE(){(!this.Zv||this.vA||this.bA||this.TA)&&(this.HA||this._y<=0||this.Ay<=0||(this.vA=!1,this.OE()))}OE(){this.HA||(this.GE(),this.QA(Math.max(mc.Sr(Math.ceil(this._y)),128),Math.max(mc.Sr(Math.ceil(this.Ay)),64)),this.RE(),this.PE(),this.VA.Ff())}QA(t,s){this.AA||(this.AA=mc.lo(16,16));let i=!1;this.LA===t&&this.OA===s||(this.LA=t,this.OA=s,this.AA.width=t,this.AA.height=s,i=!0),this.EA||(this.EA=this.AA.getContext("2d"),i=!0),i?(this.EA.textBaseline=this.cA?"alphabetic":"top",this.EA.direction=this.SA,this.EA.font=this.RA,this.EA.fillStyle=this.kA,this.EA.strokeStyle=this.kA,this.EA.globalAlpha=this.FA,this.EA.lineWidth=this.jA):this.EA.clearRect(0,0,t,s)}kE(){this.DA||(this.DA=mc.lo(16,16).getContext("2d"),this.NA=mc.lo(16,16).getContext("2d"),this.DA.textBaseline=this.cA?"alphabetic":"top",this.NA.textBaseline="top",this.DA.direction=this.SA,this.NA.direction=this.SA)}FE(t){this.PA!==t&&(this.PA=t,this.DA.font=t,this.NA.font=t)}jE(){if(!xc){xc=!0,this.kE();const t=this.DA.measureText("test");Ic="number"==typeof t.fontBoundingBoxAscent&&"number"==typeof t.fontBoundingBoxDescent}return Ic}GE(){this.zE(),this.BE()}zE(){this.TA&&(this.kE(),!this.cA||this.yA&&this.yA.toString()===this.Fc||(this.yA=new mc.dn(this.Fc,{fg:!0})),this.wA.Og(this.cA?this.yA.Ig():this.Fc,this.zA,this.GA,this.MA,0),this.TA=!1)}BE(){this.bA&&(this.UE(),this.bA=!1)}BA(t){const s=t.Jg()?t.gy().join(""):" ";this.FE(this.cE(!0,t));const i=t.Wy("size"),e=(i?parseFloat(i.Cg):this.rA)*this.hA,n=this.DA.measureText(s);let r=0;if(this.cA&&this.jE()){const t=this.NA.measureText(s);r=n.fontBoundingBoxAscent-t.fontBoundingBoxAscent}return{width:n.width,height:dc(e),fontBoundingBoxAscent:n.fontBoundingBoxAscent||0,fontBoundingBoxDescent:n.fontBoundingBoxDescent||0,Qg:r}}WE(t){this.RA!==t&&(this.RA=t,this.EA.font=t)}VE(t){this.kA!==t&&(this.kA=t,this.EA.fillStyle=t,this.EA.strokeStyle=t)}YE(t){this.FA!==t&&(this.FA=t,this.EA.globalAlpha=t)}QE(t){this.jA!==t&&(this.jA=t,this.EA.lineWidth=t)}UE(){const t=this.fE(),s=(4+this.oA)*t;let i=0;const e=this.wA.kg();if(0===e.length)return;for(const t of e){t.ky(NaN),t.jy(NaN);for(const s of t.ey())s.ky(NaN),s.jy(NaN)}const n=this.cA&&this.jE();let r=e[0].Zg()*t;if("center"===this.gA){const h=e.reduce(((i,e)=>i+e.Zg()*t+s),0)-s;i=Math.max(this.Ay/2-h/2,0),n&&(r=e[0].ty()*t)}else if("bottom"===this.gA){const r=e.reduce(((i,e)=>i+e.Zg()*t+s),0)-this.oA*t,h=n?e.at(-1).$g()*t:0;i=this.Ay-r-h-2}for(let n=0,h=e.length;n<h;++n){const h=e[n],o=h.Zg()*t,a=i;if(this.cA){if(i+=0===n?r:o,n>0&&i>this.Ay-4*t)break}else if(n>0&&i>=this.Ay-o)break;a>=0&&this.JE(h,i,t),this.cA||(i+=o),i+=s}}JE(t,s,i){let e=0;"center"===this.mA?e=Math.floor((this._y-t.Bg()*i)/2):"right"===this.mA&&(e=this._y-t.Bg()*i),t.ky(e),t.jy(s);for(const n of"ltr"===this.SA?t.ey():t.Ry())this.HE(n,e,s,i),e+=n.Bg()*i}HE(t,s,i,e){const n=t.Wy("offsetx");s+=n?pc(n.Cg,t.Zg())*e:0;const r=t.Wy("offsety");if(i+=r?pc(r.Cg,t.Zg())*e:0,t.qg()){const s=t.Wy("iconoffsety");i+=s?pc(s.Cg,t.Zg())*e:.2*t.Zg()*e}t.ky(s),t.jy(i)}RE(){this.EA.imageSmoothingEnabled=this.fA,this.EA.imageSmoothingQuality="high",this.IA=0;const t=this.fE(),s=this.wA.kg();for(const i of s)this.qE(i,t)}qE(t,s){const i=t.Fy(),e=t.zy();if(Number.isFinite(i)&&Number.isFinite(e))for(const i of"ltr"===this.SA?t.ey():t.Ry())this.XE(i,s,t.Zg())}XE(t,s,i){const e=this.EA,n=t.Fy(),r=t.zy();if(!Number.isFinite(n)||!Number.isFinite(r))return;const h=i/16;let o=t.Bg()*s;const a=t.Zg()*s,u=t.Zg()/16,l=(4+this.oA)*s;let c=t.Jg()?t.gy():null;if(-1!==this.xA){if(this.IA>=this.xA)return;t.Jg()&&this.IA+c.length>this.xA&&(c=c.slice(0,this.xA-this.IA),o=this.BA(t).width*s),this.IA+=t.ny()}const f=t.Wy("background"),d=t.Vy("u"),p=t.Vy("s");if(t.Jg()&&mc.Mm(c)&&!f&&!d&&!p||t.Vy("hide"))return;const m=t.Wy("color"),g=t.Wy("opacity");this.YE(g?parseFloat(g.Cg)/100:1),f&&(this.VE(f.Cg),e.fillRect(n,r-a,o,a+l));const y=t.Wy("linethickness"),w=y?parseFloat(y.Cg):1,M=t.Vy("stroke");if(M&&this.QE(.5*u*w*this.fE()),t.Jg()){const s=c.join("");if(this.WE(this.cE(!1,t)),!M){this.QE(.5*u*w*this.fE());const i=t.Wy("outlineback");i&&(this.VE(i.Cg),this.ZE(!0,s,n,r,o))}if(this.VE(m?m.Cg:this.lA),this.ZE(M,s,n,r,o),!M){this.QE(.5*u*w*this.fE());const i=t.Wy("outline");i&&(this.VE(i.Cg),this.ZE(!0,s,n,r,o))}}else if(t.qg()&&t.Bg()>0){const s=t.Ky(this.Pg);s&&e.drawImage(s,n,r-a,o,a)}if(this.VE(m?m.Cg:this.lA),d&&fc(e,M,n,r+s*h,o,s*h*w),p){const t=s*u,i=r-a/4+t/2;e.fillRect(n,i-t*w/2,o,t*w)}}ZE(t,s,i,e,n){"rtl"===this.SA&&(i+=n),t?"Gecko"===mc.Zs.ei?this.EA.strokeText(s,i,e,n):this.EA.strokeText(s,i,e):"Gecko"===mc.Zs.ei?this.EA.fillText(s,i,e,n):this.EA.fillText(s,i,e)}PE(){this.VT.KE()||(this.Zv||(this.Zv=this.VT.tI(this.AA.width,this.AA.height,{Qv:!0,Jv:"high"})),this.VT.$E(this.AA,this.Zv),this.UA.set(0,0,this._y/this.Zv.Bg(),this.Ay/this.Zv.Zg()),this.JA&&this.JA())}tD(){return this.UA}YA(){this.Zv&&(this.VT.KE()||this.VT.nI(this.Zv),this.Zv=null)}static Ob(){for(const t of vc)t.YA()}static sD(){return vc.values()}}}{const Gc=self.Gs;class Cc{constructor(t){this.DI=t.mx(),this.iD=t.gx(),this.eD=t.nD(),this.rD=null,this.kf=!1,this.hD=!1,this.oD=0,1===this.iD?this.rD=this.eD.createQueryEXT():this.rD=this.DI.createQuery()}Yn(){this.aD(),this.DI=null,this.eD=null,this.hD=!1}aD(){this.rD&&(1===this.iD?this.eD.deleteQueryEXT(this.rD):this.DI.deleteQuery(this.rD),this.rD=null)}__(){if(this.kf)throw new Error("query already active");1===this.iD?this.eD.beginQueryEXT(this.eD.TIME_ELAPSED_EXT,this.rD):this.DI.beginQuery(this.eD.TIME_ELAPSED_EXT,this.rD),this.kf=!0}D_(){if(!this.kf)throw new Error("query not active");1===this.iD?this.eD.endQueryEXT(this.eD.TIME_ELAPSED_EXT):this.DI.endQuery(this.eD.TIME_ELAPSED_EXT),this.kf=!1}uD(){if(!this.rD||this.hD||this.kf)return;let t=!1;t=1===this.iD?this.eD.getQueryObjectEXT(this.rD,this.eD.QUERY_RESULT_AVAILABLE_EXT):this.DI.getQueryParameter(this.rD,this.DI.QUERY_RESULT_AVAILABLE);const s=this.DI.getParameter(this.eD.GPU_DISJOINT_EXT);t&&!s&&(1===this.iD?this.oD=this.eD.getQueryObjectEXT(this.rD,this.eD.QUERY_RESULT_EXT):this.oD=this.DI.getQueryParameter(this.rD,this.DI.QUERY_RESULT),this.oD/=1e9,this.hD=!0),(t||s)&&this.aD()}lD(){return this.hD}cD(){if(!this.hD)throw new Error("no result available");return this.oD}}Gc.Pw.fD=class{constructor(t){this.VT=t,this.NM=t.ET(),this.kf=!1,this.dD=null,this.pD=!1,this.mD=null,this.gD=[]}Yn(){for(const t of this.gD)t instanceof Cc&&t.Yn();Gc.Mh(this.gD),this.dD=null,this.mD=null,this.VT=null}__(){if(this.kf)throw new Error("query already active");const t=this.VT.yD();t.length>0?(this.pD=!0,this.dD=t.at(-1),this.dD.wD(),this.dD.gD.push(this)):(this.pD=!1,this.dD=null),this.kf=!0,t.push(this),this.MD()}D_(){if(!this.kf)throw new Error("query not active");if(this.VT.yD().pop()!==this)throw new Error("can only end most nested query");this.kf=!1,this.wD(),this.dD&&(this.dD.MD(),this.dD=null)}MD(){this.mD=Gc.Vn(Cc,this.VT),this.gD.push(this.mD),this.mD.__()}wD(){this.mD.D_(),this.mD=null}uD(){for(const t of this.gD)t.uD()}SD(){return this.pD}lD(){return this.gD.every((t=>t.lD()))}cD(){return this.gD.reduce(((t,s)=>t+s.cD()),0)}ET(){return this.NM}}}{const _c=self.Gs;_c.Pw.TD=class{constructor(t,s=1e3){this.VT=t,this.bD=s,this.vD=[],this.VT.xD(this)}Yn(){this._l(),this.VT.ID(this),this.VT=null}_l(){for(const t of this.vD)t.Yn();_c.Mh(this.vD)}GD(){const t=new _c.Pw.fD(this.VT);return this.vD.push(t),this.vD.length>this.bD&&this.vD.shift().Yn(),t}CD(t){for(const s of this.vD){if(s.ET()>=t)return;if(s.SD())return;s.uD()}}_D(t,s){if(s<=t)return NaN;let i=0;for(const e of this.vD){if(e.ET()>=s)break;if(!(e.ET()<t)){if(!e.lD())return NaN;i+=e.cD()}}return i}AD(t){for(let s=0,i=this.vD.length;s<i;++s){const i=this.vD[s];if(!(i.ET()<t))return void(s>0&&this.vD.splice(0,s));i.Yn()}}}}{let Ac=function(){Wc=-1;for(const t of Uc)t.ED()&&(t.resolve(),Uc.delete(t));Uc.size>0&&(Wc=self.requestAnimationFrame(Ac))};0;const Ec=self.Gs,Dc=(self.assert,self.hs),Nc=(Dc.ys,Dc.ws),Lc=Dc.fs,Oc={powerPreference:"default",DD:!0,alpha:!1,depth:!1,ND:!1,LD:2,failIfMajorPerformanceCaveat:!1},Rc=new Set(["default","low-power","high-performance"]),Pc=new Ec.Cu(0,0,1,0,1,1,0,1),kc=Lc.create(),Fc=Lc.create(),jc=new Ec.Cu,zc=new Ec.Rect;let Bc=null;Ec.Rs&&(self.OD=function(){Bc?Bc.loseContext():console.warn("WEBGL_lose_context not supported")},self.RD=function(){Bc?Bc.restoreContext():console.warn("WEBGL_lose_context not supported")});const Uc=new Set;let Wc=-1;Ec.Pw.PD=class extends Ec.Pw.Kw{constructor(t,s){if(super(s),s=Object.assign({},Oc,s),!Rc.has(s.powerPreference))throw new Error("invalid power preference");const i={alpha:!!s.alpha,depth:!1,antialias:!1,powerPreference:s.powerPreference,failIfMajorPerformanceCaveat:!!s.failIfMajorPerformanceCaveat};let e=null,n=0;if(s.LD>=2&&(e=t.getContext("webgl2",i),n=2),e||(e=t.getContext("webgl",i),n=1),!e)throw new Error("renderer-unavailable (could not get WebGL context)");this.DI=e,this.kD=e.getContextAttributes(),this.FD=e.getParameter(e.VERSION),this.iD=n,this.jD=Nc.create(),this.zD=!1,this.BD=Lc.create(),this.UD=!!s.depth,this.WD=!(!s.depth||!s.ND),this.VD=this.UD,this.YD=!1,this.QD=null,this.JD=!0,this.HD=0,this.qD=0,this.OI=null,this.RI=null,this.XD=null,this.kI=null,this.ZD=new Float32Array(8e3*this.CT()),this.KD=new Uint16Array(12e3),this.$D=new Float32Array(16e3),this.tN=new Float32Array(32e3),this.sN=0,this.iN=0,this.eN=0,this.nN=0,this.rN=null,this.hN=null,this.oN=[],this.aN=0,this.uN=0,this.lN=null,this.cN=0,this.PC=Ec.Vn(Ec.Pw.EC,this),this.fN=Ec.Vn(Ec.vo,1,1,1,1),this.dN=null,this.M_=null,this.pN=0,this.mN=0,this.gN=new Ec.Rect,this.yN=Ec.Vn(Ec.Rect,0,0,-1,-1),this.wN=0,this.MN=-1,this.SN=0,this.TN=0,this.bN="(unavailable)",this.vN="(unavailable)",this.xN=[],this.IN=!1,this.GN=null,this.CN=null,this._N=null,this.AN=null,this.EN=null,this.DN=null,this.NN=null,this.LN=0,this.ON=!!s.DD,this.eD=null,this.RN=new Set,this.PN=[],this.RM(this.KD)}PT(){return!0}async FM(){super.FM();const t=this.DI,s=this.CT();this.fN._o(1,1,1,1),this.dN=null,this.M_=null,this.sN=0,this.eN=0,this.nN=8e3*s-4*s,Ec.Mh(this.oN),this.aN=0,this.uN=0,this.rN=null,this.lN=null,this.gN.set(0,0,1,1),this.cN=0;const i=this.PC;i._G=null,i.hI=null,i.oI=null,Nc.set(i.LC,1,1,1,1),i.clearColor._o(0,0,0,0),i.OC.set(0,0,1,1),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.pN=t.ONE,this.mN=t.ONE_MINUS_SRC_ALPHA,this.kN(t),t.disable(t.CULL_FACE),t.disable(t.STENCIL_TEST),t.disable(t.DITHER),this.UD?(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.LEQUAL)):(t.disable(t.DEPTH_TEST),t.depthMask(!1)),this.VD=this.UD,this.YD=!1,this.kI=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.kI),t.bufferData(t.ARRAY_BUFFER,this.tN.byteLength,t.DYNAMIC_DRAW),this.OI=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.OI),t.bufferData(t.ARRAY_BUFFER,this.ZD.byteLength,t.DYNAMIC_DRAW),this.RI=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.RI),t.bufferData(t.ARRAY_BUFFER,this.$D.byteLength,t.DYNAMIC_DRAW),this.XD=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.XD),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.KD,t.STATIC_DRAW),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,null),this.MN=t.getParameter(t.MAX_TEXTURE_SIZE);const e=t.getParameter(t.ALIASED_POINT_SIZE_RANGE);this.SN=e[0],this.TN=e[1],this.TN>2048&&(this.TN=2048),this.xN=t.getSupportedExtensions();const n=t.getExtension("WEBGL_debug_renderer_info");if(n&&(this.bN=t.getParameter(n.UNMASKED_VENDOR_WEBGL),this.vN=t.getParameter(n.UNMASKED_RENDERER_WEBGL)),this.GN=t.getExtension("KHR_parallel_shader_compile"),this.iD>=2&&("Chromium"!==Ec.Zs.ei||Ec.Zs.ii>=135)&&(this._N=t.getExtension("EXT_conservative_depth")),Ec.Rs&&(Bc=t.getExtension("WEBGL_lose_context")),this.ON&&(1===this.gx()?this.eD=t.getExtension("EXT_disjoint_timer_query"):this.eD=t.getExtension("EXT_disjoint_timer_query_webgl2")||t.getExtension("EXT_disjoint_timer_query")),this.CN=t.getExtension("EXT_texture_filter_anisotropic"),this.CN?this.LN=t.getParameter(this.CN.MAX_TEXTURE_MAX_ANISOTROPY_EXT):this.LN=0,this.gx()<2&&this.UD&&this.WD&&(this.AN=t.getExtension("WEBGL_depth_texture"),!this.AN))throw new Error("no depth texture support");this.gx()<2&&(this.EN=t.getExtension("EXT_frag_depth"),this.DN=t.getExtension("OES_standard_derivatives"),this.NN=t.getExtension("EXT_shader_texture_lod"));const r=Ec.Pw.II,h=r.KG(!1);let o=r.tC(),a=h,u=r.uC(),l=r.oC(),c=r.eC(),f=r.KG(!0),d=!1;this.UD&&(this.gx()<2?this.EN&&(o=r.sC(),u=r.lC(),c=r.nC(),d=!0):(a=r.$G(),o=r.iC(this.FN()),u=r.cC(this.FN()),l=r.aC(),c=r.rC(this.FN()),f=r.$G(!0)));const p=r.hC(this.gx(),d,this.DN&&this.NN,this.FN()),m=this.gx()>=2?r.$G():h,g=[[o,a,"<default>"],[o,a,"<default-device-transform>"],[u,l,"<point>"],[r.fC(),h,"<fill>"],[r.dC(),h,"<lineargradient>"],[r.pC(),h,"<penumbra>"],[r.gC(),h,"<hardellipse>"],[r.yC(),h,"<hardellipseoutline>"],[r.wC(),h,"<smoothellipse>"],[r.MC(),h,"<smoothellipseoutline>"],[r.mC(),h,"<smoothline>"],[c,f,"<tilemap>"],[p,m,"<tilerandomization>"]],y=await Promise.all(g.map((t=>this.jN({src:t[0],CI:t[1],name:t[2]}))));this.aM=y[0],this.hN=y[1],this.uM=y[2],this.fM=y[3],this.dM=y[4],this.pM=y[5],this.mM=y[6],this.gM=y[7],this.yM=y[8],this.wM=y[9],this.MM=y[10],this.lM=y[11],this.cM=y[12],this.aS()}async jN(t){const s=await Ec.Pw.II.EI(this,t);return this.nS(s),s}zN(){this.rN=null}vE(t,s,i){if(this._y===t&&this.Ay===s&&!i)return;this.AT();const e=this.DI,n=this.PC;this._y=t,this.Ay=s,this.BN(0,0,t,s),this.$M(this.BD,t/s),this.UN(this.BD),this.hN&&(e.useProgram(this.hN.EG()),this.hN.vG(this.sM),this.rN=this.hN,this.PC._G=this.hN),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0),this.dN=null,this.M_=null,this.UD&&this.JD&&this.WN(this._y,this.Ay),this.lN&&this.lN.eI(this._y,this.Ay),e.bindFramebuffer(e.FRAMEBUFFER,null),this.lN=null,n.hI=null,n.oI=null}WN(t,s){const i=this.DI;this.QD&&this.HD===t&&this.qD===s||(this.WD?(this.QD&&i.deleteTexture(this.QD),this.QD=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.QD),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),this.gx()>=2?i.texImage2D(i.TEXTURE_2D,0,i.DEPTH24_STENCIL8,t,s,0,i.DEPTH_STENCIL,i.UNSIGNED_INT_24_8,null):this.AN&&i.texImage2D(i.TEXTURE_2D,0,i.DEPTH_STENCIL,t,s,0,i.DEPTH_STENCIL,this.AN.UNSIGNED_INT_24_8_WEBGL,null),i.bindTexture(i.TEXTURE_2D,null)):(this.QD&&i.deleteRenderbuffer(this.QD),this.QD=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,this.QD),i.renderbufferStorage(i.RENDERBUFFER,this.iD>=2?i.DEPTH24_STENCIL8:i.DEPTH_STENCIL,t,s),i.bindRenderbuffer(i.RENDERBUFFER,null)),this.HD=t,this.qD=s)}VN(t,s){this.UD&&(this.JD=!1,this.WN(t,s))}YN(){this.UD&&(this.JD=!0,this.WN(this._y,this.Ay))}BN(t,s,i,e){const n=this.jD;n[0]===t&&n[1]===s&&n[2]===i&&n[3]===e||(this.QN().t_(t,s,i,e),Nc.set(n,t,s,i,e),this.uN=0)}HM(t){super.HM(t),this.$M(this.BD,this._y/this.Ay)}VM(t){super.VM(t),this.$M(this.BD,this._y/this.Ay)}QM(t){super.QM(t),this.$M(this.BD,this._y/this.Ay)}UN(t){Lc.L(this.sM,t)||(this.QN().i_(t),Lc.m(this.sM,t),this.uN=0,this.zD=!0)}JN(){let t,s,i;const e=this.lN;null===e?(t=this.BD,s=this.Bg(),i=this.Zg()):(t=e.cI(),s=e.Bg(),i=e.Zg()),this.UN(t),this.BN(0,0,s,i)}HN(t){Lc.L(this.iM,t)||(this.QN().n_(t),Lc.m(this.iM,t),this.uN=0,this.zD=!0)}qN(){this.zD=!1}XN(){return this.zD}rI(){return this.PC}QN(){const t=this.oN;return this.aN===t.length&&t.push(new Ec.Pw.RC(this.PC)),t[this.aN++]}AT(){0!==this.aN&&(this.KE()||(this.ZN(),this.KN(),this.aN=0,this.sN=0,this.iN=0,this.eN=0,this.uN=0))}ZN(){const t=this.DI;this.eN>0&&(t.bindBuffer(t.ARRAY_BUFFER,this.kI),t.bufferSubData(t.ARRAY_BUFFER,0,this.tN.subarray(0,this.eN))),this.sN>0&&(t.bindBuffer(t.ARRAY_BUFFER,this.OI),t.bufferSubData(t.ARRAY_BUFFER,0,this.ZD.subarray(0,this.sN)),t.bindBuffer(t.ARRAY_BUFFER,this.RI),t.bufferSubData(t.ARRAY_BUFFER,0,this.$D.subarray(0,this.iN)))}KN(){const t=this.oN;for(let s=0,i=this.aN;s<i;++s)t[s].K_()}$N(){return this.fN.zo()}tL(t,s,i,e){const n=this.fN;n.Qo(t,s,i,e)||(n._o(t,s,i,e),this.QN().HC(n),this.uN=0,this.TM=null)}sL(t){const s=this.fN;s.zo()!==t&&(s.Ro(t),this.QN().HC(s),this.uN=0,this.TM=null)}Lb(t){const s=this.fN;s.equals(t)||(s.set(t),this.QN().HC(s),this.uN=0,this.TM=null)}iL(){this.tL(1,1,1,1)}eL(){return this.fN}nL(t){t!==this.dN&&(this.QN().QC(t),this.dN=t,this.uN=0)}Sx(){this.dN=null}Nb(t){const s=this.RS(t);this.rL(s[0],s[1])}hL(t){const s=this.FS(t);this.rL(s.LS,s.OS)}rL(t,s){t===this.pN&&s===this.mN||(this.QN().KC(t,s),this.pN=t,this.mN=s,this.uN=0,this.TM=null)}oL(){return this.pN===this.DI.ONE&&this.mN===this.DI.ONE_MINUS_SRC_ALPHA}aL(){this.rL(this.DI.ONE,this.DI.ONE_MINUS_SRC_ALPHA)}uL(){this.rL(this.DI.SRC_ALPHA,this.DI.ONE_MINUS_SRC_ALPHA)}lL(){this.rL(this.DI.ONE,this.DI.ZERO)}Rect(t){this.cL(t.Za(),t.Ka(),t.$a(),t.tu())}cL(t,s,i,e){this.GT(t,s,i,s,i,e,t,e)}fL(){let t=this.sN;t>=this.nN&&(this.AT(),t=0),1===this.uN?this.oN[this.aN-1].FC+=6:(this.QN().VC(t,6),this.uN=1)}dL(t){t.Ju(this.ZD,this.sN,this.xM+this.IM),this.sN+=12}Cu(t){this.fL(),this.dL(t),Pc.Uo(this.$D,this.iN),this.iN+=8}GT(t,s,i,e,n,r,h,o){this.fL();const a=this.ZD;let u=this.sN;const l=this.xM+this.IM;a[u++]=t,a[u++]=s,a[u++]=l,a[u++]=i,a[u++]=e,a[u++]=l,a[u++]=n,a[u++]=r,a[u++]=l,a[u++]=h,a[u++]=o,a[u++]=l,this.sN=u,Pc.Uo(this.$D,this.iN),this.iN+=8}$S(t,s){this.fL(),this.dL(t),s.eu(this.$D,this.iN),this.iN+=8}pL(t,s){this.fL(),this.dL(t),s.Uo(this.$D,this.iN),this.iN+=8}mL(t,s,i,e,n,r,h,o,a,u,l,c,f){this.fL();const d=this.ZD;let p=this.sN;const m=this.xM+this.IM;d[p++]=t,d[p++]=s,d[p++]=m+i,d[p++]=e,d[p++]=n,d[p++]=m+r,d[p++]=h,d[p++]=o,d[p++]=m+a,d[p++]=u,d[p++]=l,d[p++]=m+c,this.sN=p,f.eu(this.$D,this.iN),this.iN+=8}HS(t,s,i,e,n,r,h,o,a,u,l,c,f){this.fL();const d=this.ZD;let p=this.sN;const m=this.xM+this.IM;d[p++]=t,d[p++]=s,d[p++]=m+i,d[p++]=e,d[p++]=n,d[p++]=m+r,d[p++]=h,d[p++]=o,d[p++]=m+a,d[p++]=u,d[p++]=l,d[p++]=m+c,this.sN=p,f.Uo(this.$D,this.iN),this.iN+=8}gL(t,s,i){const e=this.ZD,n=this.$D;if(i.length%3!=0)throw new Error("invalid index buffer length");for(let r=0,h=i.length;r<h;){const h=i[r++],o=i[r++],a=i[r++],u=3*h,l=3*o,c=3*a,f=2*h,d=2*o,p=2*a;this.fL();let m=this.sN,g=this.iN;e[m++]=t[u+0],e[m++]=t[u+1],e[m++]=t[u+2],e[m++]=t[l+0],e[m++]=t[l+1],e[m++]=t[l+2],e[m++]=t[c+0],e[m++]=t[c+1],e[m++]=t[c+2],e[m++]=t[c+0],e[m++]=t[c+1],e[m++]=t[c+2],n[g++]=s[f+0],n[g++]=s[f+1],n[g++]=s[d+0],n[g++]=s[d+1],n[g++]=s[p+0],n[g++]=s[p+1],n[g++]=s[p+0],n[g++]=s[p+1],this.sN=m,this.iN=g}}yL(t,s){this.US(0),Lc.m(kc,this.sM),Lc.m(Fc,this.iM),this.JN();const[i,e]=this.wL(this.lN),n=this.eS(0,0,this.zM(e),0,0,0,e);if(this.HN(n),"crop"===t&&this.lN&&s){const t=this._y/2,i=this.Ay/2,e=s.Bg(),n=s.Zg(),r=this.lN.Bg(),h=this.lN.Zg(),o=Math.min(r,e),a=Math.min(h,n),u=Math.max(n-h,0),l=Math.max(h-n,0);zc.set(-t,i-l,-t+o,i-a-l),jc.Hu(zc),zc.set(0,u,o,a+u),zc.wt(e,n),this.$S(jc,zc)}else{const t=i/2,s=e/2;this.cL(-t,s,t,-s)}this.UN(kc),this.HN(Fc)}ML(t){this.gN.equals(t)||(this.gN.m(t),this.QN().c_(t),this.uN=0)}SL(){}TL(t,s,i,e){this.eN>=7996&&this.AT();let n=this.eN;const r=this.xM+this.IM;2===this.uN&&this.cN===r?this.oN[this.aN-1].FC++:(this.QN().d_(n,r),this.uN=2,this.cN=r);const h=this.tN;h[n++]=t,h[n++]=s,h[n++]=i,h[n++]=e,this.eN=n}uS(t){this.rN!==t&&(this.QN().m_(t),this.rN=t,this.uN=0,this.TM=null)}bL(){return this.rN}vL(){this.uS(this.hN)}xL(t){this.QN().XC(t),this.uN=0}IL(t,s,i=1){this.QN().N_(t,s,i),this.uN=0}GL(t,s,i,e,n,r,h){if(this.rN!==this.lM)throw new Error("must set tilemap fill mode first");this.QN().O_(t,s,i,e,n,r,h),this.uN=0}CL(t,s,i,e,n,r,h){if(this.rN!==this.cM)throw new Error("must set tile randomization mode first");this.QN().P_(t,s,i,e,n,r,h),this.uN=0}_L(t,s,i,e,n,r,h,o,a,u,l){const c=this.rN;if(l%=10800,!c.dG||c.jG(s,i,e,n,r,h,o,a,u,l))return;const f=this.QN();f.y_(),c.UG(s,i,e,n,r,h,o,a,u,l);const d=f.zC;d[0]=r,d[1]=h,s.Uo(d,2),d[6]=a,d[7]=u,i.Uo(d,12);const p=f.BC;n.Uo(p,0);const m=p[1];p[1]=p[3],p[3]=m,e.Uo(f.UC,0),f.kC=l,f.FC=o,c.XI.pG()?f.jC=t?t.lI():null:f.jC=null,this.uN=0}AL(t){const s=this.rN;if(0===t.length||s.OG(t))return;const i=this.QN();i.S_(),s.kG(t),Ec.xh(i.WC,t),this.uN=0}EL(t,s,i,e){this.QN().u_(t,s,i,e),this.uN=0}_l(t){this.QN().a_(t),this.uN=0}DL(){}_T(){super._T(),this.DI.flush()}NL(){this.UD&&this.lN&&this.lN.mI()&&(this.QN().F_(this.VD),this.uN=0)}LL(t){t=!!t,this.VD!==t&&this.UD&&(this.VD=t,this.QN().z_(t),this.uN=0)}OL(){return this.VD}sI(){return this.QD}iI(){return this.WD}RL(t){if(t=!!t,this.WD&&this.YD!==t){if(t&&this.OL())throw new Error("depth still enabled");this.YD=t,this.QN().U_(t),this.uN=0}}PL(t,s,i,e,n=0){t=Math.floor(t),s=Math.floor(s),i=Math.floor(i),e=Math.floor(e),this.yN.Xa(t,s,i,e)||(this.yN.Wa(t,s,i,e),s=(n||this.wL(this.kL())[1])-s-e,this.QN().X_(!0,t,s,i,e),this.uN=0)}FL(){-1!==this.yN.$a()&&(this.yN.set(0,0,-1,-1),this.QN().X_(!1,0,0,0,0),this.uN=0)}jL(){for(const t of this.RN)t.CD(this.NM)}KE(){return!this.DI||this.DI.isContextLost()||this.IN}Ob(){super.jM(),Ec.Pw.Xv.Ob(),Ec.Pw.jx.Ob(),Ec.Pw.UT.Ob();for(const t of this.RN)t._l();this.xN=[],this.eD=null,this.GN=null,this._N=null,this.CN=null,this.AN=null,this.EN=null,this.DN=null,this.NN=null,this.LN=0,this.bN="(unavailable)",this.vN="(unavailable)",this.rN=null,this.hN=null,this.QD=null;for(const t of this.SM.values())t.Ob()}async Rb(){this.IN=!0,await this.FM(),this.IN=!1;for(const t of this.SM.values())t.Rb(this);this.vE(this._y,this.Ay,!0)}zL(t,s){if(this.KE())throw new Error("context lost");this.AT();const i=Ec.Vn(Ec.Pw.Xv,this);return i.ux(t,s),i}async BL(t,s){if(this.KE())throw new Error("context lost");if(s=Object.assign({},s),Ec.Ei.ImageBitmapOptions){let i=await createImageBitmap(t,{premultiplyAlpha:"premultiply"});const e=s.Bv&&"clamp-to-edge"!==s.Bv||s.Uv&&"clamp-to-edge"!==s.Uv,n=Ec.Mr(i.width)&&Ec.Mr(i.height);return this.yx()||n||!e?s.Hv=!1:Ec.Ei.Oi?(i=await createImageBitmap(t,{premultiplyAlpha:"premultiply",resizeWidth:Ec.Sr(i.width),resizeHeight:Ec.Sr(i.height)}),s.Hv=!1):i=await createImageBitmap(t,{premultiplyAlpha:"none"}),await Ec.ff((()=>this.zL(i,s)))}if(t instanceof Blob){if("undefined"==typeof Image)throw new Error("texture upload variant not supported in worker");const s=await Ec.uo(t);t=s}return await Ec.ff((()=>this.zL(t,s)))}tI(t,s,i){this.AT();const e=Ec.Vn(Ec.Pw.Xv,this);return e.Tx(t,s,i),e}$E(t,s,i){this.AT(),s.Gx(t,i)}nI(t){t&&(t.Dx(),t.Nx()>0||(this.AT(),t===this.dN&&(this.DI.bindTexture(this.DI.TEXTURE_2D,null),this.dN=null),t===this.M_&&(this.DI.activeTexture(this.DI.TEXTURE1),this.DI.bindTexture(this.DI.TEXTURE_2D,null),this.DI.activeTexture(this.DI.TEXTURE0),this.M_=null),t.Cx()))}UL(t){let s=this._y,i=this.Ay,e=!0;if(t&&("number"==typeof t.width&&(s=Math.floor(t.width),e=!1),"number"==typeof t.height&&(i=Math.floor(t.height),e=!1)),s<=0||i<=0)throw new Error("invalid size");this.AT();const n=Ec.Vn(Ec.Pw.jx,this);return n.Kx(s,i,Object.assign({kx:e},t)),this.lN=null,this.PC.hI=null,this.PC.oI=null,n}WL(t,s=!0){t!==this.lN&&(t&&t.gI()&&t.eI(this._y,this.Ay),this.QN().h_(t),this.lN=t,this.uN=0,s&&this.JN())}kL(){return this.lN}wL(t){return t?[t.Bg(),t.Zg()]:[this._y,this.Ay]}VL(t,s="stretch"){this.iD<2||this.lN&&this.lN.yI()>0?(this.lL(),this.iL(),this.YL(t,s)):(this.QN().x_(t,this.lN,s),this.uN=0)}YL(t,s="stretch"){const i=t.lI();if(!i)throw new Error("not a texture-backed render target");this.nL(i),this.yL(s,i)}QL(t){this.iD<2||(this.QN().b_(t.aI()),this.uN=0)}JL(t){this.WL(null),this.AT();const s=t.lI();s===this.dN&&(this.DI.bindTexture(this.DI.TEXTURE_2D,null),this.dN=null),s===this.M_&&(this.DI.activeTexture(this.DI.TEXTURE1),this.DI.bindTexture(this.DI.TEXTURE_2D,null),this.DI.activeTexture(this.DI.TEXTURE0),this.M_=null),t.Cx()}async bI(t,s,i){this.AT();const e=this.lN;let n,r,h;t?(n=t.Bg(),r=t.Zg(),h=t.aI()):(n=this.Bg(),r=this.Zg(),h=null);let o=0,a=0,u=n,l=r;if(i){o=Ec.Xn(Math.floor(i.Za()),0,n-1),a=Ec.Xn(Math.floor(i.Ka()),0,r-1);let t=i.width();t=0===t?n-o:Ec.Xn(Math.floor(t),0,n-o);let s=i.height();s=0===s?r-a:Ec.Xn(Math.floor(s),0,r-a),u=t,l=s,a=r-(a+l)}const c=this.DI;c.bindFramebuffer(c.FRAMEBUFFER,h);const f=()=>{c.bindFramebuffer(c.FRAMEBUFFER,null),this.lN=null,this.PC.hI=null,this.PC.oI=null,this.WL(e)};let d;if(!s&&this.gx()>=2){c.bindFramebuffer(c.READ_FRAMEBUFFER,h);const t=c.createBuffer(),s=u*l*4,i=c.PIXEL_PACK_BUFFER;c.bindBuffer(i,t),c.bufferData(i,s,c.STREAM_READ),c.readPixels(o,a,u,l,c.RGBA,c.UNSIGNED_BYTE,0),c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindBuffer(i,null),f();const e=c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0);await this.AI((()=>c.getSyncParameter(e,c.SYNC_STATUS)===c.SIGNALED)),c.deleteSync(e),d=new ImageData(u,l),c.bindBuffer(i,t),c.getBufferSubData(i,0,new Uint8Array(d.data.buffer),0,s),c.bindBuffer(i,null),c.deleteBuffer(t)}else d=new ImageData(u,l),c.readPixels(o,a,u,l,c.RGBA,c.UNSIGNED_BYTE,new Uint8Array(d.data.buffer)),f();return d}HL(){this.LL(!0),this.QN().V_(),this.uN=0,this.wN=1}qL(){this.LL(!1),this.QN().Q_(),this.uN=0,this.wN=2}XL(){return 2===this.wN}ZL(){this.LL(!0),this.QN().H_(),this.uN=0,this.wN=0}KL(t){this.$L()&&(this.QN().G_(t),this.uN=0)}tO(t){this.$L()&&(this.QN().A_(t),this.uN=0)}AI(t){const s=new Promise((s=>Uc.add({resolve:s,ED:t})));return-1===Wc&&(Wc=self.requestAnimationFrame(Ac)),s}kT(){return this._y*this.Ay*(this.kD.alpha?4:3)}FT(){let t=0;for(const s of Ec.Pw.jx.vI())s.lI()||(t+=s.Ox());return t}jT(){let t=0;for(const s of Ec.Pw.Xv.Rx())t+=s.Ox();return t}sO(){return this.FD}gx(){return this.iD}iO(){return"webgl"+this.gx()}yx(){return this.gx()>=2}lx(){return this.MN}eO(){return this.SN}nO(){return this.TN}rO(){return this.bN}hO(){return this.vN}oO(){if(this.gx()>=2)return"webgl2";{const t=[];return this.EN&&t.push("EXT_frag_depth"),this.DN&&t.push("OES_standard_derivatives"),this.NN&&t.push("EXT_shader_texture_lod"),t.length>0?"webgl1:"+t.join(","):"webgl1:none"}}aO(){return this.xN}$L(){return!!this.eD}nD(){return this.eD}_I(){return this.GN}FN(){return!!this._N}xx(){return this.CN}Ix(){return this.LN}xD(t){this.RN.add(t)}ID(t){this.RN.delete(t)}yD(){return this.PN}mx(){return this.DI}kN(t){this.NS([["normal",t.ONE,t.ONE_MINUS_SRC_ALPHA],["additive",t.ONE,t.ONE],["xor",t.ONE,t.ONE_MINUS_SRC_ALPHA],["copy",t.ONE,t.ZERO],["destination-over",t.ONE_MINUS_DST_ALPHA,t.ONE],["source-in",t.DST_ALPHA,t.ZERO],["destination-in",t.ZERO,t.SRC_ALPHA],["source-out",t.ONE_MINUS_DST_ALPHA,t.ZERO],["destination-out",t.ZERO,t.ONE_MINUS_SRC_ALPHA],["source-atop",t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],["destination-atop",t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA]])}uO(){return this.BT()}}}{const Vc=self.Gs,Yc={lO:null,cO:null,fO:null,getTime:null,dO:null};Vc.Pw.pO=class{constructor(t){t=Object.assign({},Yc,t),this.mO=t.lO,this.gO=t.cO,this.yO=t.fO,this.wO=t.getTime,this.MO=t.dO,this.SO=null,this.TO=new Set}bO(t){this.TO.add(t)}vO(t){this.TO.delete(t)}Ob(){this.SO=null;for(const t of this.TO)t.Ob()}xO(t){return this.mO?this.mO(t):[t.Bg(),t.Zg()]}kL(t){return this.gO(t)}IO(t,s){this.yO(t,s)}GO(){return this.wO()}Np(t){this.MO(t)}CO(t,s,i){return s=Math.floor(s),i=Math.floor(i),!this.SO||this.SO.Bg()===s&&this.SO.Zg()===i||(t.nI(this.SO),this.SO=null),null===this.SO&&(this.SO=t.zL(null,{width:s,height:i,Wv:"nearest",Qv:!1})),this.SO}}}{const Qc=self.Gs,Jc=(self.assert,self.hs.fs),Hc=Qc.Vn(Qc.Rect),qc=Qc.Vn(Qc.Rect),Xc=Qc.Vn(Qc.Rect),Zc=Qc.Vn(Qc.Rect),Kc=Jc.create(),$c=Jc.create(),tf={_O:null,AO:null,EO:null,DO:!1},sf={NO:null,LO:!1,OO:!1,RO:!1,PO:!1,kO:!1,FO:!1};Qc.Pw.jO=class{constructor(t,s){s=Object.assign({},tf,s),this.Bp=t,this.zO=s._O,this.BO=s.AO,this.UO=s.EO,this.WO=null,this.VO=[],this.YO=[],this.QO=[],this.JO=!1,this._b=0,this.HO=!1,this.qO=!1,this.XO=!1,this.ZO=!1,this.KO=!1,this.$O=!1,this.zD=!1,this.tR=!1,this.sR=!1,this.iR=!1,this.eR=!1,this.nR=!1,this.rR=0,this.hR=[null,null,null],this.oR=!!s.DO,this.aR=0,this.uR=0,this.lR=0,this.cR=0,this.fR=null,this.dR=null,this.pR=Qc.Vn(Qc.Rect),this.mR=Qc.Vn(Qc.Rect),this.gR=Qc.Vn(Qc.Rect),this.yR=Qc.Vn(Qc.Rect),this.wR=Qc.Vn(Qc.Rect),this.MR=1,this.SR=1,this.TR=0,this.bR=0,this.vR=null,this.xR=null,this.IR=0,this.GR=0,this.CR=0,this._R=0,this.AR=!1,this.Hx=Jc.create(),this.ER=Jc.create(),this.Bp.bO(this)}Yn(){this.Bp.vO(this),Qc.Mh(this.QO),Qc.Mh(this.VO),Qc.Mh(this.YO),this.fR=null,this.dR=null,this.zO=null,this.BO=null,this.UO=null}Ob(){this.JO=!0,Qc.Mh(this.QO),Qc.Mh(this.VO),Qc.Mh(this.YO)}DR(){return this.JO}NR(t,s){if(s=Object.assign({},sf,s),Qc.Mh(this.QO),this.aR=0,this.uR=0,this.HO=!1,this.qO=!1,this.XO=!1,this.ZO=!1,this.KO=!1,this.$O=!1,this.rR=0,this.nR=!!s.PO,this.eR=!!s.FO,this.JO=!1,Qc.xh(this.VO,t),0===t.length)return;if(s.NO){if(s.NO.length!==t.length)throw new Error("incorrect indexMap length");Qc.xh(this.YO,s.NO)}else{Qc.Mh(this.YO);for(let s=0,i=t.length;s<i;++s)this.YO.push(s)}for(const s of t)this.aR+=s.fb(),this.uR+=s.pb(),s.Mb()&&(this.HO=!0),s.Tb()&&(this.qO=!0),s.Sb()&&(this.XO=!0),s.mb()&&(this.ZO=!0),s.Ib()&&(this.KO=!0);this.$O=this.LR(t[0].lb());const i=this.OR(t[0],s),e=this.RR(t.at(-1),s);if(1===t.length&&!i&&!e)return void(this.iR=!0);this.iR=!1;let n=0;i&&(this.rR=1,this.QO.push(Qc.Vn(Qc.Pw.jO.kR.PR,this,-1,1)),n=1);for(let s=0,r=t.length;s<r;++s)if(0!==s||i){let t=1===n?2:1;s!==r-1||e||(t=0),this.rR=Math.max(this.rR,t),this.QO.push(Qc.Vn(Qc.Pw.jO.kR.FR,this,n,t,s)),n=t}else this.rR=1,this.QO.push(Qc.Vn(Qc.Pw.jO.kR.jR,this,-1,1,s)),n=1;e&&this.QO.push(Qc.Vn(Qc.Pw.jO.kR.zR,this,n,0))}OR(t,s){return!!(s.LO||t.gb()||s.RO&&!t.wb()||t.Tb()&&!this.eR||0!==this.aR||0!==this.uR)||(t.lb().PT()?t.Sb()&&(s.kO||s.PO)||t.bb()&&s.PO:t.Sb()&&!this.$O&&s.kO)}RR(t,s){return!!s.OO||(t.lb().PT()?t.Sb()||t.mb():(t.Sb()||t.mb())&&this.BR())}LR(t){return t.tS()&&this.XO&&!this.ZO}UR(t,s,i){t.tS()&&null===s&&(s=t.WR()),this.vR=s,this.fR=i.VR||null,this.dR=i.YR||null,this._b=i.QR||0,this.MR=i.devicePixelRatio||1,this.SR=i.JR||1,this.TR=i.HR||0,this.bR="number"==typeof i.time?i.time:this.Bp.GO(),this.zD=!1,t.qN(),this.HO&&this.qR();let e=!1;if(this.XR()&&(this.ZR(t,i),e=!0,this.xR=this.Bp.CO(t,this.lR,this.cR),Hc.m(this.mR),Hc.Mu(),t.tS()&&t.KR(this.vR),t.$R(this.vR.lI(),this.xR,Hc.Za(),Hc.Ka(),Hc.width(),Hc.height())),this.iR)this.tP(t,i);else if(e||this.ZR(t,i),0!==this.gR.width()||0!==this.gR.height()){t.aL(),t.iL(),t.zS(0),t.US(0),this.WO=i.sP||null,this.IR=i.iP||0,this.GR=i.eP||0,this.CR=i.nP||0,this._R=i.rP||0,this.AR=!!i.hP,this.oP(t),this.hR[0]=s,this.hR[1]=this.rR>=1?this.aP():null,this.hR[2]=2===this.rR?this.aP():null;for(const s of this.QO){const i=this.uP(s.lP()),e=this.uP(s.cP());t.tS()?s.fP(t,i,e):s.dP(t,i,e)}t.nL(null),this.hR[1]&&this.pP(this.hR[1]),this.hR[2]&&this.pP(this.hR[2]),this.hR.fill(null),this.mP(t),this.vR=null,this.xR=null,this.fR=null,this.dR=null,this.WO=null}}ZR(t,s){const[i,e]=this.Bp.xO(t);this.gP(t,i,e),this.yP(s)}gP(t,s,i){if(s<=0||i<=0)throw new Error("invalid draw size");this.lR===s&&this.cR===i||this.wP(t,s,i,0,0,this.Hx,this.ER),this.lR=s,this.cR=i}wP(t,s,i,e,n,r,h){const o=s/2+e,a=i/2+n;t.$M(r,s/i);const u=t.eS(o,a,t.zM(i),o,a,0,i);Jc.m(h,u)}yP(t){this.pR.m(t.MP),t.SP?this.mR.m(t.SP):this.mR.set(0,0,this.lR,this.cR),this.gR.m(this.mR),this.gR.wt(this.lR,this.cR);const s=this.SR*this.MR;this.mR.lu(this.aR*s,this.uR*s),this.wR.m(this.mR),this.wR.wt(this.lR,this.cR),this.mR.Su(0,0,this.lR,this.cR),this.yR.m(this.mR),this.yR.wt(this.lR,this.cR)}oP(t){if(this.tR=t.OL(),this.sR=t.XL(),this.eR)t.LL(!1),this.qO&&t.RL(!0);else{if(Hc.m(this.mR),t.PT()){const t=this.SR*this.MR;Hc.lu(Math.max(this.aR,1)*t,Math.max(this.uR,1)*t),Hc.Mu(),Hc.Xn(0,0,this.lR,this.cR)}else Hc.Mu();t.PL(Hc.Za(),Hc.Ka(),Hc.width(),Hc.height(),this.cR)}}TP(t){t.iL(),this.eR||(this.sR&&t.ZL(),t.LL(!1),this.qO&&t.RL(!0)),t.tS()&&t.bP(!0)}mP(t){t.RL(!1),this.sR&&t.qL(),t.LL(this.tR),this.eR||t.FL(),t.tS()&&t.bP(!1),this.zD=t.XN()}vP(){this.wR.Xn(0,0,1,1)}uP(t){return t<0?null:this.hR[t]}aP(){return this.Bp.kL(this)}xP(){return this.vR}pP(t){this.Bp.IO(t,this)}IP(t){return this.VO[t]}GP(t){this.WO?this.WO(this,t,(()=>this.zO(t,this))):this.zO(t,this),this.iR||this.TP(t)}CP(t){if(this.eR)return!0;if(0!==this.IR||0!==this.GR||0!==this.CR||0!==this._R)return!1;const[s,i]=t.wL(t.kL());return s===this.lR&&i===this.cR}_P(t,s){let i=this.Hx,e=this.ER;if(s&&!this.CP(t)){let s,n;i=Kc,e=$c,0!==this.CR&&0!==this._R?[s,n]=[this.CR,this._R]:[s,n]=t.wL(t.kL()),this.wP(t,s,n,this.IR,this.GR,i,e),this.eR||t.FL()}t.UN(i),t.HN(e)}qR(){this.Bp.Np(this)}AP(t,s){return this.UO(this.YO[t],s)}EP(t,s){let i=this.wR,e=this.yR,n=this.gR;t.PT()&&(qc.m(i),qc.du(1),i=qc,Xc.m(e),Xc.du(1),e=Xc,Zc.m(n),Zc.du(1),n=Zc),this.DP(t,s,e,n,i,1/this.lR,1/this.cR)}NP(t,s){let i=this.yR,e=this.gR,n=1/this.lR,r=1/this.cR;if(this.BO){let{LP:t,OP:s,RP:h}=this.BO(this.fR);t||(Hc.set(0,0,0,0),t=Hc),s||(s=this.lR),h||(h=this.cR),i=t,e=t,n=1/s,r=1/h}else t.PT()&&(Xc.m(i),Xc.du(1),i=Xc,Zc.m(e),Zc.du(1),e=Zc);let h=this.wR;t.PT()&&(h=qc,h.m(this.wR),h.du(1)),this.DP(t,s,i,e,h,n,r),t.tS()&&this.KO&&t.PP(this.nR)}kP(t){return this.XO?t.tS()?this.XR()?this.xR:this.vR.lI():this.vR:null}DP(t,s,i,e,n,r,h){t._L(this.kP(t),n,i,e,this.pR,r,h,this.MR,this.SR,this.TR,this.bR),t.AL(this.AP(s,t))}tP(t,s){const i=this.VO[0],e=t.OL(),n=i.Tb();n&&(t.LL(!1),t.RL(!0),this.wR.set(0,0,1,1),this.gR.set(0,0,1,1)),t.uS(i),t.Nb(this._b),t.WL(this.vR);let r=0,h=1;if(this.gR.set(0,0,1,1),i.bb()&&this.BO){const{LP:t,OP:s,RP:i}=this.BO(this.fR);t&&this.gR.m(t),r=Number.isFinite(s)?1/s:0,h=Number.isFinite(i)?1/i:0}else{const[s,i]=this.Bp.xO(t);r=1/s,h=1/i}s.MP?this.pR.m(s.MP):this.pR.set(0,0,0,0),t._L(this.kP(t),this.wR,this.gR,this.gR,this.pR,r,h,this.MR,this.SR,this.TR,this.bR),t.AL(this.AP(0,t)),t.tS()&&this.KO&&t.PP(this.nR),t.zS(0),this.GP(t),n&&(t.RL(!1),t.LL(e))}XR(){return this.$O}BR(){return!this.$O}FP(){return this.XO}jP(){return!!this.iR&&!this.XR()}zP(){return this.eR}BP(){return this.fR}UP(){return this.dR}WP(){return this._b}VP(){return this.AR}XN(){return this.zD}YP(){return this.mR}QP(){return this.yR}JP(){return this.oR}async HP(t,s,i){}}}self.Gs.Pw.jO.kR=class{constructor(t,s,i,e=-1){this.qP=t,this.XP=s,this.ZP=i,this.Aw=e}KP(){return this.qP}lP(){return this.XP}cP(){return this.ZP}$P(){return this.Aw}EG(){return this.KP().IP(this.$P())}dP(t,s,i){}fP(t,s,i){}};{const ef=self.Gs;ef.Pw.jO.kR.PR=class extends ef.Pw.jO.kR{constructor(t,s,i,e){super(t,s,i,e)}dP(t,s,i){const e=this.KP();t.aL(),t.aS(),t.WL(i,e.VP()),t.EL(0,0,0,0),e.GP(t),e.vP()}fP(t,s,i){const e=this.KP();t.aL(),t.aS(),t.WL(i,!1),t.EL(0,0,0,0),e.GP(t),e.vP()}}}{const nf=self.Gs,rf=nf.Vn(nf.Rect),hf=nf.Vn(nf.Cu);nf.Pw.jO.kR.zR=class extends nf.Pw.jO.kR{constructor(t,s,i,e){super(t,s,i,e)}dP(t,s,i){const e=this.KP();t.aS(),t.WL(i),e._P(t,!0),t.Nb(e.WP()),t.nL(s.lI()),hf.Hu(e.YP()),rf.m(e.QP()),rf.du(1),t.$S(hf,rf),e.JP()&&t.QL(s)}fP(t,s,i){const e=this.KP();t.aS(),t.WL(i,!1),e.CP(t)?hf.Hu(e.QP()):(t.bP(!1),e._P(t,!0),hf.Hu(e.YP())),t.tk(null),t.Nb(e.WP()),t.nL(s.lI()),e.zP()?t.yL():t.$S(hf,e.QP())}}}{const of=self.Gs;of.Pw.jO.kR.jR=class extends of.Pw.jO.kR{constructor(t,s,i,e){super(t,s,i,e)}dP(t,s,i){const e=this.KP();t.WL(i,e.VP()),t.EL(0,0,0,0),t.lL(),t.uS(this.EG()),e.NP(t,this.$P()),e.GP(t),e.vP()}fP(t,s,i){const e=this.KP();t.WL(i,!1),t.EL(0,0,0,0),t.lL(),t.uS(this.EG()),e.NP(t,this.$P()),e.GP(t),e.vP()}}}{const af=self.Gs,uf=af.Vn(af.Rect),lf=af.Vn(af.Cu);af.Pw.jO.kR.FR=class extends af.Pw.jO.kR{constructor(t,s,i,e){super(t,s,i,e)}dP(t,s,i){const e=this.KP();t.WL(i);const n=0===this.cP();n?t.Nb(e.WP()):(t.EL(0,0,0,0),t.lL()),t.uS(this.EG()),e.EP(t,this.$P()),t.nL(s.lI()),e._P(t,n),lf.Hu(e.YP()),uf.m(e.QP()),uf.du(1),t.$S(lf,uf),e.JP()&&t.QL(s)}fP(t,s,i){const e=this.KP();t.WL(i,!1),0===this.cP()?(t.Nb(e.WP()),t.tk(null),e.CP(t)?lf.Hu(e.QP()):(t.bP(!1),e._P(t,!0),lf.Hu(e.YP()))):(t.EL(0,0,0,0),t.lL(),lf.Hu(e.QP())),t.uS(this.EG()),e.EP(t,this.$P()),t.nL(s.lI()),e.zP()?t.yL():t.$S(lf,e.QP())}}}{let cf=function(t,s){const i=t[0]-s[0];return 0!==i?i:t[1]-s[1]};0;const ff=self.Gs,df=self.ks;let pf=null;const mf=new Set,gf=[],yf=[];let wf=!1,Mf=!1,Sf=!1;const Tf=new Set(["vsync","unlimited-tick","unlimited-frame"]);self.sk=class{constructor(t){pf=t,Object.defineProperties(this,{ik:{value:pf.nk().ek(),writable:!1},rk:{value:pf.ak().hk(),writable:!1},uk:{value:{},writable:!1},lk:{value:{},writable:!1},ck:{value:pf.fk(),writable:!1},dk:{value:pf.pk(),writable:!1},mk:{value:pf.gk(),writable:!1},yk:{value:pf.wk(),writable:!1},Mk:{value:new Date(pf.Sk()),writable:!1},storage:{value:new self.Tk(pf),writable:!1},bk:{value:pf.vk(),writable:!1},xk:{value:pf.Ik(),writable:!1},Gk:{value:pf.Ck(),writable:!1},Wv:{value:pf._k(),writable:!1},Ak:{value:pf.Ek(),writable:!1},Dk:{value:new self.Nk(t),writable:!1},Lk:{value:new self.Ok(t),writable:!1}}),pf.Rk().addEventListener("keydown",(t=>{mf.has(t.key)?t.stopPropagation():mf.add(t.key)})),pf.Rk().addEventListener("keyup",(t=>mf.delete(t.key))),pf.yf().addEventListener("window-blur",(()=>mf.clear())),pf.vk()&&(self.alert=t=>(wf||(wf=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual.")),this.alert(t)))}Pk(t){Object.defineProperties(this.uk,t)}kk(t){Object.defineProperties(this.lk,t)}addEventListener(t,s){pf.Rk().addEventListener(t,s)}removeEventListener(t,s){pf.Rk().removeEventListener(t,s)}Fk(t,...s){df.ue(t);const i=pf.jk(),e=i.zk(t);if(!e)throw new Error(`cannot find function name '${t}'`);if(!e.Il())return e.Bk();if(s.length<e.Uk())throw new Error(`not enough function parameters passed for '${t}' (${s.length} passed, ${e.Uk()} expected)`);const n=e.Wk();let r=n.Vk();const h=i.Yk();if(h){r=r.slice(0);const t=new Set(r);for(const s of h.Vk())t.has(s)||(r.push(s),t.add(s));for(const s of i.Qk())t.has(s)||(r.push(s),t.add(s))}return n.Jk(r,e.Hk(),e.qk(),e.Bk(),...s)}Xk(t){const s=pf.Kk().Zk();if(!s)throw new Error("not in a function which returns a value");switch(s.$k()){case 1:"number"==typeof t&&s.tF(t);break;case 2:"string"==typeof t&&s.tF(t);break;case 3:"number"!=typeof t&&"string"!=typeof t||s.tF(t)}}signal(t){df.ue(t),pf.jk().sF(t)}iF(t){return df.ue(t),pf.jk().eF(t)}nF(){return[pf.Ik(),pf.Ck()]}get rF(){return pf.hF()}get oF(){return pf.aF()}get uF(){return pf.lF()}get cF(){return pf.fF()}get dF(){return pf.pF()}get mF(){return pf.gF()}get yF(){return pf.wF()}set yF(t){df.re(t),pf.MF(t)}get SF(){return Mf||(console.warn("IRuntime.fps is deprecated. Use IRuntime.framesPerSecond instead."),Mf=!0),pf.TF()}get framesPerSecond(){return pf.TF()}get bF(){return pf.vF()}get xF(){return pf.IF()}get GF(){return pf.CF()}get _F(){return pf.AF()}set _F(t){if(!Tf.has(t))throw new Error("invalid framerate mode");pf.EF(t)}get DF(){return pf.NF()}set DF(t){df.re(t),pf.LF(t)}get OF(){return pf.RF()}set OF(t){pf.PF(t)}get kF(){return pf.nk().FF()}get jF(){return pf.nk().zF()}random(){return pf.BF()}get layout(){const t=pf.UF();if(!t)throw new Error("no layout is running - make sure a layout is loaded before accessing");return t.WF()}VF(t){const s=pf.YF();let i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(i=s.QF(t),!i)throw new Error("invalid layout");return i.WF()}JF(){return pf.YF().HF().map((t=>t.WF()))}qF(t){const s=pf.YF();let i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(i=s.QF(t),!i)throw new Error("invalid layout");s.XF()||s.ZF(i)}get keyboard(){const t=pf.KF().keyboard;if(!t)throw new Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return t}get $F(){const t=pf.KF().$F;if(!t)throw new Error("runtime.mouse used but Mouse object missing - add it to your project first");return t}get tj(){const t=pf.KF().tj;if(!t)throw new Error("runtime.touch used but Touch object missing - add it to your project first");return t}get sj(){const t=pf.KF().sj;if(!t)throw new Error("runtime.timelineController used but Timeline Controller object missing - add it to your project first");return t}ij(t,s){df.ue(t),df.ue(s),pf.ej(t,s)}nj(t){df.re(t);const s=pf.rj(t);return s?s.hj():null}oj(t,s){df.De(s);const i=pf.aj();for(const s of t){const t=pf.uj(s),i=t.lj();gf.push([i.cj().$P(),i.fj()]),yf.push(t)}if(0===gf.length)return;gf.sort(cf),yf.sort(((t,i)=>s(t.hj(),i.hj())));let e=!1;for(let t=0,s=gf.length;t<s;++t){const s=yf[t],n=i.dj(gf[t][0]),r=gf[t][1],h=n.pj();h[r]!==s&&(h[r]=s,s.lj().mj(n,!0),n.gj(s),e=!0)}e&&pf.yj(),ff.Mh(gf),ff.Mh(yf)}async wj(t,s){Sf||(console.warn("IRuntime.createWorker() is deprecated. All modern browsers now support nested workers so this method is no longer needed."),Sf=!0);const i=new MessageChannel,e=i.port1,n=i.port2;return await pf.Mj("runtime","script-create-worker",{url:t,opts:s,port2:n},[n]),e}alert(t){return pf.Mj("runtime","alert",{message:t+(pf.vk()?" [via Web Worker]":"")})}Sj(t){return df.re(t),pf.Tj(t)}bj(t){pf.vj(t)}async xj(t,s,i){df.le(t),df.se(s),df.je(i,DOMRect),i||(i=new DOMRect(0,0,0,0));const e=pf.Ij();if(!e)return;pf.yj();const n=await e.Gj(t||"image/png",s,i.x,i.y,i.width,i.height);return await pf.Cj(ff.Dj.Ej.Aj._j,null),n}}}{const bf=self.Gs;self.ks;let vf=null;self.Nj=class{constructor(t){vf=t,Object.defineProperties(this,{Lj:{value:!0,writable:!1}})}Oj(t){const s=self.Pj.Rj(t);if(!s)throw new Error("invalid IImageInfo");s.kj(vf.Fj())}jj(t){return vf.so(t)}zj(t){return vf.io(t)}Bj(t){return vf.eo(t)}Uj(t){return vf.no(t)}Wj(t){return vf.Vj(t)}Yj(t){return"flat"===vf.Qj()&&bf.Zh(t)&&(t=t.toLowerCase()),vf.Jj(t)}get Hj(){return vf.qj()}async Xj(t,s){throw new Error("decodeWebMOpus() is no longer supported - use Web Audio's decodeAudioData() directly as all supported platforms now support WebM Opus")}Zj(...t){return vf.Kj(...t)}$j(t){return vf.tz(t)}sz(t){return vf.iz(t)}}}{const xf=self.Gs,If=self.ks;let Gf=null;self.ez=class{constructor(t){Gf=t,Object.defineProperties(this,{runtime:{value:Gf.Fj(),writable:!1}})}nz(t,s){const i=Gf.Fj(),e=i.uj(t),n=i.uj(s);return Gf.rz(e,n)}hz(t,s){const i=Gf.Fj(),e=i.uj(t);for(const t of s){const s=i.uj(t);if(Gf.rz(e,s))return t}return null}oz(t){const s=Gf.Fj().uj(t),i=Gf.az(s);return i?i.hj():null}uz(t,s){if(If.re(t),If.re(s),t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid cell size");Gf.lz(t,s)}cz(){return Gf.fz()}dz(t,s){const i=Gf.Fj();let e;e=Array.isArray(t)?t.map((t=>i.pz(t))):[i.pz(t)];const n=xf.Rect.qa(s),r=[];return Gf.mz(null,e,n,r),r.map((t=>t.hj()))}}}{const Cf=self.Gs;self.ks;let _f=null;const Af=new Map([["Windows","windows"],["macOS","macos"],["Linux","linux"],["Chrome OS","chrome-os"],["Android","android"],["iOS","ios"]]),Ef=new Map([["Chrome","chrome"],["Chromium","chromium"],["Edge","edge"],["Opera","opera"],["NW.js","nwjs"],["Firefox","firefox"],["Safari","safari"]]),Df=new Map([["Chromium","chromium"],["Gecko","gecko"],["WebKit","webkit"]]);self.Nk=class{constructor(t){_f=t,Object.defineProperties(this,{gz:{value:Cf.Zs.hi,writable:!1},os:{value:Af.get(Cf.Zs.Ks)||"unknown",writable:!1},yz:{value:Cf.Zs.$s,writable:!1},browser:{value:Ef.get(Cf.Zs.ti)||"unknown",writable:!1},wz:{value:Cf.Zs.si,writable:!1},Mz:{value:Df.get(Cf.Zs.ei)||"unknown",writable:!1}})}get Sz(){let t=_f.Tz();return _f.bz()?t="nwjs":_f.vz()?t="windows-webview2":"cordova"===t?t="Android"===Cf.Zs.Ks?"cordova-android":"cordova-ios":"playable-ad-single-file"!==t&&"playable-ad-zip"!==t||(t="playable-ad"),t}get DC(){return _f.Ij().xz()}get Iz(){return _f.Ij().Gz()}get Cz(){return _f.Ij()._z()}get Az(){return _f.Ij().Ez()}get Dz(){return _f.Ij().Nz()}get Lz(){return _f.Ij().Oz()}get Rz(){return _f.Ij().Pz()}get kz(){return _f.Ij().Fz()}get devicePixelRatio(){return _f.jz()}}}{self.Gs;const Nf=self.ks;self.Tk=class{constructor(t){this.zz=t.Bz()}getItem(t){return Nf.ue(t),this.zz.getItem(t)}setItem(t,s){return Nf.ue(t),this.zz.setItem(t,s)}removeItem(t){return Nf.ue(t),this.zz.removeItem(t)}clear(){return this.zz.clear()}keys(){return this.zz.keys()}}}{const Lf=self.Gs,Of=(self.ks,Lf.Cs());self.Uz=class{#t;constructor(){const t=Lf.Vz.Wz(Of);this.#t=t,Object.defineProperties(this,{runtime:{value:t.Fj().Yz(),writable:!1},id:{value:t.Qz(),writable:!1},Jz:{value:t.qz(),writable:!1},Xz:{value:t.Zz(),writable:!1},Kz:{value:t.$z(),writable:!1},tB:{value:t.sB(),writable:!1},iB:{value:t.eB(),writable:!1},nB:{value:t.rB(),writable:!1},hB:{value:t.oB(),writable:!1},aB:{value:t.uB(),writable:!1}}),t.Fj().lB(this,t)}static cB(t){if(!t)return null;const s=Lf.Vz.fB(t);return s?s.dB():null}pB(){return this.#t.gB().mB()}yB(){return this.#t.wB().hj()}}}{const Rf=globalThis.Gs,Pf=globalThis.ks,kf=Rf.Cs();globalThis.MB=class{#t;constructor(){const t=Rf.Vz.Wz(kf);this.#t=t,Object.defineProperties(this,{name:{value:t._c(),writable:!1},runtime:{value:t.Fj().Yz(),writable:!1},SB:{value:t.TB().dB(),writable:!1}}),t.Fj().lB(this,t)}addEventListener(t,s){Pf.ue(t),Pf.De(s),this.#t.Rk().addEventListener(t,s)}removeEventListener(t,s){Pf.ue(t),Pf.De(s),this.#t.Rk().removeEventListener(t,s)}bB(){return[...this.vB()]}xB(){return Rf.jh(this.vB())}IB(){return[...this.GB()]}CB(){return Rf.jh(this.GB())}_B(t){const s=this.#t,i=s.Fj().AB(t),e=s.EB(i);return e?e.hj():null}*vB(){for(const t of this.#t.DB())yield t.hj()}*GB(){for(const t of this.#t.LB().NB())yield t.hj()}}}{const Ff=globalThis.Gs,jf=globalThis.ks,zf=Ff.Cs();globalThis.OB=class extends globalThis.MB{#t;constructor(){super();const t=Ff.Vz.Wz(zf);this.#t=t}RB(t){jf.De(t);const s=this.#t;if(s.PB()>0)throw new Error("setInstanceClass() called too late, because instances have already been created - call in runOnStartup");s.kB(t)}Ii(t,s,i,e,n){if(jf.te(s),jf.te(i),"number"!=typeof t&&"string"!=typeof t)throw new TypeError("invalid layer parameter");const r=this.#t,h=r.Fj(),o=h.UF().cj(t);if(!o)throw new Error("invalid layer");const a=h.jB(r,o,s,i,e,n);e&&o.zB(a);const u=h.jk();return u.BB(!0),a.UB(),u.BB(!1),u.WB()||h.YF().VB()||h.YB(),a.hj()}QB(){return this.#t.JB().map((t=>t.mB()))}*HB(){for(const t of this.#t.JB())yield t.mB()}qB(t){return jf.Fe(t,globalThis.XB),t.ZB(this)}}}{const Bf=globalThis.Gs,Uf=globalThis.ks,Wf=globalThis.OB,Vf=Bf.Cs();globalThis.XB=class extends globalThis.MB{#t;constructor(){super();const t=Bf.Vz.Wz(Vf);this.#t=t}KB(){return this.#t.$B().map((t=>t.mB()))}*tU(){for(const t of this.#t.$B())yield t.mB()}ZB(t){Uf.Fe(t,Wf);const s=this.#t,i=s.Fj().pz(t);return s.sU(i)}}}{self.Gs;const Yf=self.ks,Qf=new WeakMap,Jf=["above","below","top-sublayer","bottom-sublayer"];self.iU=class{constructor(t){Qf.set(this,t);const s=[],i=t.eU(),e=i.nU().length;for(let t=0;t<e;++t)s.push(new self.rU(i,t));Object.defineProperties(this,{name:{value:t._c(),writable:!1},index:{value:t.$P(),writable:!1},effects:{value:s,writable:!1}})}addEventListener(t,s){Yf.ue(t),Yf.De(s),Qf.get(this).Rk().addEventListener(t,s)}removeEventListener(t,s){Yf.ue(t),Yf.De(s),Qf.get(this).Rk().removeEventListener(t,s)}get width(){return Qf.get(this).Bg()}set width(t){Yf.re(t),Qf.get(this).Hg(t)}get height(){return Qf.get(this).Zg()}set height(t){Yf.re(t),Qf.get(this).Ug(t)}hU(t,s){Yf.re(t),Yf.re(s);const i=Qf.get(this);i.Hg(t),i.Ug(s)}getSize(){const t=Qf.get(this);return[t.Bg(),t.Zg()]}set scale(t){Yf.re(t),Qf.get(this).oU(t)}get scale(){return Qf.get(this).aU()}set angle(t){Yf.re(t),Qf.get(this).uU(t)}get angle(){return Qf.get(this).lU()}set scrollX(t){Yf.te(t),Qf.get(this).cU(t)}get scrollX(){return Qf.get(this).fU()}set scrollY(t){Yf.te(t),Qf.get(this).dU(t)}get scrollY(){return Qf.get(this).pU()}scrollTo(t,s){Yf.te(t),Yf.te(s);const i=Qf.get(this);i.cU(t),i.dU(s)}mU(){const t=Qf.get(this);return[t.fU(),t.pU()]}gU(t){const s=Qf.get(this);let i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");return i=s.cj(t),i?i.yU():null}wU(){return Qf.get(this).MU().map((t=>t.yU()))}*SU(){for(const t of Qf.get(this).SU())yield t.yU()}TU(t,s,i){const e=Qf.get(this),n=self.bU;Yf.ue(t),Yf.je(s,n);const r=s?e.Fj().vU(s):null,h=Jf.indexOf(i);if(h<0)throw new Error("invalid location");e.xU(t,r,h)}IU(t,s,i){const e=Qf.get(this),n=e.Fj(),r=self.bU;Yf.Fe(t,r);const h=n.vU(t);if(!h)throw new Error("invalid layer");Yf.je(s,r);const o=s?n.vU(s):null,a=Jf.indexOf(i);if(a<0)throw new Error("invalid location");e.GU(h,o,a)}CU(t){const s=Qf.get(this),i=self.bU;Yf.Fe(t,i);const e=s.Fj().vU(t);if(!e)throw new Error("invalid layer");const n=e.Fj();s._U(e),n.jk().WB()||n.YB()}AU(){const t=Qf.get(this),s=t.Fj();t.EU(),s.jk().WB()||s.YB()}DU(t,s){Yf.re(t),Yf.re(s),Qf.get(this).NU(t,s)}LU(){return Qf.get(this).OU()}set W(t){Yf.ue(t);const s=Qf.get(this);if("perspective"===t)s.RU();else{if("orthographic"!==t)throw new Error("invalid projection");s.PU()}}get W(){return Qf.get(this).kU()?"orthographic":"perspective"}}}{const Hf=self.Gs,qf=self.ks,Xf=new WeakMap,Zf=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),Kf=new Map([...Zf.entries()].map((t=>[t[1],t[0]]))),$f=new Set(["2d","3d"]),td=Hf.Vn(Hf.vo);self.bU=class{constructor(t){Xf.set(this,t);const s=[],i=t.eU(),e=i.nU().length;for(let t=0;t<e;++t)s.push(new self.rU(i,t));Object.defineProperties(this,{name:{value:t._c(),writable:!1},layout:{value:t.QF().WF(),writable:!1},effects:{value:s,writable:!1}}),t.Fj().lB(this,t)}get FU(){const t=Xf.get(this).jU();return t?t.yU():null}*zU(){for(const t of Xf.get(this).zU())yield t.yU()}*BU(){for(const t of Xf.get(this).UU())yield t.yU()}*WU(){for(const t of Xf.get(this).UU())for(const s of t.VU())yield s.yU()}get index(){return Xf.get(this).$P()}get isVisible(){return Xf.get(this).YU()}set isVisible(t){Xf.get(this).QU(t)}get JU(){return Xf.get(this).HU()}get qU(){return Xf.get(this).XU()}set qU(t){Xf.get(this).ZU(t)}get KU(){return Xf.get(this).$U()}set KU(t){Xf.get(this).tW(!!t)}get sW(){return Xf.get(this).iW()}get opacity(){return Xf.get(this).$N()}set opacity(t){t=Hf.Xn(+t,0,1),isNaN(t)||Xf.get(this).sL(t)}set scale(t){qf.re(t),Xf.get(this).eW(t)}get scale(){return Xf.get(this).nW()}set rW(t){qf.re(t),Xf.get(this).hW(t)}get rW(){return Xf.get(this).oW()}set angle(t){qf.re(t),Xf.get(this).uU(t)}get angle(){return Xf.get(this).aW()}set uW(t){qf.re(t),Xf.get(this).lW(t)}get uW(){return Xf.get(this).cW()}set fW(t){qf.re(t),Xf.get(this).dW(t)}get fW(){return Xf.get(this).pW()}set mW(t){qf.re(t),Xf.get(this).qb(t)}get mW(){return Xf.get(this).Hb()}set renderingMode(t){if(!$f.has(t))throw TypeError("invalid rendering mode");Xf.get(this).gW("3d"===t)}get renderingMode(){return Xf.get(this).yW()?"3d":"2d"}set wW(t){Xf.get(this).MW(t)}get wW(){return Xf.get(this).SW()}set TW(t){Xf.get(this).bW(t)}get TW(){return Xf.get(this).vW()}set QR(t){qf.ue(t);const s=Zf.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");Xf.get(this).Nb(s)}get QR(){return Kf.get(Xf.get(this).xW())}set backgroundColor(t){if(qf.xe(t),t.length<3)throw new Error("expected 3 elements");td.Ao(t[0],t[1],t[2]);const s=Xf.get(this),i=s.IW();i.Vo(td)||(i.Po(td),s.Fj().yj())}get backgroundColor(){const t=Xf.get(this).IW();return[t.ko(),t.Fo(),t.jo()]}set scrollX(t){qf.te(t);const s=Xf.get(this);s.GW(!0),s.cU(t)}get scrollX(){return Xf.get(this).fU()}set scrollY(t){qf.te(t);const s=Xf.get(this);s.GW(!0),s.dU(t)}get scrollY(){return Xf.get(this).pU()}scrollTo(t,s){qf.te(t),qf.te(s);const i=Xf.get(this);i.GW(!0),i.cU(t),i.dU(s)}mU(){const t=Xf.get(this);return[t.fU(),t.pU()]}_W(){Xf.get(this).GW(!1)}getViewport(){return Xf.get(this).AW().su()}EW(t,s,i=0){qf.te(t),qf.te(s),qf.te(i);const e=Xf.get(this),n=e.Fj();return e.DW(t-n._z(),s-n.Ez(),i)}NW(t,s,i=0){qf.te(t),qf.te(s),qf.te(i);const e=Xf.get(this),n=e.Fj(),[r,h]=e.LW(t,s,i);return[r+n._z(),h+n.Ez()]}OW(t,s,i=0){return qf.te(t),qf.te(s),qf.te(i),Xf.get(this).RW(t,s,i)}PW(t,s,i=0){return qf.te(t),qf.te(s),qf.te(i),Xf.get(this).kW(t,s,i)}get FW(){return Xf.get(this).jW()}}}{let sd=function(t){let s=nd.get(t);return s||(s=id.Vn(id.Event.yf),nd.set(t,s),s)};0;const id=self.Gs,ed=self.ks,nd=new WeakMap,rd=id.Cs();self.zW=class{#t;constructor(){const t=id.Vz.Wz(rd);this.#t=t;const s={runtime:{value:t.Fj().Yz(),writable:!1},objectType:{value:t.BW().mB(),writable:!1},SB:{value:t.TB().dB(),writable:!1}};t.UW(s),t.WW(s),Object.defineProperties(this,s),t.Fj().lB(this,t)}static VW(){return id.Vz.YW()}QW(){const t=nd.get(this);t&&(t.Yn(),nd.delete(this))}addEventListener(t,s,i){ed.ue(t),ed.De(s),sd(this).addEventListener(t,s,i)}removeEventListener(t,s,i){ed.ue(t),ed.De(s),sd(this).removeEventListener(t,s,i)}dispatchEvent(t){sd(this).dispatchEvent(t)}destroy(){const t=this.#t,s=t.Fj();s.JW(t),s.jk().WB()||s.YF().VB()||s.jk().HW()||s.YB()}qW(){const t=this.#t.XW();return t?t.map((t=>t.hj())):[]}*ZW(){const t=this.#t;if(t.KW())for(const s of t.$W())yield s.hj()}get uid(){return this.#t.tV()}get sV(){return this.#t.iV()}get eV(){return this.#t.nV()}set yF(t){ed.re(t),this.#t.MF(t)}get yF(){return this.#t.rV()}hV(){this.#t.oV()}get oF(){const t=this.#t;return t.Fj().aF(t)}aV(...t){ed.xe(t);const s=new Set(t),i=this.#t.uV();return s.isSubsetOf(i)}lV(t){ed.Fe(t,Set),this.#t.cV(t)}fV(){return new Set(this.#t.uV())}signal(t){ed.ue(t);const s=this.#t;s.Fj().jk().dV(s,t)}iF(t){ed.ue(t);const s=this.#t;return s.Fj().jk().pV(s,t)}}}{const hd=self.Gs,od=self.ks,ad=hd.Cs();self.mV=class extends self.zW{#t;#s=!1;#i=null;#e=!1;#n=null;#r;#h;constructor(t){super(),this.#t=hd.Vz.Wz(ad),this.#s=!1,this.#i=null,this.#e=!1,this.#n=null,this.#r=t?.gV,this.#h=t?.yV}QW(){this.wV(!1),this.MV(!1),super.QW()}SV(){return hd.Vz.TV()}bV(t){const s=this.#t;s.Fj().vV(t,s)}xV(t){const s=this.#t;return s.Fj().Cj(t,s)}IV(t,s){if(od.ue(t),od.De(s),!this.#r)throw new Error("no DOM component id set");this.#t.Fj().GV(this.#r,t,s)}CV(t){od.xe(t);for(const[s,i]of t)this.IV(s,i)}_V(t,s){if(od.ue(t),!this.#r)throw new Error("no DOM component id set");this.#t.Fj().zc(this.#r,t,s)}AV(t,s){if(od.ue(t),!this.#r)throw new Error("no DOM component id set");return this.#t.Fj().Mj(this.#r,t,s)}EV(t,s){if(!this.#t.Fj().vk())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.#r,handler:t,data:s,responseId:null});this._V(t,s)}wV(t){if(t=!!t,this.#s===t)return;this.#s=t;const s=this.#t.Fj();if(t){if(!this.#i)if(this.#t.Fj().DV()){const t=globalThis.NV,s=this.SB;this.#i=()=>{const i=performance.now();this.LV(),t.OV(s,performance.now()-i)}}else this.#i=()=>this.LV();s.yf().addEventListener("tick",this.#i)}else s.yf().removeEventListener("tick",this.#i)}RV(){return this.#s}LV(){}MV(t){if(t=!!t,this.#e===t)return;this.#e=t;const s=this.#t.Fj();if(t){if(!this.#n)if(this.#t.Fj().DV()){const t=globalThis.NV,s=this.SB;this.#n=()=>{const i=performance.now();this.PV(),t.OV(s,performance.now()-i)}}else this.#n=()=>this.PV();s.yf().addEventListener("tick2",this.#n)}else s.yf().removeEventListener("tick2",this.#n)}kV(){return this.#e}PV(){}FV(){return[]}jV(){return null}zV(t){}BV(){if(!this.#h)throw new Error("no wrapper component id set");return this.#t.Fj().UV(this.#h)}WV(t,s){if(od.ue(t),od.De(s),!this.#h)throw new Error("no wrapper component id set");this.#t.Fj().VV(this.#h,t,s)}YV(t){od.xe(t);for(const[s,i]of t)this.WV(s,i)}QV(t,s){if(!this.#h)throw new Error("no wrapper component id set");this.runtime.Lk.JV(this.#h,t,s)}HV(t,s){if(!this.#h)throw new Error("no wrapper component id set");return this.runtime.Lk.qV(this.#h,t,s)}}}{let ud=function(t){return class s extends t{#t;#s;constructor(t){super(t);const s=ld.Vz.Wz(gd),i=s.lj();this.#t=s,this.#s=i,md.set(this,s);const e=[],n=i.XV();if(n){const t=i.BW().eU().nU().length;for(let s=0;s<t;++s)e.push(new self.rU(n,s))}const r={effects:{value:e,writable:!1}};Object.defineProperties(this,r)}get layout(){return this.#s.QF().WF()}get ZV(){return this.#s.cj().yU()}get x(){return this.#s.Wb()}set x(t){t=+t;const s=this.#s;isNaN(t)||s.Wb()===t||(s.Vb(t),s.KV())}get y(){return this.#s.Qb()}set y(t){t=+t;const s=this.#s;isNaN(t)||s.Qb()===t||(s.Jb(t),s.KV())}setPosition(t,s){t=+t,s=+s;const i=this.#s;isNaN(t)||isNaN(s)||i.Wb()===t&&i.Qb()===s||(i.$V(t,s),i.KV())}tY(){const t=this.#s;return[t.Wb(),t.Qb()]}offsetPosition(t,s){if(t=+t,s=+s,isNaN(t)||isNaN(s)||0===t&&0===s)return;const i=this.#s;i.sY(t,s),i.KV()}set iY(t){t=+t;const s=this.#s;isNaN(t)||s.eY()===t||(s.nY(t),s.KV())}get iY(){return this.#s.eY()}set rY(t){t=+t;const s=this.#s;isNaN(t)||s.hY()===t||(s.oY(t),s.KV())}get rY(){return this.#s.hY()}aY(t,s){t=+t,s=+s;const i=this.#s;isNaN(t)||isNaN(s)||i.eY()===t&&i.hY()===s||(i.nY(t),i.oY(s),i.KV())}uY(){const t=this.#s;return[t.eY(),t.hY()]}get mW(){return this.#s.Hb()}set mW(t){t=+t;const s=this.#t,i=this.#s;isNaN(t)||i.Hb()===t||(i.qb(t),s.Fj().yj())}get lY(){return this.#s.cY()}get width(){return this.#s.Bg()}set width(t){t=+t;const s=this.#s;isNaN(t)||s.Bg()===t||(s.Hg(t),s.KV())}get height(){return this.#s.Zg()}set height(t){t=+t;const s=this.#s;isNaN(t)||s.Zg()===t||(s.Ug(t),s.KV())}hU(t,s){t=+t,s=+s;const i=this.#s;isNaN(t)||isNaN(s)||i.Bg()===t&&i.Zg()===s||(i.vE(t,s),i.KV())}getSize(){const t=this.#s;return[t.Bg(),t.Zg()]}get angle(){return this.#s.lU()}set angle(t){t=ld.Zn(+t);const s=this.#s;isNaN(t)||s.lU()===t||(s.uU(t),s.KV())}get fY(){return ld.$n(this.angle)}set fY(t){this.angle=ld.Kn(t)}Zu(t){return t?(this.#s.dY(dd,pd,!1),dd.su()):this.#s.pY().su()}mY(t){return t?(this.#s.dY(dd,pd,!1),pd.Yu()):this.#s.gY().Yu()}yY(){return this.#s.wY()}get isVisible(){return this.#s.HU()}set isVisible(t){t=!!t;const s=this.#t,i=this.#s;i.HU()!==t&&(i.QU(t),s.Fj().yj())}get opacity(){return this.#s.$N()}set opacity(t){t=ld.Xn(+t,0,1);const s=this.#t,i=this.#s;isNaN(t)||i.$N()===t||(i.sL(t),s.Fj().yj())}set MY(t){if(cd.xe(t),t.length<3)throw new Error("expected 3 elements");Md.Ao(t[0],t[1],t[2]);const s=this.#t,i=this.#s;i.SY().Vo(Md)||(i.TY(Md),s.Fj().yj())}get MY(){const t=this.#s.SY();return[t.ko(),t.Fo(),t.jo()]}set QR(t){cd.ue(t);const s=yd.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");const i=this.#t;this.#s.Nb(s),i.Fj().yj()}get QR(){return wd.get(this.#s.xW())}bY(){this.#s.vY()}xY(){this.#s.IY()}GY(t){cd.Fe(t,fd);const s=this.#t,i=s.Fj().vU(t);if(!i)throw new Error("invalid layer");s.lj().CY(i)}_Y(t,i){cd.Fe(t,s),this.#s.AY(md.get(t),i)}get zIndex(){return this.#s.fj()}get EY(){return this.#s.DY()}set EY(t){this.#s.NY(!!t)}vu(t,s){return cd.te(t),cd.te(s),this.#s.LY(+t,+s)}nz(t){cd.Fe(t,s);const i=this.#t,e=md.get(t);return i.Fj().ak().rz(i,e)}oz(){const t=this.#t,s=t.Fj().ak().az(t);return s?s.hj():null}getParent(){const t=this.#t.OY();return t?t.hj():null}RY(){const t=this.#t.PY();return t?t.hj():null}*kY(){for(const t of this.#t.kY())yield t.hj()}FY(){return this.#t.jY()}zY(t){const s=this.#t.BY(t);return s?s.hj():null}*children(){for(const t of this.#t.children())yield t.hj()}*UY(){for(const t of this.#t.UY())yield t.hj()}WY(t,i){cd.Fe(t,s),cd.ye(i),i||(i={});const e=this.#t,n=md.get(t);e.VY(n,i)}removeChild(t){cd.Fe(t,s);const i=this.#t,e=md.get(t);i.YY(e)}QY(){const t=this.#t;t.JY()&&t.OY().YY(t)}HY(){const t=this.#s;return{qY:t.XY(),ZY:t.KY(),$Y:t.tQ(),sQ:t.iQ(),eQ:t.nQ(),rQ:t.hQ(),oQ:t.aQ(),uQ:t.lQ(),cQ:t.fQ()}}dQ(t,s){cd.re(t),cd.re(s),this.#s.pQ(t,s)}mQ(){const t=this.#s;t.gQ(),t.KV()}yQ(t,s,i){cd.re(t),cd.re(s),cd.ge(i);const e=this.#s;e.wQ(t,s,i)&&e.KV()}MQ(t,s){let i=NaN,e=NaN,n=NaN,r=NaN,h=NaN;const o=this.#s;if(o.SQ()){const a=o.TQ().Ev(t,s);null!==a&&(i=a.Wb(),e=a.Qb(),n=a.Hb(),r=a.Xb(),h=a.Kb())}return{x:i,y:e,mW:n,bQ:r,vQ:h}}xQ(){const t=this.#s;if(!t.SQ())return[0,0];const s=t.TQ();return[s.Mv(),s.Sv()]}}};0;const ld=self.Gs,cd=self.ks,fd=(self.zW,self.bU),dd=ld.Vn(ld.Rect),pd=ld.Vn(ld.Cu),md=new WeakMap,gd=ld.Cs(),yd=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),wd=new Map([...yd.entries()].map((t=>[t[1],t[0]]))),Md=ld.Vn(ld.vo);self.IQ=ud(self.zW),self.GQ=ud(self.mV)}{self.Gs;const Sd=self.ks;self.CQ=class extends self.IQ{#t;constructor(){super(),this.#t=self.zW.VW()}_Q(){return this.#t.EQ().AQ()}focus(){this.#t.EQ().DQ()}blur(){this.#t.EQ().NQ()}LQ(t,s){Sd.ue(t),this.#t.EQ().OQ(t,s)}}}{let Td=function(t){let s=xd.get(t);return s||(s=bd.Vn(bd.Event.yf),xd.set(t,s),s)};0;const bd=self.Gs,vd=self.ks,xd=new WeakMap,Id=bd.Cs();self.RQ=class{#t;constructor(){const t=bd.Vz.Wz(Id);this.#t=t;const s={runtime:{value:t.Fj().Yz(),writable:!1},behavior:{value:t.kQ().PQ(),writable:!1},FQ:{value:t.zQ().jQ(),writable:!1}};Object.defineProperties(this,s),t.Fj().lB(this,t)}static VW(){return bd.Vz.YW()}get BQ(){return this.#t.UQ().hj()}QW(){const t=xd.get(this);t&&(t.Yn(),xd.delete(this))}addEventListener(t,s,i){vd.ue(t),vd.De(s),Td(this).addEventListener(t,s,i)}removeEventListener(t,s,i){vd.ue(t),vd.De(s),Td(this).removeEventListener(t,s,i)}dispatchEvent(t){Td(this).dispatchEvent(t)}}}{const Gd=self.Gs,Cd=(self.ks,Gd.Cs());self.WQ=class{constructor(){const t=Gd.Vz.Wz(Cd),s={runtime:{value:t.Fj().Yz(),writable:!1},behavior:{value:t.kQ().PQ(),writable:!1},name:{value:t._c(),writable:!1}};Object.defineProperties(this,s)}}}{const _d=self.Gs,Ad=(self.ks,_d.Cs());self.VQ=class{#s;constructor(){const t=_d.Vz.Wz(Ad);this.#s=t;const s={runtime:{value:t.Fj().Yz(),writable:!1},id:{value:t.Qz(),writable:!1}};Object.defineProperties(this,s),t.Fj().lB(this,t)}bB(){return this.#s.NB().map((t=>t.hj()))}static cB(t){if(!t)return null;const s=_d.Vz.YQ(t);return s?s.PQ():null}}}{const Ed=self.Gs,Dd=self.ks,Nd=Ed.Vn(Ed.vo);self.rU=class{#t;constructor(t,s){this.#t=t;const i={index:{value:s,writable:!1}};Object.defineProperties(this,i)}get name(){return this.#t.nU()[this.index]._c()}get isActive(){return this.#t.QQ(this.index)}set isActive(t){t=!!t;const s=this.#t;s.QQ(this.index)!==t&&(s.JQ(this.index,t),s.HQ(),s.Fj().yj())}setParameter(t,s){Dd.re(t),t=Math.floor(+t);const i=this.#t,e=i.qQ(this.index,t);if(null===e)throw new RangeError("invalid index");if(e instanceof Ed.vo){if(!Array.isArray(s)||s.length<3)throw new TypeError("expected array with 3 elements");Nd.Ao(s[0],s[1],s[2]),s=Nd}else if("number"!=typeof s)throw new TypeError("expected number");i.XQ(this.index,t,s)&&i.QQ(this.index)&&i.Fj().yj()}getParameter(t){Dd.re(t),t=Math.floor(+t);const s=this.#t.qQ(this.index,t);if(null===s)throw new RangeError("invalid index");return s instanceof Ed.vo?[s.ko(),s.Fo(),s.jo()]:s}}}self.Gs,self.ks;self.ZQ=class{#t;constructor(t){this.#t=t,Object.defineProperties(this,{name:{value:t._c(),writable:!1}})}get speed(){return this.#t.KQ()}get $Q(){return this.#t.tJ()}get sJ(){return this.#t.iJ()}get eJ(){return this.#t.nJ()}get rJ(){return this.#t.hJ()}get frameCount(){return this.#t.oJ()}aJ(){return this.#t.uJ().map((t=>t.lJ()))}*frames(){for(const t of this.#t.uJ())yield t.lJ()}};self.Gs,self.ks;self.Pj=class{#s;constructor(t){this.#s=t}static Rj(t){return t.#s}get width(){return this.#s.Bg()}get height(){return this.#s.Zg()}getSize(){const t=this.#s;return[t.Bg(),t.Zg()]}cJ(t){return t.fJ(this)}dJ(){return this.#s.tD().su()}};{self.Gs;const Ld=self.ks;self.pJ=class extends self.Pj{#s;constructor(t){super(t.mJ()),this.#s=t,Object.defineProperties(this,{duration:{value:t.gJ(),writable:!1},iY:{value:t.eY(),writable:!1},rY:{value:t.hY(),writable:!1}})}uY(){const t=this.#s;return[t.eY(),t.hY()]}yJ(){return this.#s.wJ()}MJ(t){return this.SJ(t)[0]}TJ(t){return this.SJ(t)[1]}SJ(t){const s=this.#s;let i=null;if("number"==typeof t)i=s.bJ(Math.floor(t));else{if("string"!=typeof t)throw new TypeError("expected string or number");i=s.vJ(t)}return i?[i.Wb(),i.Qb()]:this.uY()}xJ(){const t=this.#s.IJ();return t?t.dl():0}GJ(t){return this.CJ(t)[0]}_J(t){return this.CJ(t)[1]}CJ(t){Ld.re(t),t=Math.floor(t);const s=this.#s.IJ();if(!s||t<0||t>=s.dl())return[0,0];const i=s.fl();return[i[2*t],i[2*t+1]]}get tag(){return this.#s.AJ()}}}{let Od=function(t){const s=Pd.get(t);if(s.EJ())throw new Error("timeline/tween was released and is no longer valid");return s};0;self.Gs;const Rd=self.ks,Pd=new WeakMap;self.DJ=class{constructor(t){Pd.set(this,t),t.Fj().lB(this,t)}pause(){Od(this).NJ()}resume(){Od(this).LJ()}stop(){Od(this).Ff()}aV(t){return Od(this).OJ(t)}set time(t){Rd.re(t),Od(this).RJ(t)}get time(){return Od(this).GO()}set totalTime(t){Rd.re(t),Od(this).PJ(t)}get totalTime(){return Od(this).kJ()}set $Q(t){Od(this).FJ(!!t)}get $Q(){return Od(this).jJ()}set rJ(t){Od(this).zJ(!!t)}get rJ(){return Od(this).BJ()}set playbackRate(t){Rd.re(t),Od(this).UJ(t)}get playbackRate(){return Od(this).WJ()}get progress(){const t=Od(this);return t.GO()/t.kJ()}get tags(){return Od(this).VJ()}get finished(){return Od(this).YJ()}get QJ(){return Od(this).IsPlaying()}get JJ(){return Od(this).HJ()}get qJ(){return Pd.get(this).EJ()}}}{let kd=function(t){const s=Fd.get(t);if(s.EJ())throw new Error("timeline was released and is no longer valid");return s};0;self.Gs,self.ks;const Fd=new WeakMap;self.XJ=class extends self.DJ{constructor(t){super(t),Fd.set(this,t);const s={name:{value:t._c(),writable:!1}};Object.defineProperties(this,s)}}}{let jd=function(t){const s=Bd.get(t);if(s.EJ())throw new Error("tween was released and is no longer valid");return s};0;self.Gs;const zd=self.ks,Bd=new WeakMap,Ud=new WeakMap;let Wd=null;self.ZJ=class extends self.DJ{constructor(t,s,i){super(t),Wd||(Wd=i.KJ),Bd.set(this,t),s&&Ud.set(this,s)}stop(){const t=jd(this);Ud.get(this).$J(t)}tH(t){zd.ue(t);const s=self.Bl.hc(Wd(t));jd(this).sH(s)}get BQ(){const t=jd(this).iH();return t?t.hj():null}get eH(){return jd(this).nH()}set eH(t){jd(this).rH(!!t)}get value(){const t=jd(this);if("value"!==t.hH())throw new Error("not a value tween");return t.aH("value").oH()}}}self.Gs,self.ks;self.uH=class extends self.Uz{constructor(){super()}};{const Vd=self.Gs,Yd=self.ks,Qd=Vd.Cs();self.lH=class extends self.uH{#t;#i;#s=0;#r=new Map;constructor(t){if(super(),this.#t=Vd.Vz.Wz(Qd),!t?.gV)throw new Error("no DOM component ID specified");this.#i=t.gV,this.cH("elem-focused",(t=>t.fH())),this.cH("elem-blurred",(t=>{t&&t.dH()}))}pH(t){const s=this.#s++;return this.#r.set(s,t),s}mH(t){this.#r.delete(t)}cH(t,s){this.#t.Fj().GV(this.#i,t,(t=>{const i=this.#r.get(t.elementId);s(i,t)}))}gH(t){Yd.xe(t);for(const[s,i]of t)this.gH(s,i)}}}{const Jd=self.Gs,Hd=(self.ks,Jd.Cs());self.yH=class extends self.OB{#t;constructor(){super(),this.#t=Jd.Vz.Wz(Hd)}wH(){}MH(){return this.#t.mJ().SH()}TH(t){}bH(t){}vH(){}xH(t){}}}{const qd=self.Gs,Xd=(self.ks,qd.Cs());self.IH=class extends self.GQ{#t;#n=null;#s=null;constructor(t){super(t),this.#t=qd.Vz.Wz(Xd)}QW(){if(super.QW(),this.#n){const t=this.#t.Fj().yf();t.removeEventListener("renderercontextlost",this.#n),t.removeEventListener("renderercontextrestored",this.#s),this.#n=null,this.#s=null}}GH(){if(this.#n)return;this.#n=()=>this.CH(),this.#s=()=>this._H();const t=this.#t.Fj().yf();t.addEventListener("renderercontextlost",this.#n),t.addEventListener("renderercontextrestored",this.#s)}CH(){}_H(){}AH(t){}}}{const Zd=self.Gs,Kd=(self.ks,Zd.Vn(Zd.Rect)),$d=new WeakMap,tp=Zd.Cs();self.EH=class extends self.IH{#t=-1;#s=!0;#r=!1;#e=!1;#i=-.2;#h=Zd.Vn(Zd.Rect,0,0,-1,-1);#o=0;#a=0;#u=-1;#l=-1;#c=!1;constructor(t){if(!t?.gV)throw new Error("no DOM component ID specified");super(t);const s=Zd.Vz.Wz(tp);$d.set(this,s),this.#t=this.SB.pH(this);const i=s.Fj().Ij();this.#o=i.DH(),this.#a=i.NH(),this.wV(!0)}QW(){super.QW(),this.SB.mH(this.#t),this.LH("destroy"),this.#t=-1,$d.delete(this)}OH(){if($d.get(this).Fj().vk())throw new Error("not valid in worker mode");return this.RH("get-element")}LH(t,s){s||(s={}),s.elementId=this.#t,this._V(t,s)}RH(t,s){return s||(s={}),s.elementId=this.#t,this.EV(t,s)}PH(t,s){return s||(s={}),s.elementId=this.#t,this.AV(t,s)}kH(t){t||(t={});const s=$d.get(this).lj();t.elementId=this.#t,t.isVisible=s.HU(),t.htmlIndex=s.cj().FH(),t.htmlZIndex=s.jH(),Object.assign(t,this.zH()),this.#s=!!t.isVisible,this.EV("create",t),this.BH(!0)}UH(t){t=!!t,this.#s!==t&&(this.#s=t,this.LH("set-visible",{isVisible:t}))}LV(){this.BH(!1)}WH(){const t=$d.get(this).Fj().Ij().VH();return"Android"===Zd.Zs.Ks&&("scale-inner"===t||"scale-outer"===t||"crop"===t)}BH(t){const s=$d.get(this);if(s.YH())return;const i=s.lj(),e=i.cj(),n=i.pY();let[r,h]=e.LW(n.Za(),n.Ka()),[o,a]=e.LW(n.$a(),n.tu());const u=s.Fj().Ij(),l=u.Nz(),c=u.Oz();if(!i.HU()||!e.HU())return void this.UH(!1);if(!this.WH()&&(o<=0||a<=0||r>=l||h>=c))return void this.UH(!1);Kd.set(r,h,o,a);const f=u.DH(),d=u.NH(),p=e.FH(),m=i.jH();if(!t&&Kd.equals(this.#h)&&this.#o===f&&this.#a===d&&this.#u===p&&this.#l===m)return void this.UH(!0);this.#h.m(Kd),this.#o=f,this.#a=d,this.#u=p,this.#l=m,this.UH(!0);let g=null;this.#e&&(g=e.QH()+this.#i),this.LH("update-position",{left:Math.round(this.#h.Za()),top:Math.round(this.#h.Ka()),width:Math.round(this.#h.width()),height:Math.round(this.#h.height()),htmlIndex:p,htmlZIndex:m,fontSize:g})}JH(){this.RH("focus",{focus:!0})}HH(){this.RH("focus",{focus:!1})}fH(){this.#r=!0}dH(){this.#r=!1}qH(){return this.#r}XH(t,s){this.ZH("set-css-style",{prop:Zd.So(t),val:s})}KH(t,s){this.ZH("set-attribute",{name:t,val:s})}$H(t){this.ZH("remove-attribute",{name:t})}tq(){this.#c||(this.#c=!0,Promise.resolve().then((()=>{this.#c=!1,this.LH("update-state",this.zH())})))}zH(){}sq(){return this.#t}}}self.Gs,self.ks;self.iq=class extends self.VQ{constructor(){super()}};self.Gs,self.ks;self.eq=class extends globalThis.WQ{constructor(){super()}wH(){}};{const sp=self.Gs,ip=(self.ks,new WeakMap),ep=sp.Cs();self.nq=class extends self.RQ{#e=!1;#s=!1;#t=!1;constructor(){super(),ip.set(this,sp.Vz.Wz(ep))}QW(){super.QW(),this.wV(!1),this.MV(!1),this.rq(!1),ip.delete(this)}SV(){return sp.Vz.TV()}hq(){}bV(t){const s=ip.get(this);s.Fj().vV(t,s.UQ(),s.zQ())}xV(t){const s=ip.get(this);return s.Fj().Cj(t,s.UQ(),s.zQ())}wV(t){if(t=!!t,this.#e===t)return;this.#e=t;const s=ip.get(this).Fj();t?s.oq(this):s.aq(this)}RV(){return this.#e}LV(){}MV(t){if(t=!!t,this.#s===t)return;this.#s=t;const s=ip.get(this).Fj();t?s.uq(this):s.lq(this)}kV(){return this.#s}PV(){}rq(t){if(t=!!t,this.#t===t)return;this.#t=t;const s=ip.get(this).Fj();t?s.cq(this):s.fq(this)}pq(){return this.#t}mq(){}FV(){return[]}jV(){return null}zV(t){}}}{self.Gs;const np=self.ks;let rp=null;self.Ok=class{constructor(t){rp=t}bj(t){rp.vj(t)}JV(t,s,i){np.ue(t),np.ue(s),np.Ie(i),rp.gq(t,s,i)}qV(t,s,i){return np.ue(t),np.ue(s),np.Ie(i),rp.yq(t,s,i)}wq(t){return np.le(t),new self.Mq(rp,t)}set Sq(t){rp.Tq(!!t)}get Sq(){return rp.bq()}vq(t){rp.xq(!!t)}Iq(t){np.te(t);const s=rp.Gq(t);return s?s.mB():null}}}self.Gs,self.ks;self.Mq=class{#t;#s;#h;#i;#r;#n;constructor(t,s){this.#t=t;const i=t.jk(),e=t.Yk();this.#s=e,this.#h=e.Cq();const n=t.Kk();this.#i=n._q(),this.#r=n.Aq(e);const r=i.Eq().Aq();this.#n=r,s&&r.Dq(s),t.Nq(!1)}Lq(){const t=this.#t.jk(),s=this.#h,i=this.#n;t.Oq(s),this.#s.Rq(this.#i,this.#r),t.Pq(s),i.kq(i.$P()+1)}get Fq(){return this.#n.jq()}release(){const t=this.#t,s=t.Kk(),i=t.jk().Eq();t.Nq(!0),i.zq(),s.zq()}};{const hp=self.Gs,op=self.ks;let ap=null,up=null;self.Bq=class{constructor(t,s){up=t,ap=s}Uq(){ap.aL()}Wq(t){ap.hL(t)}Vq(){ap.pS()}Yq(){ap.aS()}Qq(){ap.TS()}setColor(t){ap.tL(t[0],t[1],t[2],t[3])}Jq(t,s,i,e){ap.tL(t,s,i,e)}Hq(){ap.iL()}qq(t){ap.sL(t)}Xq(t){ap.US(t)}Zq(){ap.WS()}rect(t){ap.cL(t.left,t.top,t.right,t.bottom)}Kq(t,s,i,e){ap.cL(t,s,i,e)}$q(t){ap.Cu(hp.Cu.Qu(t))}tX(t,s,i,e,n,r,h,o){ap.GT(t,s,i,e,n,r,h,o)}sX(t,s){ap.$S(hp.Cu.Qu(t),hp.Rect.iu(s))}iX(t,s){ap.pL(hp.Cu.Qu(t),hp.Cu.Qu(s))}eX(t,s,i,e,n,r,h,o,a,u,l,c,f){ap.mL(t,s,i,e,n,r,h,o,a,u,l,c,hp.Rect.iu(f))}nX(t,s,i,e,n,r,h,o,a,u,l,c,f){ap.HS(t,s,i,e,n,r,h,o,a,u,l,c,hp.Cu.Qu(f))}rX(t,s,i){ap.gL(t,s,i)}hX(t){ap.IT(t)}line(t,s,i,e){ap.iy(t,s,i,e)}oX(t,s,i,e,n,r){ap.qS(t,s,i,e,n,r)}aX(t,s,i,e){ap.tT(t,s,i,e)}uX(t){ap.nT(hp.Rect.iu(t))}lX(t){ap.rT(hp.Cu.Qu(t))}cX(t){ap.cT(t)}fX(){ap.fT()}dX(t){ap.gT(t)}pX(){ap.ST()}mX(t){op.je(t,self.gX);const s=t?up.vU(t):null;ap.nL(s)}yX(t,s){const i=self.Pj.Rj(t);if(!i)throw new Error("invalid IImageInfo");return i.wX(ap,{Bv:s?.Bv??"clamp-to-edge",Uv:s?.Uv??"clamp-to-edge",Wv:s?.Wv??"trilinear",Qv:s?.Qv??!0})}MX(t){const s=self.Pj.Rj(t);if(!s)throw new Error("invalid IImageInfo");s.YA()}fJ(t){const s=self.Pj.Rj(t);if(!s)throw new Error("invalid IImageInfo");const i=s.lI();return self.gX.SX(up,i)}TX(t,s,i){op.re(t),op.re(s);const e=ap.tI(t,s,{Bv:i?.Bv??"clamp-to-edge",Uv:i?.Uv??"clamp-to-edge",Wv:i?.Wv??"trilinear",Qv:i?.Qv??!0});return self.gX.SX(up,e)}bX(t,s,i){op.Fe(s,self.gX);const e=up.vU(s);ap.$E(t,e,{Hv:i?.Hv??!0})}deleteTexture(t){op.Fe(t,self.gX);const s=up.vU(t);ap.nI(s)}vX(){const t=ap.BT();return new self.xX(up,t)}IX(){up.Ij().GX(ap)}CX(t){op.Fe(t,globalThis.bU),up.vU(t)._X(ap)}}}{self.Gs,self.ks;const lp=new WeakMap,cp=new WeakMap;self.gX=class{constructor(t,s){lp.set(this,{runtime:t,texture:s}),cp.set(s,this),t.lB(this,s),Object.defineProperties(this,{width:{value:s.Bg(),writable:!1},height:{value:s.Zg(),writable:!1}})}static SX(t,s){if(!s)return null;return cp.get(s)||new self.gX(t,s)}}}{let fp=function(t){return pp.get(t).AX};0;self.Gs;const dp=self.ks,pp=new WeakMap;self.xX=class{constructor(t,s){pp.set(this,{runtime:t,AX:s}),t.lB(this,s)}release(){fp(this).Yn()}set EX(t){dp.ue(t),fp(this).$A(t)}get EX(){return fp(this).iA()}set DX(t){dp.re(t),fp(this).tE(t)}get DX(){return fp(this).sE()}set lineHeight(t){dp.re(t),fp(this).eE(t)}get lineHeight(){return fp(this).nE()}set NX(t){fp(this).rE(t)}get NX(){return fp(this).hE()}set LX(t){fp(this).oE(t)}get LX(){return fp(this).aE()}setColor(t){dp.xe(t),this.OX(t[0],t[1],t[2])}OX(t,s,i){fp(this).dE(t,s,i)}RX(t){dp.ue(t),fp(this).Lb(t)}set PX(t){fp(this).pE(t)}get PX(){return fp(this).mE()}set verticalAlign(t){fp(this).gE(t)}get verticalAlign(){return fp(this).yE()}set kX(t){fp(this).wE(t)}get kX(){return fp(this).ME()}set FX(t){fp(this).SE(t)}get FX(){return fp(this).TE()}set text(t){dp.ue(t),fp(this).Bc(t)}get text(){return fp(this).bE()}hU(t,s,i){dp.re(t),dp.re(s),dp.re(i),fp(this).vE(t,s,i)}cJ(){const{runtime:t,AX:s}=pp.get(this),i=s.lI();return self.gX.SX(t,i)}dJ(){return fp(this).tD().su()}jX(t){dp.De(t),fp(this).JA=t}zX(){fp(this).YA()}get BX(){return fp(this).IE()}get UX(){return fp(this).CE()}}}{let mp=function(t){if(!t)return"";const s=t.split(".");if(s.length<2)return"";const i=s.at(-1).toLowerCase();return Mp.get(i)||""},gp=function(t){return new Promise(((s,i)=>{const e=document.createElement("script");e.onload=s,e.onerror=i,e.async=!1,e.type="module",e.src=t,document.head.appendChild(e)}))};0;const yp=self.Gs,wp=new Set(["local","remote"]),Mp=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);yp.WX=class extends yp.Un{constructor(t,s){super();const i=s.exportType;this.kc=t,this.VX="folders",this.YX=new Map,this.QX="cordova"===i,this.JX=!!s.isiOSCordova,this.HX=!!s.isFileProtocol,this.qX=s.swClientId,this.XX=s.supportedAudioFormats||{},this.ZX=new Map,this.KX=!1,this.$X=s.scriptFolder,this.tZ="",this.sZ="",this.iZ="",this.eZ=s.fileMap||new Map,this.nZ=new Map;const e="html5"===i||"scirra-arcade"===i||"instant-games"===i;this.rZ=e?"remote":"local",this.hZ=new Map,this.oZ=[],this.aZ=[],this.uZ=!1,this.lZ=0,this.cZ=0,this.fZ=0,this.dZ=!1,this.pZ=yp.Vn(yp.Kd,(()=>this.mZ()),50),this.gZ=yp.Vn(yp.Wd,Math.max(yp.hardwareConcurrency,8)),this.yZ=yp.Vn(yp.Wd,20),this.wZ=new self.Nj(this)}Yn(){for(const t of this.hZ.values())t.Yn();this.hZ.clear(),yp.Mh(this.aZ),this.kc=null}Fj(){return this.kc}MZ(t){this.VX=t}Qj(){return this.VX}SZ(){return this.$X}TZ(t){this.tZ=t}qj(){return this.tZ}bZ(t){this.sZ=t}vZ(){return this.sZ}xZ(t){this.iZ=t}IZ(){return this.iZ}GZ(){return this.HX}eo(t,s){return s=s||this.rZ,yp.Zh(t)?("flat"===this.VX&&(t=t.toLowerCase()),this.QX&&this.HX?this.CZ(t):"playable-ad-single-file"===this.kc.Tz()?self.c3_runtimeInterface._PlayableAdFetchBlob(t):"local"===s?this.gZ.Fl((()=>yp.eo(t))):this.yZ.Fl((()=>yp.eo(t)))):yp.eo(t)}no(t){return yp.Zh(t)?("flat"===this.VX&&(t=t.toLowerCase()),this.QX&&this.HX?this._Z(t):"playable-ad-single-file"===this.kc.Tz()?yp.ho(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):"local"===this.rZ?this.gZ.Fl((()=>yp.no(t))):this.yZ.Fl((()=>yp.no(t)))):yp.no(t)}so(t){return yp.Zh(t)?("flat"===this.VX&&(t=t.toLowerCase()),this.QX&&this.HX?this.AZ(t):"playable-ad-single-file"===this.kc.Tz()?yp.oo(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):"local"===this.rZ?this.gZ.Fl((()=>yp.so(t))):this.yZ.Fl((()=>yp.so(t)))):yp.so(t)}async io(t){const s=await this.so(t);return JSON.parse(s)}EZ(t,s){return"flat"===this.VX&&(t=t.toLowerCase()),this.kc.Mj("runtime","cordova-fetch-local-file",{filename:t,as:s})}AZ(t){return this.EZ(t,"text")}async CZ(t){const s=await this.EZ(t,"buffer"),i=mp(t);return new Blob([s],{type:i})}async DZ(t){"flat"===this.VX&&(t=t.toLowerCase());let s=this.YX.get(t);if(s)return s;const i=await this.CZ(t);return s=URL.createObjectURL(i),this.YX.set(t,s),s}_Z(t){return this.EZ(t,"buffer")}Jj(t){"flat"===this.VX&&(t=t.toLowerCase());let s=this.tZ+t;return"Gecko"===yp.Zs.ei&&"preview"===this.kc.Tz()&&(s=this.NZ(s)),s}Vj(t){return yp.Xh(t)?Promise.resolve(t):this.QX&&this.HX?this.DZ(t):"playable-ad-single-file"===this.kc.Tz()?URL.createObjectURL(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("flat"===this.VX&&(t=t.toLowerCase()),Promise.resolve(t))}LZ(t){if(yp.Xh(t)||"preview"!==this.kc.Tz()||!this.qX||!t)return t;try{const s=new URL(t,location.href);return s.searchParams.set("__c3_client_id",this.qX),s.toString()}catch(s){return console.warn("Invalid iframe URL: "+t),t}}OZ(t){return this.Vj(t)}RZ(t,s){return(s?"true":"false")+"|"+t}PZ(t){const s=!!t.kZ;if(t.FZ&&!wp.has(t.FZ))throw new Error("invalid load policy");const i=this.RZ(t.url,s);let e=this.hZ.get(i);return e||(e=yp.Vn(yp.jZ,this,{url:t.url,size:t.size||0,FZ:t.FZ||this.rZ,kZ:s}),this.hZ.set(i,e),this.uZ||(this.lZ+=e.Nl(),this.aZ.push(e.zZ().then((()=>this.BZ(e.Nl()))))),e)}UZ(t){const s=this.RZ(t.WZ(),t.VZ());this.hZ.delete(s)}async YZ(){try{await Promise.all(this.aZ),this.fZ=1}catch(t){console.error("Error loading: ",t),this.dZ=!0,this.mZ()}}QZ(){this.uZ=!0}JZ(){return this.dZ}BZ(t){this.cZ+=t,this.pZ.fp()}mZ(){const t=yp.Vn(yp.Event,"loadingprogress");this.fZ=yp.Xn(this.cZ/this.lZ,0,1),t.progress=this.fZ,this.kc.yf().dispatchEvent(t),this.kc.HZ(yp.Vn(yp.Event,"loadingprogress"))}FF(){return this.fZ}zF(){return this.kc.XZ().qZ()}ZZ(t){yp.xh(this.oZ,t),this.oZ.length&&this.aZ.push(this.KZ())}async KZ(){const t=[],s=[];for(const[i,e,n]of this.oZ)this.lZ+=n,t.push(this.$Z(i,e,s).then((()=>this.BZ(n))));await Promise.all(t),this.kc.vk()&&s.length>0&&await this.kc.Mj("runtime","load-webfonts",{webfonts:s})}async $Z(t,s,i){try{let e=await this.Vj(s);"Gecko"===yp.Zs.ei&&(t=`'${t}'`),("Gecko"===yp.Zs.ei&&"preview"===this.kc.Tz()||"playable-ad-single-file"===this.kc.Tz())&&(e=this.NZ(e));const n=new FontFace(t,`url('${e}')`);this.kc.vk()?self.fonts.add(n):document.fonts.add(n),await n.load(),this.kc.vk()&&i.push({name:t,url:e})}catch(s){console.warn(`[C3 runtime] Failed to load web font '${t}': `,s)}}tK(t){return!!this.XX[t]}sK(t,s){this.KX=!!s;for(const[s,i,e]of t)this.ZX.set(s,{fileName:s,iK:i.map((t=>({type:t[0],eK:t[1],fullName:s+t[1],fileSize:t[2]}))),nK:e})}rK(t){"flat"===this.VX&&(t=t.toLowerCase());const s=this.ZX.get(t);if(!s)return null;let i=null;for(const t of s.iK)if(i||"audio/webm; codecs=opus"!==t.type||(i=t),this.tK(t.type))return t;return i}hK(t){const s=this.rK(t);return s?{url:this.Jj(s.fullName),type:s.type}:null}oK(){if(this.KX){const t=[];for(const s of this.ZX.values()){if(s.nK)continue;const i=this.rK(s.fileName);i&&t.push({aK:s.fileName,url:this.Jj(i.fullName),type:i.type,fileSize:i.fileSize})}return t}return[]}uK(t){return"preview"===this.kc.Tz()&&(t=new URL(t,location.href).toString()),this.eZ.get(t)||null}NZ(t){let s=this.nZ.get(t);if(s)return s;const i=this.uK(t);return i?(s=URL.createObjectURL(i),this.nZ.set(t,s),s):t}ek(){return this.wZ}async Kj(...t){const s=await Promise.all(t.map((t=>this.Vj(t))));if(this.kc.vk())if(1===t.length){const s=t[0];await import((yp.Zh(s)?"./":"")+s)}else{const s=t.map((t=>`import "${yp.Zh(t)?"./":""}${t}";`)).join("\n"),i=URL.createObjectURL(new Blob([s],{type:"application/javascript"}));await import(i)}else await Promise.all(s.map((t=>gp(t))))}async tz(t){if(WebAssembly.compileStreaming){const s=await this.Vj(t);return await WebAssembly.compileStreaming(fetch(s))}{const s=await yp.no(t);return await WebAssembly.compile(s)}}async iz(t){const s=await this.Vj(t);return await this.kc.Mj("runtime","add-stylesheet",{url:s})}}}{const Sp=self.Gs;Sp.lK=class extends Sp.Un{constructor(t,s){super(),this.cK=t,this.kc=t.Fj(),this.fK=s.url||"",this.dK=s.size,this.pK=s.FZ,this.mK=s.blob||null,this.gK=!!this.mK,this.ww=null}Yn(){this.ww=null,this.cK=null,this.kc=null,this.mK=null}WZ(){return this.fK}Nl(){return this.dK}zZ(){return"local"===this.pK||this.mK?(this.gK=!0,Promise.resolve()):(this.ww||(this.ww=this.cK.eo(this.fK,this.pK).then((t=>(this.gK=!0,this.ww=null,this.mK=t,t))).catch((t=>{console.error("Error loading resource: ",t),this.ww=null}))),this.ww)}yK(){return this.gK}wK(){return this.mK?Promise.resolve(this.mK):this.ww?this.ww:this.cK.eo(this.fK,this.pK)}}}{const Tp=self.Gs,bp=new Tp.Wd,vp=new Set;Tp.jZ=class extends Tp.lK{constructor(t,s){super(t,s),this.MK=null,this.SK=null,this.Wp=0,this.TK=-1,this.bK=-1,this.vK=!!s.kZ,vp.add(this)}Yn(){if(0!==this.Wp)throw new Error("released image asset which still has texture references");this.cK.UZ(this),this.MK=null,vp.delete(this),super.Yn()}static xK(){for(const t of vp)t.MK=null,t.SK=null,t.Wp=0}wX(t,s){return s=s||{},this.Wp++,this.SK?Promise.resolve(this.SK):(this.MK||(s.Vv=this.kc.Ij().IK(),this.MK=this.GK(t,s)),this.MK)}async GK(t,s){try{const i=await this.wK();return 0===this.Wp?(this.MK=null,null):await bp.Fl((async()=>{const e=await t.BL(i,s);return this.MK=null,0===this.Wp?(t.nI(e),null):(this.SK=e,this.TK=e.Bg(),this.bK=e.Zg(),this.SK)}))}catch(t){throw console.error("Failed to load texture: ",t),t}}YA(){if(this.Wp<=0)throw new Error("texture released too many times");this.Wp--,0===this.Wp&&this.SK&&(this.SK.lb().nI(this.SK),this.SK=null)}CK(){return this.Wp}lI(){return this.SK}Bg(){return this.TK}Zg(){return this.bK}VZ(){return this.vK}async _K(){const t=await this.wK();return Tp.Ei.ImageBitmap?await createImageBitmap(t):await Tp.uo(t)}}}{let xp=function(t,s){return t.lj().AK()-s.lj().AK()};0;const Ip=self.Gs;self.assert;Ip.EK=class extends Ip.Un{constructor(t,s,i){super(),this.DK=t,this._a=s,this.Aa=i,this.NK=[],this.LK=!0,this.RK=new Set,this.PK=!1}Yn(){Ip.Mh(this.NK),this.RK.clear(),this.DK=null}Ff(){Ip.Mh(this.NK),this.LK=!0,this.RK.clear(),this.PK=!1}kK(){this.LK=!1}Al(){return!this.NK.length||!(this.NK.length>this.RK.size)&&(this.FK(),!0)}jK(t){if(this.RK.has(t))return this.RK.delete(t),void(0===this.RK.size&&(this.PK=!1));this.NK.push(t),this.LK=1===this.NK.length}Xf(t){this.RK.add(t),this.PK=!0,this.RK.size>=50&&this.FK()}FK(){this.PK&&(this.NK.length!==this.RK.size?(Ip.Ah(this.NK,this.RK),this.RK.clear(),this.PK=!1):this.Ff())}zK(){this.LK||(this.NK.sort(xp),this.LK=!0)}BK(t){this.FK(),this.zK(),this.NK.length&&t.push(this.NK)}}}{const Gp=self.Gs;Gp.UK=class extends Gp.Un{constructor(t,s){super(),this.WK=t,this.VK=s,this.YK=Gp.Vn(Gp.Gl)}Yn(){this.YK.Yn(),this.YK=null}QK(t,s,i){let e=this.YK.Ys(t,s);return e||(i?(e=Gp.Vn(Gp.EK,this,t,s),this.YK.Set(t,s,e),e):null)}JK(t){return Math.floor(t/this.WK)}HK(t){return Math.floor(t/this.VK)}qK(t,s,i){if(s)for(let e=s.Za(),n=s.$a();e<=n;++e)for(let n=s.Ka(),r=s.tu();n<=r;++n){if(i&&i.vu(e,n))continue;const s=this.QK(e,n,!1);s&&(s.Xf(t),s.Al()&&this.YK.El(e,n))}if(i)for(let e=i.Za(),n=i.$a();e<=n;++e)for(let n=i.Ka(),r=i.tu();n<=r;++n)s&&s.vu(e,n)||this.QK(e,n,!0).jK(t)}XK(t,s){let i=this.JK(t.Za());const e=this.HK(t.Ka()),n=this.JK(t.$a()),r=this.HK(t.tu());for(;i<=n;++i)for(let t=e;t<=r;++t){const e=this.QK(i,t,!1);e&&e.BK(s)}}ZK(t){let s=t.Za();const i=t.Ka(),e=t.$a(),n=t.tu();for(;s<=e;++s)for(let t=i;t<=n;++t){const i=this.QK(s,t,!1);i&&i.kK()}}}}{let Cp=function(t,s){return t.lj().AK()-s.lj().AK()},_p=function(t,s){return t.lj().Hb()-s.lj().Hb()};0;const Ap=self.Gs,Ep=(self.assert,new Ap.Rect),Dp=new Ap.Cu,Np=[],Lp=(new Ap.Rect,new Ap.Rect,self.hs),Op=Lp.ys,Rp=Lp.ws,Pp=Lp.fs,kp=Pp.create(),Fp=Op.create(),jp=Rp.create(),zp=Op.create(),Bp=Op.create(),Up=Op.create(),Wp=Ap.Vn(Ap.Ca),Vp=(Ap.Vn(Ap.Rect),[]),Yp=[],Qp=[],Jp={name:"",KK:-1,$K:!1,isVisible:!0,qU:!0,KU:!1,backgroundColor:[1,1,1,1],wW:!0,t$:[1,1],opacity:1,TW:!1,s$:!1,i$:!1,e$:!1,rW:1,QR:0,mW:0,n$:[],r$:[],h$:[]};Ap.o$=class extends Ap.Un{constructor(t,s,i){super(),i=Object.assign({},Jp,i),this.a$=t,this.kc=t.Fj(),this.u$=s,this.Hn=i.name,this.Aw=-1,this.l$=!!i.KU,this.c$=-1,this.f$=i.KK,this.d$=!!i.$K,this.p$=!!i.isVisible,this.m$=!!i.qU,this.g$=Ap.Vn(Ap.vo),this.g$.ya(i.backgroundColor),this.y$=!!i.wW,this.w$=i.t$[0],this.M$=i.t$[1],this.Ab=Ap.Vn(Ap.vo,1,1,1,i.opacity),this.S$=Ap.Vn(Ap.vo),this.T$=!!i.TW,this.b$=!!i.s$,this.v$=!!i.i$,this.x$=!!i.e$,this.I$=i.rW,this._b=i.QR,this.G$=null,this.C$=1,this.Eb=i.mW,this._$=0,this.A$=0,this.E$=0,this.D$=!1,this.jD=Ap.Vn(Ap.Rect),this.N$=Ap.Vn(Ap.Rect),this.L$=Ap.Vn(Ap.Rect),this.O$=!0,this.Hx=Pp.create(),this.R$=!0,this.ER=Pp.create(),this.P$=!0,this.k$=Ap.Vn(Ap.Pw.zw),this.F$=!0,this.j$=[],this.z$=i.n$,this.B$=[],this.U$=[],this.W$=new Map,this.NK=[],this.V$=!1,this.Y$=!1,this.Q$=!1;const e=this.kc.Ij();this.J$=Ap.Vn(Ap.H$,this,i.r$),this.qP=Ap.Vn(Ap.Pw.jO,e.q$(),{_O:(t,s)=>{const i=s.BP(),n=i.kL();t.Lb(i.X$()),t.YL(n),t.QL(n),e.Z$(n)},EO:t=>this.eU().K$(t)}),this.$$=!0,this.t0=!0,this.s0=null,this.i0=[],this.e0=!1,this.n0=Ap.Vn(Ap.Rect,0,0,-1,-1),this.r0=Ap.Vn(Ap.Rect,0,0,-1,-1),this.h0=new self.bU(this),this.o0(),this.a0()&&(this.s0=Ap.Vn(Ap.UK,this.kc.Ik(),this.kc.Ck())),this.u0=i.h$.map((t=>Ap.o$.l0(this.a$,this,t)))}c0(){for(const t of this.z$){const s=this.kc.f0(t[1]);this.a$.d0(s),s.p0()||(s.m0(t),s.g0(this.Aw)),this.B$.push(t),this.W$.set(t[2],t)}Ap.xh(this.j$,this.B$),this.z$=null}static l0(t,s,i){return Ap.Vn(Ap.o$,t,s,{name:i[0],KK:i[2],isVisible:i[3],qU:i[13],KU:i[19],backgroundColor:i[4].map((t=>t/255)),wW:i[5],t$:[i[6],i[7]],opacity:i[8],TW:i[9],s$:i[17],i$:i[18],e$:i[10],rW:i[11],QR:i[12],mW:i[16],n$:i[14],r$:i[15],h$:i[20]})}Yn(){for(const t of this.u0)t.Yn();Ap.Mh(this.u0);for(const t of this.NK)this.kc.JW(t);Ap.Mh(this.NK),this.J$.Yn(),this.J$=null,this.qP.Yn(),this.qP=null,this.h0=null,this.u$=null,this.a$=null,this.kc=null}Qn(){return!this.a$}y0(t){return this.W$.get(t)}w0(t){const s=this.a$.M0(),i=this.B$;let e=0;for(let n=0,r=i.length;n<r;++n){const r=i[n],h=this.kc.f0(r[1]);let o=!0;if(!h.S0()||s){const s=this.kc.T0(r,this,!0);t.push(s),h.b0()&&(o=!1,this.U$.push(s.tV()))}o&&(i[e]=i[n],++e)}Ap.wh(i,e),this.kc.YB(),this.gj()}v0(t,s){if(!t.TB().Zz())throw new Error("instance is not of world type");const i=t.lj();if(i.cj()!==this)throw new Error("instance added to wrong layer");this.NK.push(t),0!==i.Hb()&&(this.Q$=!0),s&&this.a0()&&t.lj().KV(),this.gj(t)}x0(t){this.NK.includes(t)||(this.NK.push(t),0!==t.lj().Hb()&&(this.Q$=!0),this.gj(t))}I0(t,s){const i=t.lj();if(i.cj()!==this)throw new Error("instance added to wrong layer");this.NK.unshift(t),0!==i.Hb()&&(this.Q$=!0),this.gj(t),s&&this.a0()&&t.lj().KV()}G0(t,s){const i=this.NK.indexOf(t);i<0||(s&&this.a0()&&t.lj().C0(),this.NK.splice(i,1),this.gj(t),this._0())}A0(){this.Q$=!0}_0(){0===this.NK.length&&(this.Q$=!1)}E0(t){if(t){const t=new Set;for(const s of this.NK){const i=s.lj().AK();i>=0&&t.add(i)}let s=-1;for(const i of this.NK){const e=i.lj();if(!(e.AK()>=0)){for(++s;t.has(s);)++s;e.D0(s)}}}this.NK.sort(Cp)}N0(){}L0(){for(const t of this.NK)t.BW().b0()||this.kc.JW(t);this.kc.YB(),Ap.Mh(this.NK),this.Q$=!1,this.gj()}O0(t,s,i,e,n,r){const h=this.kc.jk(),o=this.kc.R0(),a=t.P0(),u=[];for(const l of this.B$){const c=l[0],f=c[0],d=c[1];if(!s.vu(f,d))continue;const p=o[l[1]];if(p!==t){if(!a)continue;if(!t.sU(p))continue}let m=n;if(!m){const t=this.kc.aj();this.QF()===t?m=this:(m=t.k0(this._c()),m||(m=t.dj(this.$P())))}const g=this.kc.T0(l,m,!1,void 0,void 0,!1,r);m.zB(g);const y=g.lj();y.sY(i,e),y.KV(),h.BB(!0),g.UB(),h.BB(!1),u.push(g)}return u}PB(){return this.NK.length}QF(){return this.a$}_c(){return this.Hn}F0(t){this.Aw=t}$P(){return this.Aw}j0(t){this.c$=t}FH(){return this.c$}$U(){return this.l$}tW(t){t=!!t,this.l$!==t&&(this.l$=t,this.a$.z0(),this.kc.yj())}B0(){let t=-1;const s=this.jU();return t=s?s.UU().indexOf(this):this.QF().U0().indexOf(this),t}W0(){return this.f$}Fj(){return this.kc}V0(){return this.d$}Y0(){for(const t of this.zU())if(t.V0())return!0;return!1}jz(){return this.kc.jz()}eU(){return this.J$}KP(){return this.Q0(),this.qP}Q0(){const t=this.J0();if(!this.$$&&t===this.t0&&!this.qP.DR())return;const s=this.eU().H0();this.qP.NR(s.map((t=>t.EG())),{NO:s.map((t=>t.$P())),LO:!t,FO:!0}),this.$$=!1,this.t0=t}HQ(){this.eU().HQ(),this.$$=!0}a0(){return this.x$&&!this.v$}q0(){return this.s0}X0(){this.e0=!1}HU(){for(const t of this.Z0())if(!t.YU())return!1;return!0}YU(){return this.p$}QU(t){t=!!t,this.p$!==t&&(this.p$=t,this.kc.yj())}ZU(t){this.m$=!!t}XU(){return this.m$}iW(){for(const t of this.Z0())if(!t.XU())return!1;return!0}GW(t){if(t=!!t,this.D$!==t){if(this.D$=t,t){const t=this.QF();this.A$=t.fU(),this.E$=t.pU()}this.K0(),this.kc.yj()}}$0(){return this.D$}cU(t){const s=this.QF(),i=s.t1(),e=s.s1();t>e&&(t=e),t<i&&(t=i),this.A$!==t&&(this.A$=t,this.$0()&&(this.K0(),this.kc.yj()))}dU(t){const s=this.QF(),i=s.i1(),e=s.e1();t>e&&(t=e),t<i&&(t=i),this.E$!==t&&(this.E$=t,this.$0()&&(this.K0(),this.kc.yj()))}fU(){return this.$0()?this.A$:this.QF().fU()}pU(){return this.$0()?this.E$:this.QF().pU()}AW(){return this.n1(),this.jD}h1(){return this.n1(),this.N$}o1(){return this.n1(),this.L$}OU(){const t=this.QF();return[t.a1(),t.u1()]}zM(t){return this.kc.zM(t)}l1(t,s){const i=this.h1();if(0===t)s.m(i);else{let e=i.ru(),n=i.hu();const r=this.c1(t),h=i.width()/r,o=i.height()/r,[a,u]=this.OU();if(.5!==a||.5!==u){const s=this.f1(),i=this.kc,r=this.zM()/s;let h=(a-.5)*i.d1()/r,o=(u-.5)*i.m1()/r;const l=this.lU();0!==l&&(Wp.set(h,o),Wp.rotate(l),h=Wp.Na(),o=Wp.Oa());const c=Ap.pr(s,0,t);e+=Ap.Gt(h,0,c),n+=Ap.Gt(o,0,c)}s.set(e-h/2,n-o/2,e+h/2,n+o/2)}}$N(){return this.Ab.zo()}sL(t){t=Ap.Xn(t,0,1),this.Ab.zo()!==t&&(this.Ab.Ro(t),this.o0(),this.kc.yj())}o0(){this.S$.m(this.Ab),this.S$.Xo()}X$(){return this.S$}J0(){return this.Ab.Qo(1,1,1,1)}oW(){return this.I$}hW(t){this.I$!==t&&(this.I$=t,this.K0(),this.kc.yj())}cW(){return this.w$}pW(){return this.M$}g1(t,s){this.w$===t&&this.M$===s||(this.w$=t,this.M$=s,this.K0(),this.kc.yj())}lW(t){this.g1(t,this.pW())}dW(t){this.g1(this.cW(),t)}qb(t){this.Eb!==t&&(this.Eb=t,this.kc.yj())}Hb(){return this.Eb}uU(t){t=Ap.Zn(t),this._$!==t&&(this._$=t,this.K0(),this.kc.yj())}lU(){return Ap.Zn(this.a$.lU()+this._$)}aW(){return this._$}w1(){return this.NK.length>0}pj(){return this.NK}M1(){return this.S1()&&this.v$?(Ap.xh(Qp,this.pj()),Qp.sort(((t,s)=>this.T1(t,s))),Qp):this.pj()}b1(t){Ap.Nn(t,this.M1());for(const s of this.u0)s.HU()&&s.$N()>0&&s.b1(t)}T1(t,s){const i=this.QF().v1(),e=i[0],n=i[1],r=i[2],h=t.lj(),o=s.lj(),a=h.Wb()-e,u=h.Qb()-n,l=h.Hb()-r,c=o.Wb()-e,f=o.Qb()-n,d=o.Hb()-r;return c*c+f*f+d*d-(a*a+u*u+l*l)}IW(){return this.g$}SW(){return this.y$}MW(t){t=!!t,this.y$!==t&&(this.y$=t,this.kc.yj())}vW(){return this.T$}bW(t){t=!!t,this.T$!==t&&(this.T$=t,this.kc.yj())}gW(t){t=!!t,this.b$!==t&&(this.b$=t,this.K0(),this.kc.yj())}yW(){return this.b$}I1(){return!this.Fj().G1()||!this.b$}S1(){return!this.I1()}C1(){return this.S1()&&this.QF()._1()}A1(){if(!this.C1())return!1;for(const t of this.u0)if(!t.A1())return!1;return!0}Nb(t){this._b!==t&&(this._b=t,this.kc.yj())}xW(){return this._b}E1(){return!this.u$}jU(){return this.u$}D1(t){this.u$=t}UU(){return this.u0}N1(){return this.u0.length>0}L1(t,s=!0){s?this.u0.push(t):this.u0.unshift(t)}O1(t,s,i){let e=this.u0.indexOf(s);if(-1===e)throw new Error("cannot find layer to insert by");i&&++e,this.u0.splice(e,0,t)}R1(t){const s=this.u0.indexOf(t);if(-1===s)throw new Error("cannot find layer to remove");this.u0.splice(s,1)}P1(){for(const t of this.u0)if(t.F1())return!0;return!1}*VU(){for(const t of this.u0)yield*t.VU();yield this}*zU(){let t=this.jU();for(;t;)yield t,t=t.jU()}*Z0(){yield this,yield*this.zU()}j1(t){for(const s of this.zU())if(s===t)return!0;return!1}z1(t){return this===t||this.w$===t.w$&&this.M$===t.M$&&this.C$===t.C$&&this.I$===t.I$&&this._$===t._$&&this.fU()===t.fU()&&this.pU()===t.pU()}B1(){return{parallaxX:this.cW(),parallaxY:this.pW(),scale:this.nW(),scaleRate:this.oW(),angle:this.aW(),hasOwnScroll:this.$0(),scrollX:this.fU(),scrollY:this.pU()}}U1(t){this.g1(t.parallaxX,t.parallaxY),this.eW(t.scale),this.hW(t.scaleRate),this.uU(t.angle),this.GW(t.hasOwnScroll),this.cU(t.scrollX),this.dU(t.scrollY),this.n1()}W1(t){0!==t.size&&Ap.Ah(this.NK,t)>0&&(this._0(),this.gj())}gj(t){this.V$=!1,this.e0=!1,t&&!t.BW().TB().$z()||(this.Y$=!1)}V1(){if(!this.V$){if(this.NK.sort(_p),this.a0())for(let t=0,s=this.NK.length;t<s;++t){const s=this.NK[t].lj();s.D0(t),this.s0.ZK(s.Y1())}else for(let t=0,s=this.NK.length;t<s;++t)this.NK[t].lj().D0(t);this.V$=!0}}Q1(){if(this.Y$)return;const t=this.a$.J1(this.FH()).map((t=>[...t.VU()])).flat();let s=0;for(const i of t){for(const t of i.pj())t.BW().TB().$z()&&t.lj().H1(s++);i.q1()}}q1(){this.Y$=!0}X1(){return{isVisible:this.HU(),opacity:this.$N(),isInteractive:this.XU()}}Z1(t,s,i){const e=t.lj(),n=s.lj();if(e.cj()!==this||n.cj()!==this)throw new Error("can't arrange Z order unless both objects on this layer");const r=e.fj();let h=n.fj();return r!==h+(i?1:-1)&&(Ap.Ih(this.NK,r),r<h&&h--,i&&h++,h===this.NK.length?this.NK.push(t):this.NK.splice(h,0,t),this.gj(t),!0)}K1(t,s){const i=[];let e=0,n=0,r=t.length,h=s.length;for(;e<r&&n<h;){const r=t[e],h=s[n];r.lj().AK()<h.lj().AK()?(i.push(r),++e):(i.push(h),++n)}for(;e<r;++e)i.push(t[e]);for(;n<h;++n)i.push(s[n]);return i}t2(t){const s=[],i=t.length;for(let e=0;e<i-1;e+=2){const i=t[e],n=t[e+1];s.push(this.K1(i,n))}return i%2==1&&s.push(t[i-1]),s}s2(t){for(;t.length>1;)t=this.t2(t);return t[0]}i2(){return this.V1(),Ap.Mh(Np),this.s0.XK(this.AW(),Np),Np.length?1===Np.length?Np[0]:this.s2(Np):[]}F1(){return this.HU()&&this.$N()>0&&this.e2()}e2(){if(this.w1()||!this.SW())return!0;for(const t of this.u0)if(t.e2())return!0;return!1}n2(){return this.vW()||!this.J0()||0!==this.xW()||this.J$.h2()}o2(){if(this.n2())return!0;for(const t of this.u0)if(t.o2())return!0;return!1}kL(){return this.G$}c1(t){if(this.a$.kU())return 1;{const s=this.a2();return s/(s-t)}}u2(t){const s=this.kc.jW();if(this.a$.kU())return s;{const i=this.a2();return this.zM()/Math.abs(i-t)*s}}K0(){this.P$=!0,this.F$=!0,this.O$=!0}l2(t){return this.P$&&(this.c2(t,this.ER,0,0,null),this.P$=!1),this.ER}f1(t){return this.zM(t)/this.f2()}a2(){return this.C1()?this.QF().v1()[2]:this.f1()}d2(){if(this.C1()){const t=this.QF().v1();return[t[0],t[1],t[2]]}return this.m2()}m2(t=0,s=0,i=0){const e=this.kc,n=this.QF(),r=e.g2(),h=e.w2();let o=(this.fU()-r)*this.w$+r,a=(this.pU()-h)*this.M$+h;e.Ek()&&(o=Math.round(o),a=Math.round(a));let u=o+t,l=a+s;const c=n.kU()?this.zM(i):this.f1(i),[f,d]=this.OU();if(.5!==f||.5!==d){const t=this.zM(i)/c;let s=(f-.5)*e.d1()/t,n=(d-.5)*e.m1()/t;const r=this.lU();0!==r&&(Wp.set(s,n),Wp.rotate(r),s=Wp.Na(),n=Wp.Oa()),u+=s,l+=n}return[u,l,c]}c2(t,s,i,e,n){const r=this.kc,h=this.QF();if(this.C1()){Op.m(zp,h.v1()),Op.m(Bp,h.M2()),Op.m(Up,h.S2());const t=r.g2(),s=r.w2(),i=Bp[0]-zp[0],e=Bp[1]-zp[1],n=Bp[2]-zp[2];zp[0]=(zp[0]-t)*this.w$+t,zp[1]=(zp[1]-s)*this.M$+s,zp[2]*=Math.max(this.w$,this.M$),Bp[0]=zp[0]+i,Bp[1]=zp[1]+e,Bp[2]=zp[2]+n}else{const[t,s,r]=this.m2(i,e,n);Op.set(zp,t,s,r),Op.set(Bp,t,s,r-100);const h=this.lU();0===h?Op.set(Up,0,1,0):Op.set(Up,Math.sin(h),Math.cos(h),0)}t.iS(s,zp,Bp,Up,n||r.m1())}T2(){this.R$=!0,this.F$=!0,this.O$=!0}b2(t){return this.R$&&(this.v2(t),this.R$=!1),this.Hx}v2(t){const s=this.kc.Ij(),[i,e]=this.OU();if(this.a$.kU())t.sS(this.Hx,s.I2(),s.G2());else if(.5===i&&.5===e)Pp.m(this.Hx,s.C2());else{const n=s.I2(),r=s.G2();t.$M(this.Hx,n/r,i,e)}}_X(t,s=!0,i=0,e=0,n=0){s&&t.UN(this.b2(t));let r=null;0===i&&0===e&&0===n?r=this.l2(t):(this.c2(t,kp,i,e,n),r=kp),t.HN(r)}_2(t){this._X(t),t.zS(this.Hb())}A2(t){let s=null;if(t.PT()&&this.kc.E2()){const i=this.kc.Ij().D2(this);i&&(s=i.GD(),t.KL(s))}return s}N2(t){if(t.tS()&&this.kc.E2()){const s=2*(this.$P()+1);t.L2(s,s+1)}}Nv(t,s,i){const e=this.kc.Ij(),n=this.n2();let r=null;const h=this.A2(t);if(this.N2(t),n){const s={Wv:this.kc._k(),Px:!0,O2:!!t.tS()&&this.kc.R2()};"low"===e.P2()&&(s.width=e.I2(),s.height=e.G2()),r=this.kc.F2(s),this.G$=r,t.WL(r),this.SW()&&t.EL(0,0,0,0)}else this.G$=s,t.WL(s);if(this.SW()||t._l(this.g$),this.a$.j2(t,this.G$,this.u0,n&&this.SW()),this.N2(t),this._X(t),t.zS(this.Hb()),t.LL(this.S1()),this.f2()>Number.EPSILON){this.V1();const s=this.a0()&&0===this.Hb()&&!this.Q$;this.C1()?this.z2(t):s?this.B2(t):this.U2(t,this.M1())}t.zS(0),t.US(0),n&&(t.LL(!1),this.W2(t,r,s,i)),h&&t.tO(h),this.G$=null}U2(t,s){const i=this.AW(),e=this.G$,n=this.QF().kU(),r=this.QF().V2();let h=null;for(let o=0,a=s.length;o<a;++o){const a=s[o];if(a===h)continue;h=a;const u=a.lj();u.HU()&&u.Y2(i,r,n)&&this.Q2(a,u,t,e)}}z2(t){const s=this.G$,i=this.J2(),e=Vp,n=Yp,r=this.M1();for(let h=0,o=r.length;h<o;){const a=r[h],u=a.lj();if(!u.HU()||!u.H2(i)){++h;continue}(!a.q2()||u.X2()>0)&&n.push(a);const l=a.lj().cY();e.push(a);let c=h+1;for(;c<o;++c){const t=r[c],s=t.lj();if(s.HU()&&s.H2(i)){if(s.cY()!==l)break;t.q2()?(s.X2()>0&&n.push(t),e.push(t)):n.push(t)}}if(1!==e.length||e[0].Z2()){this.K2(t,e);for(let i=0,e=n.length;i<e;++i){const e=n[i],r=e.lj();r.t3(!0),this.Q2(e,r,t,s),r.t3(!1)}}else{this.Q2(a,u,t,s);for(let i=0,e=n.length;i<e;++i){const e=n[i];if(e===a)continue;const r=e.lj();r.cj().Q2(e,r,t,s)}}h=c,Ap.Mh(e),Ap.Mh(n)}}K2(t,s){const i=this.G$;t.HL();for(let i=0,e=s.length;i<e;++i){const e=s[i],n=e.lj();n.s3(!0),this.i3(e,n,t)}t.qL();for(let e=0,n=s.length;e<n;++e){const n=s[e],r=n.lj();this.Q2(n,r,t,i),r.s3(!1)}t.ZL()}B2(t){const s=this.s0,i=this.r0,e=this.n0,n=this.AW();let r;i.set(s.JK(n.Za()),s.HK(n.Ka()),s.JK(n.$a()),s.HK(n.tu())),this.e0&&i.equals(e)?r=this.i0:(r=this.i2(),this.e0=!0,e.m(i)),this.U2(t,r),r!==this.i0&&Ap.xh(this.i0,r)}Q2(t,s,i,e){s.h2()?this.e3(t,s,i,e):this.i3(t,s,i)}i3(t,s,i){const e=s.n3();i.vS()!==e&&e.Db(),t.Nv(i)}e3(t,s,i,e){this.r3(t,s,i,e,null)&&this._X(i)}r3(t,s,i,e,n){const r=s.XV().KP();return r.UR(i,e,{VR:t,QR:s.xW(),devicePixelRatio:this.kc.h3(),time:t.o3(),JR:this.kc.a3()*this.f2(),HR:this.lU(),MP:s.pY(),SP:r.jP()?null:this.u3(s),sP:n&&n.sP,iP:n&&n.iP,eP:n&&n.eP,nP:n&&n.nP,rP:n&&n.rP,hP:n&&n.hP}),i.zS(this.Hb()),r.XN()}W2(t,s,i,e){const n=this.J$.H0(),r=this.kc;0===n.length?(t.WL(i),t.aS(),e&&0===this._b&&this.J0()?t.VL(s):(t.Nb(this._b),t.Lb(this.S$),t.YL(s)),t.QL(s),r.Z$(s)):this.KP().UR(t,i,{VR:this,QR:this.xW(),devicePixelRatio:r.h3(),JR:r.a3()*this.f2(),HR:this.lU(),MP:this.AW(),SP:null,DO:!0})}nW(){return this.C$}eW(t){this.C$!==t&&(this.C$=t,this.a$.l3(),this.K0(),this.kc.yj())}jW(){return this.f2()*this.kc.jW()}QH(){return this.f2()*this.kc.QH()}f2(){return(this.C$*this.a$.aU()-1)*this.I$+1}n1(){if(!this.O$)return;this.O$=!1;const t=this.kc.g2(),s=this.kc.w2(),i=(this.fU()-t)*this.w$+t,e=(this.pU()-s)*this.M$+s,n=this.f2(),r=this.kc.d1()/n,h=this.kc.m1()/n;let o=i-r/2,a=e-h/2;this.kc.Ek()&&(o=Math.round(o),a=Math.round(a));const u=this.N$;u.set(o,a,o+r,a+h);const l=this.lU();0!==l&&(Ep.m(u),Ep.offset(-u.ru(),-u.hu()),Dp.qu(Ep,l),Dp.Zu(Ep),Ep.offset(u.ru(),u.hu()),u.m(Ep));const c=this.Eb;this.l1(c,this.jD),this.C1()?this.c3(c,this.L$):this.L$.m(this.jD)}c3(t,s){const i=this.kc.Ij(),e=i.Nz(),n=i.Oz(),[r,h]=this.DW(0,0,t),[o,a]=this.DW(e,0,t),[u,l]=this.DW(e,n,t),[c,f]=this.DW(0,n,t);let d=Math.min(r,o,u,c),p=Math.min(h,a,l,f),m=Math.max(r,o,u,c),g=Math.max(h,a,l,f);isFinite(d)||(d=-1/0),isFinite(p)||(p=-1/0),isFinite(m)||(m=1/0),isFinite(g)||(g=1/0),s.set(d,p,m,g)}DW(t,s,i=0){return this.f3(t,s,i,this.QH())}RW(t,s,i=0){return this.f3(t,s,i,this.jW()*this.jz())}f3(t,s,i,e){const n=this.kc,r=n.lb(),h=this.f2(),o=n.d1()/h,a=n.m1()/h,u=jp;Rp.set(u,0,0,o,a),t/=e,s=u[3]-s/e;const l=this.b2(r),c=this.l2(r),f=Fp;return Ap.Pw.jw(t,s,i,c,l,u,f)?[f[0],f[1]]:[NaN,NaN]}d3(t,s){const i=this.C$,e=this.I$,n=this.w$,r=this.M$,h=this._$;this.C$=1,this.I$=1,this.w$=1,this.M$=1,this._$=0,this.K0();const o=this.DW(t,s);return this.C$=i,this.I$=e,this.w$=n,this.M$=r,this._$=h,this.K0(),o}LW(t,s,i=0){return this.m3(t,s,i,this.QH())}kW(t,s,i=0){return this.m3(t,s,i,this.jW()*this.jz())}m3(t,s,i,e){const n=this.kc,r=n.lb(),h=this.f2(),o=n.d1()/h,a=n.m1()/h,u=jp;Rp.set(u,0,0,o,a);const l=this.b2(r),c=this.l2(r),f=Fp;return Ap.Pw.kw(t,s,i,c,l,u,f)?[f[0]*e,(u[3]-f[1])*e]:[NaN,NaN]}g3(t,s){return t*=this.jW()*this.jz(),0!==s&&(t*=this.c1(s)),t}u3(t){const s=t.pY(),i=t.cY(),e=t.X2(),n=i+e,r=s.Za(),h=s.Ka(),o=s.$a(),a=s.tu();if(this.C1()){if(this.y3(r,h,i)||this.y3(o,h,i)||this.y3(o,a,i)||this.y3(r,a,i))return null;if(e>0&&(this.y3(r,h,n)||this.y3(o,h,n)||this.y3(o,a,n)||this.y3(r,a,n)))return null}else if(n>=this.f1())return null;let[u,l]=this.kW(r,h,i),[c,f]=this.kW(o,a,i);if(0!==this.lU()||e>0||this.C1()){const[t,s]=this.kW(o,h,i),[d,p]=this.kW(r,a,i);if(e>0){const[i,e]=this.kW(r,h,n),[m,g]=this.kW(o,h,n),[y,w]=this.kW(o,a,n),[M,S]=this.kW(r,a,n);let T=Math.min(u,c,t,d,i,m,y,M);c=Math.max(u,c,t,d,i,m,y,M),u=T,T=Math.min(l,f,s,p,e,g,w,S),f=Math.max(l,f,s,p,e,g,w,S),l=T}else{let i=Math.min(u,c,t,d);c=Math.max(u,c,t,d),u=i,i=Math.min(l,f,s,p),f=Math.max(l,f,s,p),l=i}}return Ep.set(u,l,c,f),Ep}J2(){return this.F$&&(this.w3(),this.F$=!1),this.k$}w3(){const t=this.kc.lb(),s=this.b2(t),i=this.l2(t);this.k$.Jw(i,s)}y3(t,s,i){return this.J2().qw(t,s,i)}M3(){return{d:this.V0(),s:this.nW(),a:this.aW(),v:this.YU(),i:this.XU(),html:this.$U(),bc:this.g$.toJSON(),t:this.SW(),sx:this.A$,sy:this.E$,hosp:this.D$,px:this.cW(),py:this.pW(),c:this.Ab.toJSON(),sr:this.oW(),fx:this.J$.ev(),cg:this.U$}}S3(t){this.d$=!!t.d,this.C$=t.s,this._$=t.a,this.p$=!!t.v,this.m$=!t.hasOwnProperty("i")||t.i,this.l$=!!t.html,this.g$.ya(t.bc),this.y$=!!t.t,t.hasOwnProperty("sx")&&(this.A$=t.sx),t.hasOwnProperty("sy")&&(this.E$=t.sy),t.hasOwnProperty("hosp")&&(this.D$=!!t.hosp),this.w$=t.px,this.M$=t.py,this.Ab.ya(t.c),this.o0(),this.I$=t.sr,Ap.xh(this.U$,t.cg),Ap.xh(this.B$,this.j$);const s=new Set(this.U$);let i=0;for(let t=0,e=this.B$.length;t<e;++t)s.has(this.B$[t][2])||(this.B$[i]=this.B$[t],++i);Ap.wh(this.B$,i),this.J$.nv(t.fx),this.$$=!0}T3(){this.E0(!1),this.gj(),this.K0(),this.T2()}yU(){return this.h0}zB(t,s=!1,i=!1){if(this.NK.includes(t))return s&&this.NK.sort(((t,s)=>(t.lj().b3()??0)-(s.lj().b3()??0))),void(i&&this.NK.forEach(((t,s)=>t.lj().D0(s))));if(t.v3()){const s=[...t.UY()];s.push(t),s.sort(((t,s)=>(t.lj().b3()??0)-(s.lj().b3()??0)));for(const t of s)if(t.KW())for(const i of t.$W()){if(s.includes(i))continue;const t=[...i.UY()];t.push(i),t.sort(((t,s)=>(t.lj().b3()??0)-(s.lj().b3()??0))),t&&t.length&&s.splice(s.length,0,...t)}for(const t of s)t.TB().Zz()&&this.v0(t,!0);i&&this.NK.forEach(((t,s)=>t.lj().D0(s)))}else{if(t.TB().Zz()&&this.v0(t,!0),!t.KW())return void(i&&this.NK.forEach(((t,s)=>t.lj().D0(s))));for(const s of t.$W()){const t=[...s.UY()];if(t.push(s),t.sort(((t,s)=>(t.lj().b3()??0)-(s.lj().b3()??0))),t&&t.length)for(const s of t)s.TB().Zz()&&this.v0(s,!0)}i&&this.NK.forEach(((t,s)=>t.lj().D0(s)))}}}}{let Hp=function(t,s,i,e){return t[0]===Math.fround(s)&&t[1]===Math.fround(i)&&t[2]===Math.fround(e)},qp=function(t,s){rm!==t&&(t._2(s),rm=t)};0;const Xp=self.Gs,Zp=self.NV,Kp=(self.assert,Xp.Vn(Xp.Rect),Xp.Vn(Xp.Rect),Xp.Vn(Xp.Rect)),$p=Xp.Vn(Xp.vo),tm=self.hs.ys,sm=[],im=[],em=[],nm=[];let rm=null;Xp.x3=class extends Xp.Un{constructor(t,s,i){super(),this.I3=t,this.kc=t.Fj(),this.Hn=i[0],this.G3=i[1],this.C3=i[2],this._y=i[1],this.Ay=i[2],this._3=!!i[3],this.A3=!!i[4],this.E3=i[5],this.D3=i[6],this.N3=i[7],this.L3=null,this.f$=i[8],this.Aw=s,this.A$=0,this.E$=0,this.C$=1,this._$=0,this.O3=new Set,this.R3=new Set,this.P3=new Set,this.F3=[],this.j3=[],this.z3=new Map,this.B3=new Map,this.U3=[],this.W3=!1,this.V3=tm.create(),this.Y3=tm.create(),this.Q3=tm.create(),this.J3=[],this.H3=[],this.q3=new Map,this.X3=new Map,this.Z3=-1;const e=this.kc.Ij();this.J$=Xp.Vn(Xp.H$,this,i[11]),this.qP=Xp.Vn(Xp.Pw.jO,e.q$(),{_O:(t,s)=>{const i=s.BP().kL();t.iL(),t.YL(i),t.QL(i),e.Z$(i)},EO:t=>this.eU().K$(t)}),this.$$=!0,this.K3=!1,this.G$=null,this.t4={},this.s4=new Map,this.i4=!0,this.e4=new self.iU(this),this.n4=Xp.Vn(Xp.Event.yf);for(const t of i[9])this.J3.push(Xp.o$.l0(this,null,t));this.r4();for(const t of this.SU())t.c0();for(const t of i[10]){const s=this.kc.f0(t[1]);if(!s)throw new Error("missing nonworld object class");s.p0()||s.m0(t),this.U3.push(t),this.d0(s)}}Yn(){for(const t of this.H3)t.Yn();Xp.Mh(this.H3),this.P3.clear(),this.L3=null,this.I3=null,this.kc=null}Fj(){return this.kc}_c(){return this.Hn}W0(){return this.f$}$P(){return this.Aw}eU(){return this.J$}KP(){return this.Q0(),this.qP}Q0(){const t="low"===this.kc.Ij().P2();if(!this.$$&&this.K3===t&&!this.qP.DR())return;const s=this.eU().H0();this.qP.NR(s.map((t=>t.EG())),{NO:s.map((t=>t.$P())),OO:t,FO:!0}),this.$$=!1,this.K3=t}HQ(){this.eU().HQ(),this.$$=!0}h4(){let t=this.H3[0].f2();for(let s=1,i=this.H3.length;s<i;++s){const i=this.H3[s];0===i.cW()&&0===i.pW()||(t=Math.min(t,i.f2()))}return t}o4(){return.5*this.kc.d1()/this.h4()}a4(){return.5*this.kc.m1()/this.h4()}t1(){return this.u4()?-1/0:this.o4()}s1(){return this.u4()?1/0:this.Bg()-this.o4()}i1(){return this.u4()?-1/0:this.a4()}e1(){return this.u4()?1/0:this.Zg()-this.a4()}cU(t){const s=this.t1(),i=this.s1();t>i&&(t=i),t<s&&(t=s),this.A$!==t&&(this.A$=t,this.l4(),this.kc.yj())}fU(){return this.A$}dU(t){const s=this.i1(),i=this.e1();t>i&&(t=i),t<s&&(t=s),this.E$!==t&&(this.E$=t,this.l4(),this.kc.yj())}pU(){return this.E$}u4(){return this._3}l3(){this.cU(this.fU()),this.dU(this.pU());for(const t of this.H3)t.$0()&&(t.cU(t.fU()),t.dU(t.pU()))}NU(t,s){this.E3===t&&this.D3===s||(this.E3=t,this.D3=s,this.c4()&&(this.f4(),this.l4(),this.kc.yj()))}a1(){return this.kU()?.5:this.E3}u1(){return this.kU()?.5:this.D3}V2(){const t=this.a1(),s=this.u1();return t<0||t>1||s<0||s>1}RU(){this.A3&&(this.A3=!1,this.f4(),this.l4(),this.kc.yj())}PU(){this.A3||(this.A3=!0,this.f4(),this.l4(),this.kc.yj())}kU(){return this.A3}c4(){return!this.kU()}d4(t){t=!!t,this.W3!==t&&(this.W3=t,this.l4(),this.kc.yj())}_1(){return this.W3}m4(t,s,i,e,n,r,h,o,a){Hp(this.V3,t,s,i)&&Hp(this.Y3,e,n,r)&&Hp(this.Q3,h,o,a)||(tm.set(this.V3,t,s,i),tm.set(this.Y3,e,n,r),tm.set(this.Q3,h,o,a),this.g4())}g4(){this.l4(),this.kc.yj()}v1(){return this.V3}M2(){return this.Y3}S2(){return this.Q3}aU(){return this.C$}oU(t){this.C$!==t&&(this.C$=t,this.l4(),this.l3(),this.kc.yj())}uU(t){t=Xp.Zn(t),this._$!==t&&(this._$=t,this.l4(),this.kc.yj())}lU(){return this._$}Bg(){return this._y}Hg(t){!isFinite(t)||t<1||(this._y=t)}Zg(){return this.Ay}Ug(t){!isFinite(t)||t<1||(this.Ay=t)}y4(){return this.L3}U0(){return this.J3}*SU(){for(const t of this.J3)yield*t.VU()}MU(){return this.H3}w4(){return this.H3.length}cj(t){return"number"==typeof t?this.dj(t):this.k0(t.toString())}dj(t){return t=Xp.Xn(Math.floor(t),0,this.H3.length-1),this.H3[t]}k0(t){return this.q3.get(t.toLowerCase())||null}M4(t){return!!this.k0(t)}S4(t){return this.X3.get(t)||null}f4(){for(const t of this.H3)t.T2()}l4(){for(const t of this.H3)t.K0()}xU(t,s,i){if(this.M4(t))throw new Error(`layer name '${t}' already in use`);if(!s&&i<2)throw new Error("invalid insert position");const e=i>=2?s:s.jU(),n=Xp.Vn(Xp.o$,this,e,{name:t,KK:Math.floor(1e15*Math.random()),$K:!0});this.T4(n,s,i),this.Fj().yj(),this.z0()}GU(t,s,i){if(!s&&i<2)throw new Error("invalid insert position");t===s&&i<2||(this.b4(t),this.T4(t,s,i),this.Fj().yj(),this.z0())}_U(t){if(this.b4(t)){const s=this.kc.jk();s.BB(!0),t.Yn(),s.BB(!1),this.Fj().yj(),this.z0()}}EU(){const t=new Set;for(const s of this.SU())s.V0()&&!s.Y0()&&t.add(s);if(0===t.size)return;const s=this.kc.jk();s.BB(!0);for(const s of t)this.b4(s),s.Yn();s.BB(!1),this.Fj().yj(),this.z0()}T4(t,s,i){if(i>=2)if(s){if(s===t||s.j1(t))throw new Error(`cannot move layer '${t._c()}' to sub-layer of itself`);s.L1(t,2===i),t.D1(s)}else 2===i?this.J3.push(t):this.J3.unshift(t),t.D1(null);else{const e=s.jU();if(e){if(s.j1(t))throw new Error(`cannot move layer '${t._c()}' to sub-layer of itself`);e.O1(t,s,0===i),t.D1(e)}else{let e=this.J3.indexOf(s);if(-1===e)throw new Error("cannot find layer to insert by");0===i&&++e,this.J3.splice(e,0,t),t.D1(null)}}}b4(t){const s=t.jU();if(s)return s.R1(t),!0;if(this.J3.length>1){const s=this.J3.indexOf(t);if(-1===s)throw new Error("cannot find layer to remove");return this.J3.splice(s,1),!0}return!1}r4(){this.H3=[...this.SU()],this.q3.clear(),this.X3.clear();for(let t=0,s=this.H3.length;t<s;++t){const s=this.H3[t];s.F0(t),this.q3.set(s._c().toLowerCase(),s),this.X3.set(s.W0(),s)}}v4(){let t=0;for(const s of this.J3){for(const i of s.VU())i.j0(t);s.$U()&&t++}}x4(){return this.J3.at(-1).FH()+1}async z0(){this.r4(),this.v4(),this.Z3=this.x4()}I4(){return this.Z3}G4(){this.Z3=-1}J1(t){const s=[];for(const i of this.J3){const e=i.FH();if(e===t)s.push(i);else if(e>t)break}return s}B1(){return{scrollX:this.fU(),scrollY:this.pU(),scale:this.aU(),angle:this.lU(),vpX:this.a1(),vpY:this.u1()}}U1(t){this.cU(t.scrollX),this.dU(t.scrollY),this.oU(t.scale),this.uU(t.angle),this.NU(t.vpX,t.vpY)}C4(){let t=this.J3.filter((t=>t.F1()))[0];for(;t;){if(!t.SW())return $p.Po(t.IW()),$p.Ro(1),$p;if(t.n2())return $p._o(0,0,0,0),$p;t=t.UU().filter((t=>t.F1()))[0]}return $p._o(0,0,0,0),$p}M0(){return this.i4}_4(){return[...this.O3]}d0(t){if(t.KW())for(const s of t.E4().A4())this.O3.add(s);else this.O3.add(t)}D4(){return[...this.R3]}N4(t,s){if(t===this||!s)return Promise.resolve();t&&(Xp.po(this.R3,t.R3),t.R3.clear());const i=[];for(const t of this.O3)this.R3.has(t)||(i.push(t.L4(s)),this.R3.add(t));return Promise.all(i)}async O4(t){if(t.P0())throw new Error("cannot load textures for family");const s=this.kc.lb();if(!s||s.KE()||this.R3.has(t))return;this.R3.add(t);const i=t.L4(s);this.R4(i),await i,t.P4(),this.kc.yj()}R4(t){this.P3.add(t),t.then((()=>this.P3.delete(t))).catch((()=>this.P3.delete(t)))}F4(){return Promise.all([...this.P3])}j4(t){if(t.P0()||t.PB()>0)throw new Error("cannot unload textures");const s=this.kc.lb();s&&this.R3.has(t)&&(this.R3.delete(t),t.z4(s))}B4(t,s){if(t!==this&&s)for(const s of this.R3)s.b0()||t.O3.has(s)||(s.z4(),this.R3.delete(s))}U4(){this.R3.clear()}async W4(t){const s=this.kc,i=this.I3,e=s.jk();this.N3&&(this.L3=e.V4(this.N3),this.L3.Y4()),i.Q4(this),this._y=this.G3,this.Ay=this.C3,this.A$=s.Ik()/2,this.E$=s.Ck()/2,this.l3(),this.f4(),this.l4(),this.v4(),await this.kc.Ij().J4(this.x4(),!0),this.H4(t),this.kc.q4(!0),this.X4(),this.i4||this.Z4(),this.K4(this.F3),this.K4(this.j3),this.t5(),i.s5(),s.YB(),this.kc.q4(!1);const n=this.kc.i5();if(await Promise.all(n),Xp.Mh(n),!s.e5()){for(const t of this.F3)t.n5();for(const t of this.j3)t.r5(this.z3,this.B3);for(const[t,s]of Object.entries(this.t4)){const i=this.kc.Gq(parseInt(t,10));i&&!i.P0()&&i.S0()&&Xp.Mh(s)}for(const t of this.F3)t.h5();for(const t of this.j3)t.h5();for(const t of this.F3)t.JY()||t.o5();for(const t of this.j3)t.JY()||t.o5()}Xp.Mh(this.F3),Xp.Mh(this.j3),this.z3.clear(),this.B3.clear(),await Promise.all([...this.O3].map((t=>t.a5(this.kc.lb())))),t&&(s.yf().dispatchEvent(new Xp.Event("beforefirstlayoutstart")),await s.u5(new Xp.Event("beforeprojectstart"))),await this.l5(new Xp.Event("beforeanylayoutstart")),s.yf().dispatchEvent(new Xp.Event("beforelayoutstart")),await this.u5(new Xp.Event("beforelayoutstart")),s.e5()||await s.Cj(Xp.Dj.Ej.Aj.c5,null,null),s.yf().dispatchEvent(new Xp.Event("afterlayoutstart")),await this.u5(new Xp.Event("afterlayoutstart")),await this.l5(new Xp.Event("afteranylayoutstart")),t&&(s.yf().dispatchEvent(new Xp.Event("afterfirstlayoutstart")),await s.u5(new Xp.Event("afterprojectstart"))),e.f5(i),await this.F4(),this.i4=!1}H4(t){for(const t of this.kc.R0())if(!t.P0()&&t.Zz())for(const s of t.NB()){const t=s.lj(),i=t.cj(),e=Xp.Xn(i.$P(),0,this.H3.length-1),n=this.H3[e];t.mj(n,!0),n.x0(s)}if(!t)for(const t of this.H3)t.E0(!1)}X4(){for(const t of this.H3)t.w0(this.F3),t.N0()}Z4(){let t=!1;for(const[s,i]of Object.entries(this.t4)){const e=this.kc.Gq(parseInt(s,10));if(e&&!e.P0()&&e.S0())for(const s of i){let i=null;if(e.Zz()&&(i=s.hasOwnProperty("instJson")?this.S4(s.instJson.w.l):this.S4(s.w.l),!i))continue;const n=this.kc.T0(e,i,!1,0,0,!0);s.hasOwnProperty("instJson")?n.nv(s.instJson):n.nv(s),t=!0,this.j3.push(n),s.hasOwnProperty("instJson")&&(this.z3.set(n,s),this.B3.set(s.index,n))}}for(const t of this.H3)t.E0(!0),t.gj();t&&(this.kc.YB(),this.kc.d5())}K4(t){for(const s of t){if(!s.KW())continue;const i=s.lj(),e=s.iV();for(const n of s.BW().E4().tU()){if(n===s.BW())continue;const r=n.NB();if(r.length>e)s.p5(r[e]);else{let e;e=i?this.kc.T0(n,i.cj(),!0,i.Wb(),i.Qb(),!0):this.kc.T0(n,null,!0,0,0,!0),this.kc.YB(),n.m5(),s.p5(e),t.push(e)}}}}t5(){for(const t of this.U3)this.kc.f0(t[1]).KW()||this.kc.T0(t,null,!0)}g5(){const t=[],s=this.U3;let i=0;for(let e=0,n=s.length;e<n;++e){const n=s[e],r=this.kc.f0(n[1]);r.b0()?r.KW()&&r.E4().y5()||t.push(this.kc.T0(n,null,!0)):(s[i]=n,++i)}Xp.wh(s,i),this.kc.YB(),this.K4(t)}O0(t,s,i,e,n,r,h){if(i)return i.O0(t,s,n,r,e,h);{const i=[];for(const o of this.H3)i.push(o.O0(t,s,n,r,e,h));return i.flat()}}async w5(){const t=this.I3;this.kc.e5()||(await this.l5(new Xp.Event("beforeanylayoutend")),await this.u5(new Xp.Event("beforelayoutend")),await this.kc.Cj(Xp.Dj.Ej.Aj.M5,null,null),await this.u5(new Xp.Event("afterlayoutend")),await this.l5(new Xp.Event("afteranylayoutend"))),t.S5(!0),this.kc.jk().T5(),this.i4||this.b5();for(const t of this.H3)t.L0();for(const t of this.kc.R0())if(!(t.b0()||t.Zz()||t.TB().qz()||t.P0())){for(const s of t.NB())this.kc.JW(s);this.kc.YB()}t.S5(!1),t.UF()===this&&t.Q4(null)}v5(t,s){const i=t.BW().W0().toString();this.t4.hasOwnProperty(i)||(this.t4[i]=[]);const e=this.t4[i],n={index:s,instJson:t.ev(),sceneGraphJson:{children:[]}};e.push(n),this.s4.set(t,n)}x5(t){const s=this.s4.get(t);for(const i of t.I5()){const t=this.s4.get(i);t&&s.sceneGraphJson.children.push({index:t.index,flags:Xp.C5.G5(i.lj())})}}b5(){this.s4.clear();let t=0;for(const s of this.H3){s.V1();for(const i of s.pj()){const s=i.BW();!s.b0()&&s.S0()&&(this.v5(i,t),t++)}}for(const t of this.H3)for(const s of t.pj()){const t=s.BW();!t.b0()&&t.S0()&&this.x5(s)}this.s4.clear()}_5(){this.t4={},this.i4=!0}kL(){return this.G$}n2(){const t=this.kc,s=t.lb().PT();return"low"===t.Ij().P2()||s&&t.R2()||this.J$.h2()||s&&t.G1()}A5(t){const s=this.kc.Ij();if(this.n2()){t.WL(null),t.EL(0,0,0,0);const i={Wv:this.kc._k(),Px:t.tS()||this.kc.R2()||this.J$.h2(),O2:!!t.tS()&&this.kc.R2()};"low"===s.P2()&&(i.width=s.I2(),i.height=s.G2()),this.G$=this.kc.F2(i)}else this.G$=null}E5(t){this.kc.D5(t)&&(t.LL(!1),t.WL(null),t.aS(),t.VL(this.G$))}N5(t){this.n2()&&(t.LL(!1),this.L5(t,this.G$))}O5(t){t.WL(this.G$),t._l(this.C4()),this.kc.G1()&&t.NL();const s=this.J1(0);this.j2(t,this.G$,s,!0),t.tS()&&t.L2(0,1),this.N5(t),this.G$=null}R5(t,s){let i=null;this.kc.D5(t)&&(i=this.G$),t.WL(i),t.EL(0,0,0,0),this.kc.G1()&&t.NL();const e=this.J1(s);this.j2(t,i,e,!0),this.E5(t),t.AT(),this.kc.Ij().P5(s)}j2(t,s,i,e){const n=i.filter((t=>t.F1()));for(let i=0,r=n.length;i<r;){const h=n[i];if(h.A1()&&!h.o2()){sm.push(h);for(let t=i+1;t<r;++t){const s=n[t];if(!s.A1()||s.o2())break;sm.push(n[t])}if(sm.length>=2||1===sm.length&&sm[0].P1()){this.k5(t,s,sm),i+=sm.length,Xp.Mh(sm);continue}Xp.Mh(sm)}h.Nv(t,s,e&&0===i),++i}}L5(t,s){const i=this.J$.H0(),e=this.kc;0===i.length?(t.WL(null),t.aS(),t.VL(s),t.QL(s),e.Z$(s)):(Kp.set(0,0,e.d1(),e.m1()),this.KP().UR(t,null,{VR:this,QR:3,devicePixelRatio:this.kc.h3(),JR:this.kc.a3()*this.aU(),HR:this.lU(),MP:Kp,SP:null,DO:!0}))}k5(t,s,i){i[0].SW()||($p.Po(i[0].IW()),$p.Ro(1),t._l($p)),this.kc.Ij(),t.LL(!0);const e=im,n=em,r=nm;for(const t of i)t.V1(),t.b1(e);const h=i[0],o=h.A2(t);h.N2(t);for(let i=0,h=e.length;i<h;){const o=e[i],a=o.lj(),u=a.cj();if(!a.HU()||!a.H2(u.J2())){++i;continue}(!o.q2()||a.X2()>0)&&r.push(o);const l=o.lj().cY();n.push(o);let c=i+1;for(;c<h;++c){const t=e[c],s=t.lj();if(s.HU()&&s.H2(s.cj().J2())){if(s.cY()!==l)break;t.q2()?(s.X2()>0&&r.push(t),n.push(t)):r.push(t)}}if(1!==n.length||n[0].Z2()){this.F5(t,s,n);for(let i=0,e=r.length;i<e;++i){const e=r[i],n=e.lj(),h=n.cj();n.t3(!0),qp(h,t),h.Q2(e,n,t,s),n.t3(!1)}}else{qp(u,t),u.Q2(o,a,t,s);for(let i=0,e=r.length;i<e;++i){const e=r[i];if(e===o)continue;const n=e.lj(),h=n.cj();qp(h,t),h.Q2(e,n,t,s)}}i=c,Xp.Mh(n),Xp.Mh(r)}o&&t.tO(o),Xp.Mh(e),rm=null}F5(t,s,i){t.HL();for(let s=0,e=i.length;s<e;++s){const e=i[s],n=e.lj(),r=n.cj();n.s3(!0),qp(r,t),r.i3(e,n,t)}t.qL();for(let e=0,n=i.length;e<n;++e){const n=i[e],r=n.lj(),h=r.cj();qp(h,t),h.Q2(n,r,t,s),r.s3(!1)}t.ZL()}M3(){const t={sx:this.fU(),sy:this.pU(),s:this.aU(),a:this.lU(),w:this.Bg(),h:this.Zg(),ortho:this.kU(),vpX:this.a1(),vpY:this.u1(),fv:this.i4,persist:this.t4,fx:this.J$.ev(),layers:{},dynamicLayers:[]};for(const s of this.H3)if(s.V0()){const i=s.jU();t.dynamicLayers.push({sid:s.W0(),name:s._c(),parentSid:i?i.W0():null,siblingIndex:s.B0(),data:s.M3()})}else t.layers[s.W0().toString()]=s.M3();return t}S3(t){this.A$=t.sx,this.E$=t.sy,this.C$=t.s,this._$=t.a,this._y=t.w,this.Ay=t.h,this.A3=!!t.ortho,t.hasOwnProperty("vpX")&&(this.E3=t.vpX),t.hasOwnProperty("vpY")&&(this.D3=t.vpY),this.i4=!!t.fv,this.t4=t.persist,this.J$.nv(t.fx),this.$$=!0;for(const[s,i]of Object.entries(t.layers)){const t=parseInt(s,10),e=this.S4(t);e&&e.S3(i)}if(t.hasOwnProperty("dynamicLayers")){this.EU(),this.kc.YB();const s=new Map,i=t.dynamicLayers;for(let t=i.length-1;t>=0;--t){const e=i[t],n=e.sid,r=e.name,h=e.parentSid,o=e.siblingIndex,a=e.data;if(this.r4(),this.M4(r)||this.S4(n))continue;let u,l;if(null===h)u=null,l=this.J3;else{if(u=this.S4(h),!u)continue;l=u.UU()}const c=Xp.Vn(Xp.o$,this,u,{name:r,KK:n,$K:!0});l.push(c);let f=s.get(l);f||(f=[],s.set(l,f)),f.push({ZV:c,j5:o}),c.S3(a)}for(const[t,i]of s){i.sort(((t,s)=>t.j5-s.j5));for(const s of i){const i=s.ZV,e=s.j5;let n=t.indexOf(i);t.splice(n,1),t.splice(e,0,i)}}}this.z0(),this.f4(),this.l4()}WF(){return this.e4}Rk(){return this.n4}HZ(t){t.layout=this.WF();const s=this.kc,i=s.DV()&&!s.jk().WB();i&&Zp.z5(),this.n4.dispatchEvent(t),i&&Zp.B5()}u5(t){return t.layout=this.WF(),this.n4.If(t)}l5(t){return t.layout=this.WF(),this.kc.u5(t)}U5(){this.W5(this.J3)}W5(t,s=0){const i=t.slice(0);i.reverse();for(const t of i)console.log(`${"\t".repeat(s)}- ${t._c()}`),this.W5(t.UU(),s+1)}}}{const hm=self.Gs;hm.V5=class extends hm.Un{#s;#i=[];#f=new Map;#a=new Map;#e=null;#t=[];#r=null;#h=0;#d=null;constructor(t){super(),this.#s=t}Yn(){this.#s=null,this.#e=null,this.#r=null,this.#d=null,hm.Mh(this.#i),this.#f.clear(),this.#a.clear(),hm.Mh(this.#t)}EI(t){const s=hm.Vn(hm.x3,this,this.#i.length,t);this.#i.push(s),this.#f.set(s._c().toLowerCase(),s),this.#a.set(s.W0(),s)}Fj(){return this.#s}Y5(t){this.#r=t}Q5(){if(this.#r)return this.#r;if(this.#i.length)return this.#i[0];throw new Error("no first layout")}J5(t){return this.#f.get(t.toLowerCase())||null}H5(t){return this.#a.get(t)||null}q5(t){return t=hm.Xn(Math.floor(t),0,this.#i.length-1),this.#i[t]}QF(t){return"number"==typeof t?this.q5(t):this.J5(t.toString())}HF(){return this.#i}Q4(t){this.#e=t}UF(){return this.#e}X5(t){if(this.#t.includes(t))throw new Error("layout already running");this.#t.push(t)}Z5(t){const s=this.#t.indexOf(t);if(-1===s)throw new Error("layout not running");this.#t.splice(s,1)}*K5(){this.#e&&(yield this.#e),this.#t.length&&(yield*this.#t)}t6(t){return this.#e===t||this.#t.includes(t)}S5(t){if(t)this.#h++;else{if(this.#h<=0)throw new Error("already unset");this.#h--}}VB(){return this.#h>0}ZF(t){this.#d=t}s5(){this.#d=null}XF(){return!!this.#d}s6(){return this.#d}i6(){const t=this.UF();t&&t.f4()}e6(){const t=this.UF();t&&t.l4()}}}{const om=self.Gs,am=new RegExp("<(.+?)>","g");om.n6=class extends om.Un{constructor(t){super(),this.kc=t,this.r6=om.Vn(om.h6),this.o6=null,this.a6=[],this.u6=new Map,this.l6=new Map,this.c6=new Map,this.f6=[],this.d6=[],this.p6=[],this.m6=!1,this.g6=!1,this.y6=!1,this.w6=()=>this.M6(),this.S6=()=>this.T6(),this.b6=()=>this.v6(),this.x6=()=>this.I6(),this.G6=t=>this.C6(t.BQ),this._6=t=>this.A6(),this.E6=t=>this.D6(),this.N6=t=>this.L6(),this.O6=[],this.R6=0}Yn(){this.P6(),this.w6=null,this.S6=null,this.b6=null,this.x6=null,this.G6=null,this.E6=null;for(const t of this.a6)t.NJ(),t.Yn();om.Mh(this.a6),this.a6=null,this.r6.Yn(),this.r6=null,om.Mh(this.f6),this.f6=null,om.Mh(this.d6),this.d6=null,om.Mh(this.p6),this.p6=null,this.u6.clear(),this.u6=null,this.l6.clear(),this.l6=null,this.c6.clear(),this.c6=null,om.Mh(this.O6),this.O6=null,this.kc=null}k6(){const t=this.kc.yf();t.addEventListener("pretick",this.w6),t.addEventListener("tick2",this.S6),t.addEventListener("beforelayoutchange",this.b6),t.addEventListener("layoutchange",this.x6),t.addEventListener("instancedestroy",this.G6),t.addEventListener("beforeload",this._6),t.addEventListener("afterload",this.E6),t.addEventListener("afterlayoutstart",this.N6)}P6(){const t=this.kc.yf();t.removeEventListener("pretick",this.w6),t.removeEventListener("tick2",this.S6),t.removeEventListener("beforelayoutchange",this.b6),t.removeEventListener("layoutchange",this.x6),t.removeEventListener("instancedestroy",this.G6),t.removeEventListener("beforeload",this._6),t.removeEventListener("afterload",this.E6),t.removeEventListener("afterlayoutstart",this.N6)}EI(t){this.r6.Fl(t);const s=om.j6.F6(t,this);this.Fl(s),this.z6(s),this.c6.set(s._c(),0)}B6(t){const s=this.U6(),i=t.nV(),e=s.Ys(i),n=om.j6.B6(`${i}:${this.c6.get(i)}`,e,this);return this.W6(i),this.Fl(n),n}W6(t){this.c6.set(t,this.c6.get(t)+1)}V6(){for(const t of this.a6){if(t.Y6())continue;const s=t.nV();this.W6(s)}}Q6(){for(const t of this.c6.keys())this.c6.set(t,0)}Fl(t){this.a6.push(t),this.u6.set(t._c().toLowerCase(),t)}Xf(t){t.J6(),t.Y6()||(om.Gh(this.a6,t),om.Gh(this.f6,t),om.Gh(this.d6,t),om.Gh(this.p6,t),this.u6.delete(t._c().toLowerCase()),this.H6(t),t.EJ()||t.Yn())}vV(t){this.kc.vV(t,this.o6,null)}Fj(){return this.kc}U6(){return this.r6}q6(t){this.o6=t}X6(){return this.o6}*Z6(){for(const t of this.a6)yield t}*K6(){for(const t of this.d6)yield t}t8(t,s){this.l6.has(t)||this.l6.set(t,new Set),this.l6.get(t).add(s)}z6(t){for(const s of t.s8())this.t8(s,t)}H6(t){for(const[s,i]of this.l6.entries())i.has(t)&&(i.delete(t),0===i.size&&this.l6.delete(s))}i8(t){if(this.l6.has(t))return this.l6.get(t)}e8(t,s){if(s)for(const i of this.a6)if(s.every((t=>i.n8(t.BQ,t.trackId)))&&i._c().includes(t._c()))return i}r8(t){return this.u6.get(t.toLowerCase())||null}h8(t){for(const s of this.f6)if(s._c()===t)return s;for(const s of this.d6)if(s._c()===t)return s;return null}*o8(t){if(am.test(t)){let s;am.lastIndex=0;const i=new Set;do{if(s=am.exec(t),s){const t=s[1].split(",");for(const s of t)i.add(s)}}while(s);for(const t of i.values()){const s=this.r8(t);s&&(yield s)}i.clear()}else{const s=this.r8(t);s&&(yield s)}}*a8(t){for(const s of this.a6)s.OJ(t)&&(yield s)}u8(t){this.f6.includes(t)||this.f6.push(t),this.l8()}c8(t){om.Gh(this.d6,t),this.f8()}d8(t){this.d6.includes(t)?(t.p8(!0),t.m8(!1),t.g8(!1)):(t.p8(!1),t.m8(!0),t.g8(!1),this.f6.includes(t)||this.f6.push(t)),this.l8()}y8(t){t.p8(!1),t.m8(!1),t.w8(),om.Gh(this.f6,t),this.f8()}M8(t){t.p8(!1),t.m8(!1),this.d6.includes(t)&&(t.g8(!0),this.p6.push(t),om.Gh(this.d6,t)),this.f6.includes(t)&&t.g8(!0)}S8(t){t.p8(!1),t.m8(!1),t.g8(!1),t.UJ(1),om.Gh(this.d6,t)}T8(t){this.M8(t),t.w8()}M6(){const t=this.Fj();if(t.e5())return;if(!this.m6)return;if(this.g6)return;let s=0;for(t.DV()&&(s=performance.now()),this.y6=!0;this.f6.length;){const t=this.f6.pop();t.b8()?(t.v8(),this.p6.push(t)):(t.x8(),this.d6.push(t)),0!==t.I8()&&(this.R6=1)}const i=this.kc.G8(),e=this.kc.C8(),n=this.kc.wF();for(let t=this.d6.length-1;t>=0;t--){const s=this.d6[t];s&&s._8(i,n,e)}this.y6=!1,t.DV()&&globalThis.NV.A8(performance.now()-s),0!==this.R6&&t.yj()}T6(){const t=this.Fj();if(t.e5())return;if(!this.m6)return;if(this.g6)return;let s,i=0;t.DV()&&(i=performance.now());for(let t=0,i=this.p6.length;t<i;t++){const i=this.p6[t];s||(s=new Set),i.J6(),this.E8(i),s.add(i)}if(s){om.Ah(this.p6,s),this.R6=0;for(let t=0,s=this.d6.length;t<s;t++)if(0!==this.d6[t].I8()){this.R6=1;break}}this.f8(),t.DV()&&globalThis.NV.A8(performance.now()-i)}E8(t){t.EJ()||t.D8()&&t.N8()&&t.L8()&&t.O8()}l8(){this.m6||(this.m6=!0)}f8(){this.p6.length||this.d6.length||this.f6.length||this.y6||(this.m6=!1)}v6(){for(this.g6=!0;this.f6.length;)this.y8(this.f6.pop());const t=new Set;for(const s of this.d6)s.v6()&&(s.J6(),t.add(s));om.Ah(this.d6,t),t.clear();for(const s of this.p6)s.v6()&&(s.J6(),t.add(s));om.Ah(this.p6,t),this.f8();for(const t of this.a6)t.P8()}I6(){this.g6=!1}C6(t){const s=t.BW(),i=this.i8(s);if(i)if(this.kc.e5())this.O6.push(t);else for(const t of i)t.Y6()||(t.EJ()?this.Xf(t):t.D8()||(this.E8(t),this.Xf(t)))}A6(){for(const t of this.f6.map((t=>t)))this.E8(t),this.Xf(t);for(const t of this.d6.map((t=>t)))this.E8(t),this.Xf(t)}D6(){for(const t of this.O6)this.C6(t);om.Mh(this.O6);for(const t of this.a6)t.D6()}L6(){const t=this.kc.YF().UF();if(t)for(const s of this.a6){const i=s.k8();i&&t._c()===i&&this.d8(s)}}M3(){return{timelinesJson:this.F8(),scheduledTimelinesJson:this.j8(),playingTimelinesJson:this.z8(),markedForRemovalTimelinesJson:this.B8(),hasRuntimeListeners:this.m6,changingLayout:this.g6,isTickingTimelines:this.y6}}S3(t){t&&(this.Q6(),this.U8(t.timelinesJson),this.W8(t.scheduledTimelinesJson),this.V8(t.playingTimelinesJson),this.Y8(t.markedForRemovalTimelinesJson),this.m6=!t.hasRuntimeListeners,this.g6=!!t.changingLayout,this.y6=!!t.isTickingTimelines,this.V6(),this.l8(),this.f8())}F8(){return this.a6.map((t=>t.M3()))}U8(t){for(const s of t){let t=this.r8(s.name);if(t)t.S3(s);else{const i=this.Q8(s);if(!i)continue;const e=this.r8(i);t=this.B6(e),t.S3(s)}t.J8()||this.Xf(t)}}Q8(t){const s=t.name.split(":");return s&&2===s.length?s[0]:null}j8(){return this.H8(this.f6)}W8(t){this.q8(t,this.f6)}z8(){return this.H8(this.d6)}V8(t){this.q8(t,this.d6)}B8(){return this.H8(this.p6)}Y8(t){this.q8(t,this.p6)}X8(t,s){if(!s)return!1;for(const i of s)if(i===t._c())return!0;return!1}H8(t){return t.map((t=>t._c()))}q8(t,s){const i=new Set;for(const e of s)this.X8(e,t)||i.add(e);if(om.Ah(s,i),t){const i=t=>s=>s._c()===t;for(const e of t){const t=this.r8(e);t&&(s.find(i(e))||s.push(t))}}}}}{const um=self.Gs,lm=[0,0],cm=[0,0],fm=[0,0],dm=[0,0,0,0,0],pm=new Array(4),mm=[{x:0,y:0,t:0,St:0},{x:0,y:0,t:0,St:0},{x:0,y:0,t:0,St:0}],gm={x:0,y:0,t:0,St:0};um.Z8=class{constructor(t,s){this.K8=!1,this.t7=t,this.s7=[];let i=null;if(i=s?this.t7.i7(s):um.jh(this.t7.e7()),!i)return;const e=i.aH("offsetX"),n=i.aH("offsetY");if(!e||!n)return;this.n7=e,this.r7=n;const r=e.h7(),h=n.h7();for(let t=1,s=Math.min(r.length,h.length);t<s;++t){const s=r[t],i=(s.o7(),s.a7()),e=h[t],n=(e.o7(),e.a7());i&&"cubic-bezier"===i.u7()&&n&&"cubic-bezier"===n.u7()?this.s7.push(um.Vn(um.l7,i,n,s,e,this.s7.length)):(i&&"line"===i.u7()&&n&&n.u7(),this.s7.push(um.Vn(um.c7,s,e,this.s7.length)))}this.K8=!0}Yn(){for(const t of this.s7)t.Yn();um.Mh(this.s7),this.s7=null,this.t7=null,this.n7=null,this.r7=null}f7(){return this.K8}d7(){return this.s7}p7(t){const s="relative"===this.n7.m7()?t.Wb():0,i="relative"===this.r7.m7()?t.Qb():0;for(const t of this.s7)t.p7(s,i)}kw(t,s,i){let e=NaN,n=this.s7.length;for(let i=0;i<n;i++){const n=this.s7[i];if("cubic-bezier"===n.LG()){const i=n.kw(t,s);(isNaN(e)||i[3]<e)&&(e=i[3],fm[0]=i[2],fm[1]=n.$P())}}return fm}g7(t,s,i){const e=i.y7;um.$i(e[0])||(e[0]=0),um.$i(e[1])||(e[1]=1);let n=NaN,r=this.s7.length;for(let i=0;i<r;i++){const r=this.s7[i];if("cubic-bezier"===r.LG()){const i=r.w7(t,s,e);(isNaN(n)||i[3]<n)&&(n=i[3],fm[0]=i[2],fm[1]=r.$P())}}return fm}M7(t,s){return this.s7[s].M7(t)}S7(t,s){return this.s7[s].S7(t)}},um.l7=class{constructor(t,s,i,e,n){this.Aw=n;const r=t.T7("cubic-bezier"),h=i.T7("cubic-bezier"),o=s.T7("cubic-bezier"),a=e.T7("cubic-bezier");this.b7=t.v7(),this.x7=s.v7(),this.I7=t.v7()+r.G7(),this.C7=s.v7()+o.G7(),this._7=i.v7()+h.A7(),this.E7=e.v7()+a.A7(),this.D7=i.v7(),this.N7=e.v7(),this.L7=0,this.O7=0,this.R7=0,this.P7=0,this.k7=0,this.F7=0,this.j7=0,this.z7=0,this.B7=0,this.U7=0,this.W7=0,this.V7=0,this.Y7=0,this.Q7=0,this.J7=0,this.H7=0,this.q7=0,this.X7=0,this.Z7=0,this.K7=0,this.t9=NaN,this.K8=!1,this.s9=100,this.i9=new Array(this.s9+1),this.i9[0]=0,this.e9=0,this.n9=[],this.r9=[];for(let t=0;t<100;t++)this.r9.push({x:0,y:0,t:0,St:0});this.h9()}Yn(){um.Mh(this.i9),this.i9=null,um.Mh(this.n9),this.n9=null,um.Mh(this.r9),this.r9=null}LG(){return"cubic-bezier"}$P(){return this.Aw}o9(){return Math.floor(this.e9/25)}a9(){return 1/this.o9()}p7(t,s){this.u9=t,this.l9=s,this.i9=new Array(this.s9+1),this.i9[0]=0,this.h9(),this.L7=this.b7+this.u9,this.O7=this.x7+this.l9,this.R7=this.I7+this.u9,this.P7=this.C7+this.l9,this.k7=this._7+this.u9,this.F7=this.E7+this.l9,this.j7=this.D7+this.u9,this.z7=this.N7+this.l9,this.B7=3*(this.R7-this.L7),this.U7=3*(this.P7-this.O7),this.W7=3*(this.k7-this.R7),this.V7=3*(this.F7-this.P7),this.Y7=3*(this.j7-this.k7),this.Q7=3*(this.z7-this.F7),this.J7=3*(this.R7-this.L7),this.H7=3*(this.L7+this.k7-2*this.R7),this.q7=this.j7-this.L7+3*(this.R7-this.k7),this.X7=3*(this.P7-this.O7),this.Z7=3*(this.O7+this.F7-2*this.P7),this.K7=this.z7-this.O7+3*(this.P7-this.F7)}Map(t){if(!this.K8)return NaN;const s=this.c9(t);return cm[0]=this.f9(s),cm[1]=this.d9(s),cm}kw(t,s){const i=this.p9(100),e=this.m9(t,s,i),n=this.g9(t,s,i,e);return dm[0]=n.x,dm[1]=n.y,dm[2]=n.t,dm[3]=n.St,dm}w7(t,s,i){const e=this.p9(100),n=this.y9(t,s,e,i),r=this.g9(t,s,e,n);return dm[0]=r.x,dm[1]=r.y,dm[2]=r.t,dm[3]=r.St,dm}M7(t){const s=1-t,i=s*s,e=2*s*t,n=t*t,r=i*this.B7+e*this.W7+n*this.Y7,h=i*this.U7+e*this.V7+n*this.Q7,o=um.tr(r,h);return lm[0]=r/o,lm[1]=h/o,lm}S7(t){const s=1-t,i=s*s,e=2*s*t,n=t*t,r=i*this.B7+e*this.W7+n*this.Y7,h=i*this.U7+e*this.V7+n*this.Q7;return Math.atan2(h,r)}c9(t){if(!this.K8)return;let s=t*this.i9[this.s9],i=0,e=this.s9,n=0;for(;i<e;)n=i+((e-i)/2|0),this.i9[n]<s?i=n+1:e=n;this.i9[n]>s&&n--;const r=this.i9[n];return r===s?n/this.s9:(n+(s-r)/(this.i9[n+1]-r))/this.s9}f9(t){return this.K8?self.Bl.nc("cubicbezier")(t,this.b7+this.u9,this.I7+this.u9,this._7+this.u9,this.D7+this.u9):NaN}d9(t){return this.K8?self.Bl.nc("cubicbezier")(t,this.x7+this.l9,this.C7+this.l9,this.E7+this.l9,this.N7+this.l9):NaN}p9(t){if(t=t||100,this.n9.length>=t)return this.n9;this.n9=new Array(t),t++;for(let s=0;s<t-1;s++){const i=s/(t-1),e=i**2,n=i**3,r=this.J7*i,h=this.H7*e,o=this.q7*n,a=this.X7*i,u=this.Z7*e,l=this.K7*n,c=this.L7+r+h+o,f=this.O7+a+u+l;this.r9[s].x=c,this.r9[s].y=f,this.r9[s].t=i,this.r9[s].St=0,this.n9[s]=this.r9[s]}return this.n9}m9(t,s,i,e=null,n=Number.MAX_SAFE_INTEGER){let r=0;if(isNaN(this.t9))for(let e=0;e<100;e++){const h=i[e],o=h.x-t,a=h.y-s;h.St=o*o+a*a,h.St<n&&(n=h.St,r=e)}else{for(let e=this.t9;e<this.t9+5&&!(e>=i.length);e++){const h=i[e],o=h.x-t,a=h.y-s;h.St=o*o+a*a,h.St<n&&(n=h.St,r=e)}for(let e=this.t9;e>this.t9-5&&!(e<0);e--){const h=i[e],o=h.x-t,a=h.y-s;h.St=o*o+a*a,h.St<n&&(n=h.St,r=e)}}return this.t9=r,r}y9(t,s,i,e,n=Number.MAX_SAFE_INTEGER){let r=0;if(isNaN(this.t9))for(let h=0;h<100;h++){const o=i[h],a=o.x-t,u=o.y-s;o.St=a*a+u*u,o.t>=e[0]&&o.t<=e[1]&&o.St<n&&(n=o.St,r=h)}else{for(let h=this.t9;h<this.t9+5&&!(h>=i.length);h++){const o=i[h],a=o.x-t,u=o.y-s;o.St=a*a+u*u,o.t>=e[0]&&o.t<=e[1]&&o.St<n&&(n=o.St,r=h)}for(let h=this.t9;h>this.t9-5&&!(h<0);h--){const o=i[h],a=o.x-t,u=o.y-s;o.St=a*a+u*u,o.t>=e[0]&&o.t<=e[1]&&o.St<n&&(n=o.St,r=h)}}return this.t9=r,r}g9(t,s,i,e){let n=i[e],r=1,h=Number.MAX_SAFE_INTEGER;t:do{const r=i.length;let o=0===e?0:e-1,a=e===r-1?r-1:e+1,u=i[o].t,l=(i[a].t-u)/4;if(l<.001)break;pm[0]=i[o];for(let i=1;i<=2;i++){const r=u+i*l,o=r**2,a=r**3,c=this.J7*r,f=this.H7*o,d=this.q7*a,p=this.X7*r,m=this.Z7*o,g=this.K7*a,y=this.L7+c+f+d,w=this.O7+p+m+g,M=y-t,S=w-s,T=M*M+S*S;if(T<h){h=T,e=i,gm.x=y,gm.y=w,gm.t=r,gm.St=T,n=gm;break t}const b=mm[i-1];b.x=y,b.y=w,b.t=r,b.St=T,pm[i]=b}pm[3]=i[a],i=pm}while(r++<20);return n}h9(){this.K8=!0;let t=this.f9(0),s=this.d9(0),i=0;for(let e=1;e<=this.s9;e++){const n=this.f9(.01*e),r=this.d9(.01*e),h=t-n,o=s-r;i+=um.tr(h,o),this.i9[e]=i,t=n,s=r}this.e9=i}},um.c7=class{constructor(t,s,i){this.Aw=i,this.w9=t.v7(),this.M9=s.v7(),this.u9=0,this.l9=0}Yn(){}LG(){return"line"}$P(){return this.Aw}p7(t,s){this.u9=t,this.l9=s}Wb(){return this.w9+this.u9}Qb(){return this.M9+this.l9}}}{const ym=self.Gs;ym.j6=class extends ym.Un{constructor(t,s,i){super(),this.kc=i.Fj(),this.S9=i,this.T9=s,this.Hn=t,this.b9=[],this.v9=0,this.x9=null,this.I9=0,this.G9(),this.C9=null,this._9=null,this.A9=0,this.E9=0,this.D9=1,this.N9=0,this.L9=-1,this.O9=1,this.R9=!1,this.P9=!1,this.k9=!1,this.F9=!0,this.j9=!1,this.z9=!1,this.B9=-1,this.U9=!1,this.W9=!1,this.V9=!1,this.Y9=!1,this.Q9=NaN,this.J9=[""],this.H9="",this.q9=!1,this.R6=0,this.X9=0,this.Z9=null,this.K9=null}static F6(t,s){const i=s.U6(),e=i.ttt(),n=i.Ys(t[e]),r=ym.Vn(ym.j6,t[e],n,s);return r.stt(!0),r}static B6(t,s,i){return ym.Vn(ym.j6,t,s,i)}Yn(){if(this.EJ())return;const t=this.kc.yf();this.S9.y8(this),this.S9.T8(this);for(const t of this.b9)t.Yn();ym.Mh(this.b9),this.b9=null,this.kc=null,this.S9=null,this.T9=null,this.j9=!0,this.C9=null,this._9=null,this.itt(t)}itt(t){const s=ym.Vn(ym.Event,"timelinestatereleased");s.ett=this,t.dispatchEvent(s)}LG(){return 0}G9(){for(const t of this.T9.htt().ntt())this.v9=this.b9.push(ym.ott.EI(this,t))}att(){return this.S9}Fj(){return this.kc}e7(){return this.b9}utt(t,s,i,e){if(!this.X9)return;let n;for(let r=0;r<this.b9.length;r++){let h=this.b9[r];if(t!==h.iH())continue;const o=h.aH(i);o&&s.constructor===o.ltt().constructor&&o.m7()===e.m7()&&(n||(n=[]),n.push(o))}return n}J8(){return!!this.b9.length}i7(t){for(const s of this.b9)if(ym.Ze(s.hH(),t))return s;return null}ctt(t){for(const s of this.b9)if(!s.ftt()&&ym.Ze(s._c(),t))return s;return null}Dq(t){this.Hn=t}_c(){return this.Hn}dtt(){return this.T9}nV(){return this.T9._c()}kJ(){return this.T9.kJ()}PJ(t){this.T9.PJ(t)}ptt(){return this.T9.ptt()}mtt(t){this.T9.mtt(t)}gtt(){return this.T9.gtt()}ytt(t){this.T9.ytt(t)}m7(){return this.T9.m7()}wtt(t){this.T9.m7(t)}sH(t){for(const s of this.e7())s.sH(t)}jJ(){return this.T9.jJ()}FJ(t){return this.T9.FJ(t)}BJ(){return this.T9.BJ()}zJ(t){return this.T9.zJ(t)}iJ(){return this.T9.iJ()}Mtt(t){return this.T9.Mtt(t)}UJ(t){return this.D9=t}WJ(){return this.D9}k8(){return this.T9.k8()}Stt(){return this.T9.Stt()}Ttt(){return this.T9.Ttt()}btt(){return this.N9}vtt(){return!this.IsPlaying()||this.D9>0}YJ(){return this.C9||(this.C9=new Promise((t=>{this._9=t}))),this.C9}w8(){this.C9&&(this._9(),this.C9=null,this._9=null)}xtt(t){this.J9=ym.j6.Itt(t),this.q9=!0}VJ(){return this.J9}Gtt(){return this.q9&&(this.H9=this.J9.join(" ")),this.q9=!1,this.H9}OJ(t){if(!this.J9)return!1;if(!this.J9.length)return!1;const s=ym.j6.Itt(t);return!!s&&!!s.length&&s.every(ym.j6.Ctt,this)}_tt(){ym.Dj.Att&&this.constructor===ym.j6&&(ym.Dj.Att.Aj.Ett(this),this.S9.vV(ym.Dj.Att.Aj.Dtt),this.S9.vV(ym.Dj.Att.Aj.Ntt),this.S9.vV(ym.Dj.Att.Aj.Ltt),this.S9.vV(ym.Dj.Att.Aj.Ott),ym.Dj.Att.Aj.Rtt())}Ptt(){this.B9=this.kc.pF()}O8(){this.V9||(this.V9=!0,ym.Dj.Att&&this.constructor===ym.j6&&(ym.Dj.Att.Aj.Ett(this),this.S9.vV(ym.Dj.Att.Aj.ktt),this.S9.vV(ym.Dj.Att.Aj.Ftt),this.S9.vV(ym.Dj.Att.Aj.jtt),this.S9.vV(ym.Dj.Att.Aj.ztt),ym.Dj.Att.Aj.Rtt()))}p8(t){this.R9=t}Btt(){return this.B9===this.kc.pF()}IsPlaying(t=!1){return!!this.Btt()||!(!this.Utt()||t)||this.R9}Wtt(){return this.IsPlaying(!0)}HJ(){return this.Vtt()}Vtt(){return!(this.EJ()||this.Utt()||this.Wtt()||this.N8())}m8(t){this.P9=t}Utt(){return this.P9}Ytt(t){this.F9=t;const s=this.jJ(),i=this.BJ();if(s||i){if(s&&!i);else if(!s&&i){const t=this.GO();1===this.N9&&(t<=0||t>=this.kJ())&&(this.F9=!0)}}else{const t=this.GO();(t<=0||t>=this.kJ())&&(this.F9=!0)}}N8(){return this.F9}EJ(){return this.j9}g8(t){this.z9=t}b8(){return this.z9}Qtt(t){this.U9=t}Jtt(){return this.U9}stt(t){this.W9=!!t}Y6(){return this.W9}L8(){return this.k9}GO(){return this.A9}RJ(t){const s=this.GO();this.Htt(t),this.Ytt(!1),this.N8()||this.Qtt(!0),(this.Wtt()||this.Utt()||!this.k9)&&(this.Wtt()||this.Utt()||this.k9?this.Wtt()?this.NJ():this.Utt()&&(this.S9.y8(this),this.qtt()):this.qtt()),this.Xtt(),this.Ztt(this.GO(),!1,!0,!0,s),this.Ktt(),this.R6&&this.Fj().yj(),this.$tt()}Htt(t){ym.$i(t)||(t=this.kJ()),t<0?this.A9=0:t>=this.kJ()?this.A9=this.kJ():this.A9=t}tst(t){ym.$i(t)||(t=this.kJ()),t<0?this.A9=0:t>=this.kJ()?this.A9=this.kJ():this.A9=t;for(const t of this.b9)t.sst()}$tt(){ym.Dj.Att&&this.constructor===ym.j6&&(ym.Dj.Att.Aj.Ett(this),this.S9.vV(ym.Dj.Att.Aj.ist),this.S9.vV(ym.Dj.Att.Aj.est),this.S9.vV(ym.Dj.Att.Aj.nst),ym.Dj.Att.Aj.Rtt())}rst(){if(this.jJ())return!0;if(this.BJ()&&1===this.N9){if(this.vtt()){if(this.GO()>=this.kJ())return!1}else if(this.GO()<=0)return!1}else if(!this.jJ()&&!this.BJ())if(this.vtt()){if(this.GO()>=this.kJ())return!1}else if(this.GO()<=0)return!1;return!0}LJ(){this.EJ()||this.rst()&&this.Play(!0)}Play(t=!1){return!this.EJ()&&!this.Utt()&&(this.Wtt()&&this.Btt()?this.hst():!this.Wtt()&&!!(this.N8()||t||this.Jtt())&&this.ost())}hst(){return this.Qtt(!1),this.S9.c8(this),this.S9.d8(this),this.YJ(),!0}ost(){return this.Qtt(!1),this.S9.d8(this),this.YJ(),!0}NJ(t=!1){this.EJ()||(this.Ytt(t),this.S9.M8(this),this.N8()&&this.w8())}Ff(t=!0,s=!1){if(this.EJ())return;if(!this.Wtt()&&this.Utt())return this.S9.y8(this);if(this.N8())return;this.NJ(!0),this.vtt()?this.Htt(0):this.Htt(this.kJ());const i=this.GO();this.Xtt(),s?this.ast(i):this.Ztt(i,!1,!1,!0),t&&this.$tt(),this.Ktt(),this.R6&&t&&this.Fj().yj()}ust(){this.Ff(!1,!0)}ast(t){this.Ztt(t,!1,!1,!0,NaN,!1,!0)}v6(){return!!this.EJ()||!(!this.Fj().e5()&&this.lst())&&(this.S9.S8(this),this.Fj().e5()||this.ust(),!0)}qtt(){this.x8(!0)}v8(){this.x8(!1,!0),this.p8(!1),this.m8(!1)}x8(t=!1,s=!1){if(!this.b8()||s)if(t){this.V9=!1,this.k9=!0,this.Y9=!0,this.Xtt();for(const t of this.b9)t.x8();this.Ktt()}else if(this.p8(!0),this.m8(!1),this._tt(),this.N8()){this.B9=-1,0!==this.N9&&(this.D9=Math.abs(this.D9)),this.N9=0,this.L9=-1,this.O9=1,this.F9=!1,this.V9=!1,this.k9=!0,this.Y9=!0,this.vtt()?this.Htt(0):this.Htt(this.kJ()),this.Xtt();for(const t of this.b9)t.x8();this.Ktt()}else{-1!==this.L9&&(this.N9=this.L9),this.Y9=!0,this.V9=!1,this.Xtt();for(const t of this.b9)t.cst();this.Ktt()}}I8(){return this.R6}Xtt(){this.X9=0;for(const t of this.b9)t.SD()&&(this.X9=1)}Ktt(){this.R6=0;for(const t of this.b9)t.fst(),0===this.R6&&1===t.I8()&&(this.R6=1),this.x9||1!==t.dst()||(this.x9||(this.x9=[]),this.I9=this.x9.push(t))}_8(t,s,i){if(this.Ttt()){if(0===t&&0===this.Q9)return;this.Q9=t,t=i}else{if(0===i&&0===this.Q9)return;this.Q9=i,t=i,s=1}const e=this.A9+this.E9,n=e+t*s*this.D9,r=this.T9.pst;n<0?(this.A9=0,this.E9=-n):n>=r?(this.A9=r,this.E9=this.A9-n):(this.A9=n,this.E9=0);let h=!1,o=!1;const a=this.jJ(),u=this.BJ();let l;a||u?a&&!u?this.D9>0?this.A9>=r&&(this.tst(0),o=!0):this.A9<=0&&(this.tst(r),o=!0):!a&&u?this.D9>0?this.A9>=r&&(this.Htt(r),this.UJ(-1*this.WJ()),o=!0,1===this.N9?this.O9<this.iJ()?(this.O9++,this.N9=0):h=!0:0===this.N9&&(this.N9=1)):this.A9<=0&&(this.Htt(0),this.UJ(-1*this.WJ()),o=!0,1===this.N9?this.O9<this.iJ()?(this.O9++,this.N9=0):h=!0:0===this.N9&&(this.N9=1)):a&&u&&(this.D9>0?this.A9>=r&&(this.Htt(r),this.UJ(-1*this.WJ()),o=!0,this.N9++,ym.wrap(this.N9,0,2)):this.A9<=0&&(this.Htt(0),this.UJ(-1*this.WJ()),o=!0,this.N9++,ym.wrap(this.N9,0,2))):this.D9>0?this.A9>=r&&(this.O9<this.iJ()?(this.O9++,this.tst(0),o=!0):(this.Htt(r),h=!0)):this.A9<=0&&(this.O9<this.iJ()?(this.O9++,this.tst(r),o=!0):(this.Htt(0),h=!0));const c=this.v9;if(h){for(l=0;l<c;l++)this.b9[l].mst();return this.NJ(!0),void this.Ptt()}const f=this.I9;for(l=0;l<f;l++)this.x9[l].gst();if(1===this.X9)for(l=0;l<c;l++){const t=this.b9[l],s=t.yst();this.A9-s<0&&e-s>0?(this.A9=s<0?0:s>=r?r:s,t.wc(s,!0,!1,o,this.Y9,!1)):t.wc(this.A9,!0,!1,o,this.Y9,!1)}else for(l=0;l<c;l++)this.b9[l].wc(this.A9,!0,!1,o,this.Y9,!1);if(!this.IsPlaying()&&this.Z9){const t=this.Z9.GO()+this.Z9.Mst().wst().yst(),s=this.A9-t;this.A9-=s,0!==this.E9&&(this.E9-=s),this.Z9=null}for(l=0;l<f;l++)this.x9[l].Sst();this.Y9&&(this.Y9=!1)}Tst(t){this.Z9=t}bst(){return this.Z9}Ztt(t,s=!1,i=!1,e=!1,n=NaN,r=!1,h=!1){for(const t of this.b9)t.gst();for(const r of this.b9){let o=t;if("number"==typeof n&&!isNaN(n)){const t=this.GO()-r.yst(),s=n-r.yst();t<0&&s>0&&(o=r.yst(),this.Htt(o))}r.wc(o,s,i,e,this.Y9,h)}for(const t of this.b9)t.Sst();this.Y9&&r&&(this.Y9=!1)}vst(){const t=this.T9.htt().xst(),s=ym.ott.EI(this,t);return this.v9=this.b9.push(s),s}J6(){if(!this.EJ())for(const t of this.b9)t.Ist()}P8(){for(const t of this.b9)t.P8()}Gst(){for(const t of this.b9)t.Cst()}_st(t,s,i){if(s){if("number"==typeof i&&i>=0){const t=this.b9[i];if(!t)return;return t.Ast(s),void this.S9.t8(s.BW(),this)}for(const i of this.b9)if(i.ftt()){if(t){if(i.hH()!==t)continue;i.Ast(s),this.S9.t8(s.BW(),this);break}if(!i.Est()){i.Ast(s),this.S9.t8(s.BW(),this);break}}}}n8(t,s){for(const i of this.b9)if(i.ftt())if(s){if(s===i.hH()&&t===i.iH())return!0}else if(t===i.iH())return!0;return!1}D8(){return this.b9.some((t=>!t.ftt()||t.Dst()))}lst(){return this.b9.some((t=>{if(t.ftt()){if(!t.Dst())return!1;const s=t.BW();return!!s&&s.b0()}return!1}))}aH(t){for(const s of this.e7())for(const i of s.Nst())if(i.Lst()===t)return i}Ost(t){for(const s of this.b9)if(t===s.iH())return s;return null}Rst(t){let s=t?t.split(" "):[];const i=new Set(s.map((t=>t.toLowerCase().trim())));s=[...i.values()];for(const t of this.e7())for(const i of t.Pst())if(s.every((t=>i.kst(t))))return i}s8(){const t=[];for(const s of this.e7())t.push(s.BW());return t.filter((t=>t))}D6(){for(const t of this.e7())t.D6()}M3(){return{tracksJson:this.Fst(),name:this.Hn,playheadTime:this.GO(),playbackRate:this.D9,pingPongState:this.N9,resumePingPongState:this.L9,currentRepeatCount:this.O9,isPlaying:this.R9,isScheduled:this.P9,initialStateSet:this.k9,finishedTriggers:this.V9,complete:this.F9,released:this.j9,markedForRemoval:this.z9,completedTick:this.B9,implicitPause:this.U9,isTemplate:this.W9,tags:this.J9.join(" "),stringTags:this.H9,tagsChanged:this.q9,firstTick:this.Y9}}S3(t){t&&(this.jst(t.tracksJson),this.Hn=t.name,this.A9=t.playheadTime,this.D9=t.playbackRate,this.N9=t.pingPongState,this.L9=t.hasOwnProperty("resumePingPongState")?t.resumePingPongState:-1,this.O9=t.currentRepeatCount,this.R9=!!t.isPlaying,this.P9=!!t.isScheduled,this.k9=!!t.initialStateSet,this.V9=!!t.hasOwnProperty("finishedTriggers")&&!!t.finishedTriggers,this.F9=!!t.complete,this.j9=!!t.released,this.z9=!!t.markedForRemoval,this.B9=t.completedTick,this.U9=!!t.implicitPause,this.W9=!!t.isTemplate,this.J9=t.tags.split(" "),this.H9=t.stringTags,this.q9=!!t.tagsChanged,this.Y9=!!t.firstTick)}Fst(){return this.b9.map((t=>t.M3()))}jst(t){this.Gst(),t.forEach(((t,s)=>{this.b9[s].S3(t)})),this.b9.filter((t=>t.Dst()))}static Ctt(t){const s=this.VJ();return""===t?1===s.length&&""===s[0]:s.map((t=>t.toLowerCase())).includes(t.toLowerCase())}static Itt(t){if(ym.ve(t))return t.slice(0);if(ym.ae(t))return t.split(" ");throw new Error("invalid tags")}zst(){return this.K9||(this.K9=ym.Vn(self.XJ,this)),this.K9}}}{const wm=self.Gs;wm.ott=class extends wm.Un{constructor(t,s){super(),this.t7=t,this.Bst=s,this.Ust=s.htt(),this.Wst=NaN,this.Vst=NaN,this.Yst=null,this.Qst=null,this.Jst=!1,this.pD=s.yst()>0,this.Hst=!1,this.qst=!1,this.Xst=NaN,this.Zst=null,this.Kst=this.Bst.Mst().$st(),this.tit=[],this.sit(),this.iit=0,this.R6=0,this.eit=0}static EI(t,s){return wm.Vn(wm.ott,t,s)}Yn(){this.Kst=null;for(const t of this.tit)t.Yn();wm.Mh(this.tit),this.tit=null,this.t7=null,this.Yst=null,this.Qst=null,this.Bst=null,this.Zst=null}sit(){for(const t of this.Bst.rit().nit())this.tit.push(wm.hit.EI(this,t))}Ist(){for(const t of this.tit)t.Ist()}P8(){for(const t of this.tit)t.P8();this.Yst=null,this.Qst=null}oit(){return this.t7}Fj(){return this.t7.Fj()}Pst(){return this.Kst||(this.Kst=this.Bst.Mst().$st()),this.Kst}Nst(){return this.tit}aH(t){for(let s=0;s<this.tit.length;s++){const i=this.tit[s];if(i.Lst()===t)return i}}ait(){this.Yst||this.iH()}uit(){return!!this.Yst&&!this.Yst.YH()}Dst(){if(!this.ftt())return!1;const t=this.lit(),s=this.Fj().rj(t);return!!s&&!s.YH()}BW(){if(!this.ftt())return;const t=this.cit();return-1!==t?this.Fj().f0(t):void 0}fit(){return this.t7.e7().indexOf(this)}Cst(){this.Yst=null,this.Wst=NaN,this.Qst=null,this.Vst=NaN,this.Jst=!0}Est(){return!!this.Yst}iH(){if(this.Jst)return;if(this.Yst&&this.uit())return this.Yst;const t=this.lit();return this.Yst=this.Fj().rj(t),this.Yst}Ast(t){if(this.Jst=!1,this.Yst!==t){this.P8(),this.Yst=t,this.Vst=t.BW().$P(),this.Wst=t.tV(),this.Qst=t.lj();for(const s of this.dit()){const i=s.pit,e=s.mit;switch(i.git()){case"instance-variable":{e.yit();const i=t.BW(),n=i.wit(s.name),r=i.Mit(n),h=i.Sit(n);r===s.name&&h===s.type&&e.Tit(n);break}case"behavior":{const i=s.FQ,n=this.BW(),r=t.BW(),h=e.zQ(r);if(i&&h){const t=i._c();n.bit(t),r.bit(t),e.yit(),e.vit(h.W0())}break}}}}}*dit(){for(const t of this.tit){const s=t.ltt(),i=this.BW(),e={pit:t,mit:s};switch(t.git()){case"world-instance":e.xit=t.Lst();break;case"instance-variable":{const t=s.yit();e.name=i.Mit(t),e.type=i.Sit(t);break}case"effect":{const t=i.eU(),n=s.Iit(t);e.Git=n;break}case"behavior":{const t=s.zQ(i);e.FQ=t;break}case"plugin":e.SB=i.TB()}yield e}}lj(){if(this.Qst&&this.uit())return this.Qst;const t=this.iH();return t&&(this.Qst=t.lj()),this.Qst}wst(){return this.Bst}lit(){return isNaN(this.Wst)?this.Bst.lit():this.Wst}Cit(t){this.Bst.Cit(t)}gtt(){return this.Bst.gtt()}ytt(t){this.Bst.ytt(t)}m7(){return this.Bst.m7()}hH(){return this.Bst.hH()}yst(){return this.Bst.yst()}_it(){return this.Bst._it()}Ait(t){this.Bst.Ait(t)}wtt(t){this.Bst.wtt(t)}sH(t){for(const s of this.Pst())s.sH(t);for(const s of this.Nst())s.sH(t)}Eit(){return this.Bst.Eit()}Dit(t){this.Bst.Dit(t)}cit(){return isNaN(this.Vst)?this.Bst.cit():this.Vst}Nit(t){this.Bst.Nit(t)}Lit(t){this.Bst.Lit(t)}Oit(){const t=this.iH();return t&&t.EQ().Rit()?t.EQ().Oit():this.Bst.Oit()}Pit(t){this.Bst.Pit(t)}kit(){const t=this.iH();return t&&t.EQ().Rit()?t.EQ().kit():this.Bst.kit()}LG(){return this.Bst.LG()}_c(){return this.Bst._c()}ftt(){return 0===this.LG()}Fit(){return 1===this.LG()}jit(){return 2===this.LG()}zit(){return this.iit}I8(){return this.R6}dst(){return this.eit}SD(){return this.pD}sst(){for(const t of this.tit)t.sst()}x8(){if(this.ait(),!this.uit()&&this.ftt())return;const t=this.oit().vtt(),s=t?0:this._it();for(const t of this.tit)t.x8(s),0===this.iit&&1===t.zit()&&(this.iit=1),0===this.R6&&1===t.I8()&&(this.R6=1);this.eit=0,this.tit.some((t=>t.dst()))&&(this.eit=1),this.Zst=t?this.Bit(s):this.Uit(s),this.Hst=!1,this.qst=!1,this.wc(s),this.Wit(this.Zst)}cst(){if(this.ait(),!this.uit()&&this.ftt())return;const t=this.t7.vtt(),s=this.t7.GO()-this.yst();this.Zst=t?this.Bit(s):this.Uit(s);for(const t of this.tit)t.cst(s)}mst(){if(!this.oit().N8()&&(this.ait(),(this.uit()||!this.ftt())&&!this.pD)){const t=this.t7.GO();t>=this.yst()+this._it()?this.wc(this._it(),!0,!1,!0,!1,!1,!0):t<=0&&this.wc(0,!0,!1,!0,!1,!1,!0)}}fst(){for(let t=0,s=this.tit.length;t<s;t++){const s=this.tit[t];s.fst(),0===this.iit&&1===s.zit()&&(this.iit=1),0===this.R6&&1===s.I8()&&(this.R6=1)}}gst(){const t=this.tit.length;for(let s=0;s<t;s++)this.tit[s].gst()}wc(t,s=!1,i=!1,e=!1,n=!1,r=!1,h=!1){this.Yst||this.iH();const o=this.Yst&&!this.Yst.YH(),a=0===this.Bst.Yc;if((o||!a)&&!(r&&a&&this.BW().b0()||(t-=this.yst())<0)){this.Vit(t,s),this.Yit(t,s,n),!this.oit().IsPlaying()&&this.oit().bst()&&(t=this.oit().bst().GO());for(let s=0,n=this.tit.length;s<n;s++)this.tit[s].wc(t,i,e,h);this.Qit(t,s),0!==this.iit&&(this.Qst||(this.Qst=this.Yst.lj()),this.Qst&&this.Qst.KV())}}Sst(){const t=this.tit.length;for(let s=0;s<t;s++)this.tit[s].Sst()}Vit(t,s){if(s&&this.pD&&!this.Hst){if(this.oit().vtt()){if(t<0)return}else if(t>this._it())return;for(const t of this.tit)t.x8();this.Hst=!0}}Qit(t,s){if(s&&this.pD&&!this.qst)if(this.oit().vtt()){if(t>=this._it()){for(const t of this.tit)t.wc(this._it(),!1,!0);this.qst=!0}}else if(t<=0){for(const t of this.tit)t.wc(0,!1,!0);this.qst=!0}}Yit(t,s,i){if(i)return;if(!s)return;if(!wm.Dj.Att)return;const e=this.oit();if(e.vtt()){const s=this.Zst.o7(),i=this.Zst.GO(),n=s?s.GO():e.kJ();(t<=i||t>=n)&&(this.Zst=this.Ust.Jit(t,this.Bst),s&&this.Hit(this.Zst))}else{if(!this.Ust.qit(t,this.Bst))return;this.Zst||(this.Zst=this.Ust.qit(t,this.Bst));const s=this.Zst.Xit(),i=this.Zst.GO(),e=s?s.GO():0;(t>=i||t<=e)&&(this.Zst=this.Ust.qit(t,this.Bst),this.Zst&&this.Hit(this.Zst))}}Bit(t){return this.Ust.Zit(t,this.Bst)||this.Ust.Jit(t,this.Bst)}Uit(t){return this.Ust.Zit(t,this.Bst)||this.Ust.qit(t,this.Bst)}Hit(t,s=!1){if(!wm.Dj.Att)return;const i=this.oit(),e=i.att();wm.Dj.Att.Aj.Ett(i),wm.Dj.Att.Aj.Kit(t),e.vV(wm.Dj.Att.Aj.$it),e.vV(wm.Dj.Att.Aj.Hit),i.IsPlaying()||s||i.Tst(t),wm.Dj.Att.Aj.Rtt(i),wm.Dj.Att.Aj.tet(t)}Wit(t){this.Hit(t,!0)}iet(){return this.Bst.Mst().eet()}net(){const t=this.Bst.rit().ret(),s=wm.hit.EI(this,t);return this.tit.push(s),s}het(t){this.Bst.Mst().oet(t)}aet(t){for(const s of this.tit)s.aet(t)}uet(){for(const t of this.tit)t.uet()}let(){if(this.ait(),this.uit()||!this.ftt())for(const t of this.tit)t.let()}cet(){if(this.ait(),!this.uit()&&this.ftt())return;let t=!1;for(const s of this.tit){const i=s.cet();!t&&i&&(t=!0)}if(t){const t=this.iet();t.RJ(this.oit().GO()),t.sH("noease"),t.Dit(!0),t.xtt("")}}D6(){isNaN(this.Xst)||this.fet(this.Xst),this.Xst=NaN}M3(){const t=this.iH(),s=t?t.tV():this.lit();return{propertyTracksJson:this.det(),lastKeyframeDataItemJson:this.pet(),initialStateOfNestedSet:this.Hst,endStateOfNestedSet:this.qst,instanceUid:s,cleared:this.Jst}}S3(t){if(t){this.met(t.propertyTracksJson),this.yet(t.lastKeyframeDataItemJson),this.Xst=t.instanceUid,this.Hst=!1,t.hasOwnProperty.initialStateOfNestedSet&&(this.Hst=t.initialStateOfNestedSet),this.qst=!1,t.hasOwnProperty.endStateOfNestedSet&&(this.qst=t.endStateOfNestedSet),this.Jst=!!t.hasOwnProperty("cleared")&&t.cleared;for(const t of this.tit)0===this.iit&&1===t.zit()&&(this.iit=1),0===this.R6&&1===t.I8()&&(this.R6=1);this.eit=0,this.tit.some((t=>t.dst()))&&(this.eit=1)}}pet(){return this.Bst.Mst().wet(this.Zst)}det(){return this.tit.map((t=>t.M3()))}met(t){t.forEach(((t,s)=>{this.tit[s].S3(t)}))}fet(t){if(!wm.$i(t))return;const s=this.Fj().rj(t);s&&this.oit()._st(this.Bst.hH(),s,this.fit())}yet(t){const s=this.Bst.Mst();this.Zst=s.Met(t)}}}{const Mm=self.Gs;Mm.hit=class extends Mm.Un{constructor(t,s){super(),this.Tet=t,this.bet=s,this.vet=s.rit(),this.iit=0,this.R6=0,this.eit=0,this.xet=this.ltt(),this.Iet=this.bet.Cet().Get(),this._et=null,this.Aet=null}static EI(t,s){return Mm.Vn(Mm.hit,t,s)}Yn(){this.Tet=null,this.xet&&(this.xet.Yn(),this.xet=null),this.Iet=null,this.bet=null,this.vet=null}zit(){return this.iit}I8(){return this.R6}dst(){return this.eit}Eet(){return!!this.Aet}Det(t){this.Aet=t}Net(){return this.Aet}Let(){return this.Tet}Oet(){return this.bet}rit(){return this.vet}oit(){return this.Tet.oit()}Fj(){return this.Tet.Fj()}iH(){return this.Tet.iH()}ltt(){if(this.xet)return this.xet;let t;switch(this.bet.git()){case"behavior":t=new Mm.hit.Ret(this);break;case"effect":t=new Mm.hit.Pet(this),this.R6=1;break;case"instance-variable":t=new Mm.hit.ket(this);break;case"plugin":t=new Mm.hit.Fet(this),this.R6=1;break;case"world-instance":t=new Mm.hit.jet(this),this.R6=1,this.iit=1;break;case"value":t=new Mm.hit.zet(this);break;case"audio":t=new Mm.hit.Bet(this)}return this.xet=t,this.xet}git(){return this.bet.git()}Uet(t){this.bet.Uet(t)}Wet(){return this.bet.Vet()}Yet(t){this.bet.Qet(t)}oH(){return this.ltt().Jet()}Lst(){return this.bet.Het()}qet(t){this.bet.Xet(t)}Zet(){return this.bet.LG()}Ket(t){this.bet.$et(t)}tnt(){return this.rit().snt(this.bet).LG()}int(){return this.bet.int()}ent(t){this.bet.ent(t)}nnt(){return this.bet.nnt()}rnt(t){this.bet.rnt(t)}Eit(){return this.bet.Eit()}Dit(t){this.bet.Dit(t)}gtt(){return this.bet.gtt()}ytt(t){this.bet.ytt(t)}m7(){return this.bet.m7()}wtt(t){this.bet.wtt(t)}sH(t){for(const s of this.hnt())s.sH(t)}ont(){return this.bet.ont()}hnt(){return this.Iet||(this.Iet=this.bet.Cet().Get()),this.Iet}h7(){return this.bet.Cet().h7()}ant(t){return this.vet.ant(t,this.bet)}unt(t){return this.vet.unt(t,this.bet)}lnt(t){let s,i=this.vet.ant(t,this.bet);return i?s=this.vet.cnt(t,this.bet):(i=this.vet.unt(t,this.bet),s=this.vet.fnt(t,this.bet)),{start:i,end:s}}*dnt(){for(const t of this.hnt())yield t.v7()}*pnt(){for(const t of this.hnt())yield t.GO()}Ist(){this.ltt().Ist()}P8(){this.ltt().P8()}mnt(){return this.ltt().mnt()}sst(){this.ltt().sst()}x8(t){this.ltt().x8(),this._et=this.gnt(t),this.fst()}cst(t){this.ltt().cst(),this._et=this.gnt(t)}fst(){const t=this.Let();if(this.eit=0,t.ftt()){const s=this.oit(),i=t.iH(),e=this.ltt(),n=this.Lst();if(e.ynt()){const t=s.utt(i,e,n,this);t&&t.length&&(this.eit=1)}else this.eit=0}}gnt(t){const s=this.oit();return this.vet.ant(t,this.bet)||(s.vtt()?this.vet.unt(t,this.bet):this.vet.fnt(t,this.bet))}gst(){this.xet.gst()}wc(t,s=!1,i=!1,e=!1){let n,r,h=!1;if(s)n=this.vet.unt(t,this.bet);else{if(this._et){const s=this.oit(),i=this._et.o7(),e=this._et.GO(),n=i?i.GO():s.kJ();(t<=e||t>=n)&&(this._et=this.vet.unt(t,this.bet),h=!0)}else this._et=this.vet.unt(t,this.bet),h=!0;n=this._et}n&&(r=n.o7()),this.xet.wc(t,n,r,s,i,e,h)}wnt(t){if(this._et){const s=this.oit(),i=this._et.o7(),e=this._et.GO(),n=i?i.GO():s.kJ();(t<=e||t>=n)&&(this._et=this.vet.unt(t,this.bet))}else this._et=this.vet.unt(t,this.bet);const s=this._et,i=s.o7();return this.xet.wnt(t,s,i)}Mnt(t,s,i){return this.xet.wnt(t,s,i)}Sst(){this.xet.Sst()}static Snt(t,s){const i=s.Oet();return s.vet.unt(t,i)}static Tnt(t,s){const i=s.Oet();return s.vet.fnt(t,i)}bnt(){const t=this.bet.Cet().vnt();return this._et=null,t}aet(t){this._et=null,this.bet.Cet().xnt(t)}uet(){this.ltt().uet()}let(){if(this.ltt().let()){const t=this.vet.snt(this.bet),s=this.ltt().mnt();t.Int(s)}}cet(){const t=this.ltt().cet();return t&&this.Gnt(),this.ltt().Cnt(),t}Gnt(){const t=this.oit().GO(),s=this.ltt(),i=Mm.hit.Snt(t,this),e=this.bnt();e.$et(i.LG()),e.RJ(t),e.sH(i._nt()),e.Dit(!0),e.Ant(s.Ent()),e.Int(s.mnt())}M3(){return{sourceAdapterJson:this.ltt().M3()}}S3(t){t&&this.ltt().S3(t.sourceAdapterJson)}}}{const Sm=self.Gs.hit;Sm.jet=class{constructor(t){this.Dnt=t,this.Nnt=null,this.Lnt()}Yn(){this.Nnt&&(this.Nnt.Yn(),this.Nnt=null),this.Dnt=null}ynt(){return this.Nnt.ynt()}aH(){return this.Dnt}Ist(){this.Nnt&&this.Nnt.Ist()}P8(){this.Nnt&&this.Nnt.P8()}Lnt(){return this.Nnt||(this.Nnt=this.Ont()),this.Nnt}yit(){}$P(){return this.yit()}Rnt(){}sst(){this.Lnt().sst()}x8(){this.Lnt().x8()}cst(){this.Lnt().cst()}gst(){this.Nnt.Pnt()}wc(t,s,i,e,n,r,h){let o;switch(this.Dnt.tnt()){case"numeric":o=Sm.knt.wc(t,s,i,this.Dnt);break;case"angle":o=Sm.Fnt.wc(t,s,i,this.Dnt);break;case"boolean":o=Sm.jnt.wc(t,s,i,this.Dnt);break;case"color":o=Sm.znt.wc(t,s,i,this.Dnt);break;case"text":o=Sm.Bnt.wc(t,s,i,this.Dnt)}this.Nnt.Unt(t,o,s,i,e,n,r,h)}wnt(t,s,i){switch(this.Dnt.tnt()){case"numeric":return Sm.knt.wc(t,s,i,this.Dnt);case"angle":return Sm.Fnt.wc(t,s,i,this.Dnt);case"boolean":return Sm.jnt.wc(t,s,i,this.Dnt);case"color":return Sm.znt.wc(t,s,i,this.Dnt);case"text":return Sm.Bnt.wc(t,s,i,this.Dnt)}}Sst(){this.Nnt.Wnt()}uet(){this.Lnt().Vnt()}Cnt(){this.Lnt().Cnt()}mnt(){return this.Lnt().mnt()}let(){return this.Lnt().let()}cet(){return this.Lnt().cet()}Ent(){const t=this.Dnt,s=t.Let().oit().GO(),i=Sm.Snt(s,t),e=i.o7();switch(t.tnt()){case"numeric":return Sm.knt.wc(s,i,e,t);case"angle":return Sm.Fnt.wc(s,i,e,t);case"boolean":return Sm.jnt.wc(s,i,e,t);case"color":return Sm.znt.wc(s,i,e,t);case"text":return Sm.Bnt.wc(s,i,e,t)}}Ont(){const t=this.Dnt;switch(t.ont()?t.tnt():""){case"combo":case"boolean":case"text":case"string":return new Sm.Qnt.Ynt(this);case"numeric":case"number":case"angle":return"combo"===this.Dnt.Zet()?new Sm.Qnt.Ynt(this):new Sm.Qnt.Jnt(this);case"color":case"offsetColor":return new Sm.Qnt.Hnt(this);default:return new Sm.Qnt.Jnt(this)}}M3(){return{propertyAdapterJson:this.Lnt().M3()}}S3(t){t&&this.Lnt().S3(t.propertyAdapterJson)}}}{const Tm=self.Gs;class bm extends Tm.hit.jet{constructor(t){super(t),this.qnt=NaN}yit(){return this.Dnt.Oet().Vet()[0]}$P(){return this.qnt?this.qnt:super.$P()}Rnt(){return this.Dnt.Let().iH()}Tit(t){this.Dnt.Oet().Vet()[0]!==t&&(this.qnt=t)}wc(t,s,i,e,n,r,h){this.Lnt().Xnt(s.Jet())&&super.wc(t,s,i,e,n,r,h)}wnt(t,s,i){if(this.Lnt().Xnt(s.Jet()))return super.wnt(t,s,i)}M3(){return Object.assign(super.M3(),{index:this.qnt})}S3(t){t&&(super.S3(t),this.qnt=t.index)}}Tm.hit.ket=bm}{const vm=self.Gs;class xm extends vm.hit.jet{constructor(t){super(t),this.f$=NaN}yit(){return this.Dnt.Oet().Vet()[1]}Rnt(){const t=this.Dnt.Oet(),s=this.Dnt.Let(),i=this.f$?this.f$:t.Vet()[0],e=s.iH(),n=e.Znt(i);return e.Knt()[n].EQ()}zQ(t){const s=this.Dnt.Oet().Vet()[2];return t.$nt(s)}vit(t){this.Dnt.Oet().Vet()[0]!==t&&(this.f$=t)}wc(t,s,i,e,n,r,h){const o=this.Dnt.Let().iH();this.zQ(o.BW())&&super.wc(t,s,i,e,n,r,h)}wnt(t,s,i){const e=this.Dnt.Let().iH();if(this.zQ(e.BW()))return super.wnt(t,s,i)}M3(){return Object.assign(super.M3(),{sid:this.f$})}S3(t){t&&(super.S3(t),this.f$=t.sid)}}vm.hit.Ret=xm}{const Im=self.Gs;class Gm extends Im.hit.jet{constructor(t){super(t)}yit(){return this.Dnt.Oet().Vet()[1]}Rnt(){const t=this.Dnt.Let().lj().XV(),s=t.eU(),i=this.Iit(s).$P();return t.QQ(i)?t.trt(i):null}Iit(t){const s=this.Dnt.Oet().Vet()[0];return t.srt(s)}wc(t,s,i,e,n,r,h){this.irt()&&super.wc(t,s,i,e,n,r,h)}wnt(t,s,i){if(this.irt())return super.wnt(t,s,i)}irt(){const t=this.Dnt.Let().lj().XV(),s=t.eU(),i=this.Iit(s);if(!i)return;const e=i.$P();return t.QQ(e)}}Im.hit.Pet=Gm}{const Cm=self.Gs;class _m extends Cm.hit.jet{constructor(t){super(t)}yit(){return this.Dnt.Oet().Vet()[0]}Rnt(){return this.Dnt.Let().iH().EQ()}wc(t,s,i,e,n,r,h){const o=this.Dnt.Let();o.BW().TB()===o.iH().BW().TB()&&super.wc(t,s,i,e,n,r,h)}wnt(t,s,i){const e=this.Dnt.Let();if(e.BW().TB()===e.iH().BW().TB())return super.wnt(t,s,i)}ert(){const t=this.Dnt.Let(),s=t.BW().TB();if(Cm.Dj.nrt&&s instanceof Cm.Dj.nrt&&("initial-frame"===this.Dnt.Lst()||"initial-animation"===this.Dnt.Lst()))switch(this.Dnt.m7()){case"relative":return{rrt:(s,i,e,n,r)=>{if(i!==n){const e=n/i,r=t.aH("offsetWidth"),h=t.aH("offsetScaleX");if(r||h){const o=r?.ltt()?.Lnt(),a=h?.ltt()?.Lnt();if(s.JY()&&s.tQ())a&&a.hrt(n),s.Hg(this.ort(n,i,s,t,o,a));else{const i=n*((s.urt()?.art()??this.lrt(s,t))/this.lrt(s,t));a&&a.hrt(n);const r=o?.crt()??0,h=a?.crt()??0;s.Hg(i+(r+h*e))}}else s.Hg(s.Bg()*e)}if(e!==r){const i=r/e,n=t.aH("offsetHeight"),h=t.aH("offsetScaleY");if(n||h){const o=n?.ltt()?.Lnt(),a=h?.ltt()?.Lnt();if(s.JY()&&s.iQ())a&&a.hrt(r),s.Ug(this.frt(r,e,s,t,o,a));else{const e=r*((s.urt()?.drt()??this.prt(s,t))/this.prt(s,t));a&&a.hrt(r);const n=o?.crt()??0,h=a?.crt()??0;s.Ug(e+(n+h*i))}}else s.Ug(s.Zg()*i)}}};case"absolute":return null}}mrt(t,s,i,e=0){const n=s.oit().Ost(t.iH());if(!n)return e;const r=n.aH(i);if(!r)return e;const h=r.Oet().Cet();if(!h)return e;const o=h.grt();return o?o.Jet():e}lrt(t,s){const i=s.oit().Ost(t.iH());if(i)return i.Oit();const e=t.iH().EQ();return e.Rit()?e.Oit():t.urt().art()}prt(t,s){const i=s.oit().Ost(t.iH());if(i)return i.kit();const e=t.iH().EQ();return e.Rit()?e.kit():t.urt().drt()}ort(t,s,i,e,n,r){const h=i.urt().art(),o=h/i.OY().urt().art();let a=1;const u=r?.yrt()??0;if(0!==u){const t=h/this.lrt(i,e);a=(t+u)/(0===t?Number.EPSILON:t)}const l=h*(t/s);let c=n?.wrt()??0;c+=l-h;const f=(h+c)/(0===h?Number.EPSILON:h);return i.OY().Bg()*o*a*f}frt(t,s,i,e,n,r){const h=i.urt().drt(),o=h/i.OY().urt().drt();let a=1;const u=r?.Mrt()??0;if(0!==u){const t=h/this.prt(i,e);a=(t+u)/(0===t?Number.EPSILON:t)}const l=h*(t/s);let c=n?.Srt()??0;c+=l-h;const f=(h+c)/(0===h?Number.EPSILON:h);return i.OY().Zg()*o*a*f}}Cm.hit.Fet=_m}{const Am=self.Gs;class Em extends Am.hit.jet{constructor(t){super(t),this.Trt=0,this.brt=!1}ynt(){return!1}x8(){const t=this.Dnt.rit();let s=this.Dnt.Oet();s=t.snt(s),this.Trt=s.v7()}cst(){}Jet(){return this.brt||this.Dnt.wc(0),this.Trt}wc(t,s,i,e,n,r,h){this.Trt=Am.hit.knt.wc(t,s,i,this.Dnt),this.brt=!0}uet(){}Cnt(){}mnt(){return this.Trt}let(){return!1}cet(){return!1}M3(){return{value:this.Trt,init:this.brt}}S3(t){t&&(this.Trt=t.value,this.brt=!t.hasOwnProperty("init")||t.init)}}Am.hit.zet=Em}{const Dm=self.Gs;class Nm extends Dm.hit.jet{constructor(t){super(t),this.vrt=!1,this.xrt=null,this.Irt=null,this.Grt=null,this.t7=this.Dnt.oit(),this.Tet=this.Dnt.Let(),this.Crt=this.Dnt.Wet(),this._rt=this.Crt[0],this.Art=this.Crt[1],this.Crt[3]?this.Ert=this.Crt[3]:this.Ert=Math.random().toString(36).slice(2),this.Drt=NaN,this.Nrt=NaN,this.Lrt=NaN,this.Ort=null,this.Rrt()}Yn(){super.Yn(),this.xrt=null,this.Irt=null,this.Grt=null,this.t7=null,this.Tet=null,this.Crt=null,this._rt=null,this.Ort=null}Rrt(){if(!self.Gs.Dj.Audio)return;const t=this.Dnt.Fj().Prt(self.Gs.Dj.Audio);t&&(this.xrt=t.wB().EQ()),this.Irt=self.Gs.Dj.Audio.krt,this.Grt=self.Gs.Dj.Audio.Frt}jrt(){if(this.Ort)return;const t=this.Dnt.Let().aH("audioSource");t&&(this.Ort=t.ltt())}zrt(){const t=this.Dnt.Let().aH("volume");return t?t.ltt().Nrt:this.Nrt}Ist(){super.Ist(),this.vrt=!1,this.xrt&&(this.Grt&&(this.Drt=this.Grt.Brt.call(this.xrt,this.Ert),this.Nrt=this.Grt.Urt.call(this.xrt,this.Ert)),this.Irt&&this.Irt.NJ.call(this.xrt,this.Ert))}Wrt(){return this.Ert}Vrt(){return this.Lrt}Yrt(t){this.Lrt=t}x8(){super.x8(),this.Drt=NaN,this.vrt=!1}cst(){super.cst();const t=this.Dnt.oit().GO();switch(this.Drt=t-this.Art,this.Dnt.Lst()){case"audioSource":break;case"volume":this.Nrt=this.Dnt.wnt(t)}this.vrt=!1}wc(t,s,i,e,n,r,h){if(this.xrt)switch(this.Dnt.Lst()){case"audioSource":{if(!this.t7.vtt())return;if(e)return void(this.Irt&&this.Irt.NJ.call(this.xrt,this.Ert));if(t<this.Art)return void(this.vrt=!1);const s=this.Grt.Qrt.call(this.xrt,this.Ert),i=this.t7.WJ();if(i!==s&&this.Irt.UJ.call(this.xrt,this.Ert,i),this.vrt)return;if(!this.Dnt.oit().IsPlaying())return;if(this.vrt=!0,isNaN(this.Drt)){const s=self.performance.now(),i=t-this.Art;if("suspended"===this.xrt.Jrt())return void(this.vrt=!1);const e=i+(self.performance.now()-s)/1e3;if(this.Irt){let t=this.Vrt();isNaN(t)?(this.Yrt(0),t=0):this.Yrt(t),this.Irt.Hrt.call(this.xrt,this._rt,t,this.Ert,e)}}else{const t=this.Drt;this.Drt=NaN;const s=this.zrt();if(this.Nrt=NaN,"suspended"===this.xrt.Jrt())return void(this.vrt=!1);this.Irt&&(this.Yrt(s),this.Irt.Hrt.call(this.xrt,this._rt,s,this.Ert,t))}break}case"volume":this.jrt(),super.wc(t,s,i,e,n,r,h)}}wnt(t,s,i){if(this.xrt)switch(this.Dnt.Lst()){case"audioSource":return;case"volume":return this.jrt(),super.wnt(t,s,i)}}qrt(t,s){return this.Ort?this.Ort.Vrt():0}Xrt(t,s,i,e){this.Ort&&this.Ort.Yrt(this.qrt()+s),this.Irt&&this.Ort&&this.Irt.Yrt.call(this.xrt,this.Ort.Wrt(),this.Ort.Vrt())}Zrt(t,s,i){this.Ort&&this.Ort.Yrt(s),this.Irt&&this.Ort&&this.Irt.Yrt.call(this.xrt,this.Ort.Wrt(),this.Ort.Vrt())}Krt(){return!0}M3(){return{audioPlaybackStarted:this.vrt,audioTag:this.Ert,pauseTime:this.Drt,pauseVolume:this.Nrt,volume:this.Lrt}}S3(t){t&&(this.vrt=t.audioPlaybackStarted,this.Ert=t.audioTag,this.Drt=t.pauseTime,this.Nrt=t.pauseVolume,this.Lrt=t.volume,this.Rrt())}}Dm.hit.Bet=Nm}self.Gs.hit.Qnt=class{constructor(t){this.xet=t,this.Dnt=t.aH(),this.Qst=this.Dnt.Let().lj(),this.$rt=this.Dnt.Lst(),this.tht=!1,this.sht=null,this.iht=null}Yn(){this.xet=null,this.Dnt=null,this.Qst=null,this.sht=null,this.iht=null}ynt(){return!1}Ist(){}P8(){this.Qst=null,this.sht=null,this.iht=null}ltt(){return this.xet}aH(){return this.Dnt}lj(){return this.Qst||(this.Qst=this.Dnt.Let().lj()),this.Qst}eht(t){this.tht=!!t}nht(){return this.tht}sst(){}x8(){}cst(){}Vnt(){this.sht=this.mnt()}Cnt(){this.sht=null}mnt(){}let(){}cet(){}Xnt(t){return typeof this.rht()==typeof t}Pnt(){}Unt(t,s,i,e,n,r,h,o){}Wnt(){}hht(){return this.aht((()=>{const t=this.Dnt.Oet();return this.Dnt.rit().snt(t)}),(()=>{const t=this.Dnt.Oet();return this.Dnt.rit().grt(t)})).oht()}uht(){const t=this.Dnt.oit().GO()-this.Dnt.Let().yst();return this.aht((()=>{const s=this.Dnt.Oet();return this.Dnt.rit().unt(t,s)}),(()=>{const s=this.Dnt.Oet(),i=this.Dnt.rit();return i.fnt(t,s)||i.grt(s)})).oht()}aht(t,s){return this.Dnt.oit().vtt()?t():s()}lht(t,s){return"relative"===this.Dnt.m7()?t():s()}cht(t,s){return this.nht()?(this.eht(!1),t()):s()}fht(t){}dht(){return this.xet.$P()}pht(){return this.iht||(this.iht=this.xet.Rnt()),this.iht}mht(t,s,i,e,n,r){switch(this.Dnt.git()){case"behavior":return t();case"effect":return s();case"instance-variable":return i();case"plugin":return e();case"world-instance":return n();case"audio":return r()}}M3(){return{firstAbsoluteUpdate:this.tht,saveState:this.sht}}S3(t){t&&(this.tht=t.firstAbsoluteUpdate,this.sht=t.saveState)}ght(t,s=!1){const i=[];for(const e of t){const t=e.Let().yst();for(const n of e.hnt())s&&0===n.GO()?i.push({time:t+n.GO(),value:n.oht()}):s||i.push({time:t+n.GO(),value:n.oht()})}return i.sort(((t,s)=>t.time-s.time))}yht(t,s,i){return this.wht(s,i)}wht(t,s){for(let i=s.length-1;i>=0;i--)if(s[i].time<=t)return s[i];return null}};{const Lm=self.Gs,Om=new Map,Rm=[0,0,0];class Pm extends Lm.hit.Qnt{constructor(t){super(t)}sst(){}x8(){}cst(){}mnt(){const t=this.Dnt.git(),s=this.pht(),i=this.dht();switch(t){case"behavior":case"plugin":return this.Mht(s.Sht(i));case"effect":return this.Mht(s[i]);case"world-instance":return this.Mht(this.rht())}}let(){const t=this.hht();return!this.Tht(t,this.rht())}cet(){return!Lm.ie(this.sht)&&!this.Tht(this.sht,this.rht())}Tht(t,s){return t=this.bht(t),s=this.bht(s),t.Vo(s)}hht(){const t=super.hht();return this.bht(t)}uht(){const t=super.uht();return this.bht(t)}fht(t){}Mht(t){return Lm.Pe(t,Lm.vo)?t.toArray().slice(0,3):t.slice(0,3)}bht(t){return Lm.Pe(t,Lm.vo)?t:new Lm.vo(t[0],t[1],t[2],1)}Xnt(t){return!0}ynt(){return!0}Pnt(){const t=this.Dnt.oit(),s=this.Dnt.iH(),i=this.Dnt.ltt(),e=t.utt(s,i,this.$rt,this.Dnt);if(e&&e.length>1){Om.has(s)||Om.set(s,new Map);const t=Om.get(s),i=this.Dnt.git();t.has(i)||t.set(i,new Map);const e=t.get(i);e.has(this.$rt)||e.set(this.$rt,{vht:!1,color:new Lm.vo(0,0,0,1)})}}xht(t,s,i){const e=Om.get(t).get(s).get(i);return e.vht=!0,e.color}Unt(t,s,i,e,n,r,h,o){const a=this.Dnt.oit(),u=this.Dnt.Let(),l=this.Dnt.iH(),c=this.Dnt.ltt(),f=this.Dnt.git(),d=this.$rt,p=a.utt(l,c,d,this.Dnt);if(p&&p.length>1){const t=this.ght(p,!0),i=this.yht(a,a.GO(),t);if(i){const t=u.yst(),e=i.time-t;if(0===e)this.xht(l,f,this.$rt).Eo(s[0],s[1],s[2]);else{if(e<0)return;const t=s[0],i=s[1],n=s[2],r=this.Dnt.wc(e,!1,!0),h=Lm.vo.Ta(t,r[0]),o=Lm.vo.Ta(i,r[1]),a=Lm.vo.Ta(n,r[2]);this.xht(l,f,this.$rt).Eo(h,o,a)}}}else this.Iht(s[0],s[1],s[2])}Wnt(){const t=this.Dnt.iH();if(!Om.has(t))return;const s=Om.get(t),i=this.Dnt.git();if(!s.has(i))return;const e=s.get(i);if(!e.has(this.$rt))return;const n=e.get(this.$rt),r=n.vht,h=n.color;r&&this.Iht(h.ko(),h.Fo(),h.jo()),0===e.size&&s.delete(i),0===s.size&&Om.delete(t)}rht(){const t=this.Dnt.git(),s=this.pht(),i=this.dht();switch(t){case"behavior":case"plugin":return this.bht(s.Sht(i));case"effect":return s[i].clone();case"world-instance":return this.lj().SY().clone()}}Iht(t,s,i){const e=this.Dnt.git(),n=this.pht(),r=this.dht();switch(e){case"behavior":case"plugin":Rm[0]=t,Rm[1]=s,Rm[2]=i,n.Ght(r,Rm);break;case"effect":n[r].Ao(t,s,i);break;case"world-instance":this.lj().Cht(t,s,i)}}M3(){}S3(t){}}Lm.hit.Qnt.Hnt=Pm}{const km=self.Gs,Fm=km.hit;class jm extends km.hit.Qnt{constructor(t){super(t)}sst(){}x8(){}cst(){}mnt(){return this.rht()}let(){return this.hht()!==this.mnt()}cet(){return!km.ie(this.sht)&&this.sht!==this.mnt()}ynt(){return!1}Unt(t,s,i,e,n,r,h,o){const a=this.Dnt,u=a.Let(),l=a.git(),c=a.oit(),f=u.iH(),d=a.ltt(),p=this.$rt,m=c.utt(f,d,p,a);if(m&&m.length>1){const i=this.ght(m),e=t+u.yst(),n=this.yht(c,e,i);n&&(s=n.value)}switch(a.tnt()){case"numeric":if(!Fm.knt._ht(this.dht(),this.pht(),s,l))return;break;case"angle":if(!Fm.Fnt._ht(this.dht(),this.pht(),s,l))return;break;case"boolean":if(!Fm.jnt._ht(this.dht(),this.pht(),s,l))return;break;case"color":if(!Fm.znt._ht(this.dht(),this.pht(),s,l))return;break;case"text":if(!Fm.Bnt._ht(this.dht(),this.pht(),s,l))return}this.Iht(s)}rht(){const t=this.Dnt.git(),s=this.pht(),i=this.dht();switch(t){case"behavior":case"plugin":return s.Sht(i);case"effect":return s[i];case"instance-variable":return s.Aht(i)}}Iht(t){const s=this.Dnt.git(),i=this.pht(),e=this.dht();switch(s){case"behavior":case"plugin":i.Ght(e,t);break;case"effect":i[e]=t;break;case"instance-variable":i.Eht(e,t)}}}km.hit.Qnt.Ynt=jm}{const zm=self.Gs,Bm=(zm.hit.Qnt,new Map),Um=(t,s,i,e,n,r=!1,h=null,o=null)=>{Bm.set(t,{Dht:s,Nht:i,Lht:e,round:n,Oht:r,init:h,reset:o})},Wm=(t,s,i,e=0)=>{const n=s.oit().Ost(t.iH());if(!n)return e;const r=n.aH(i);if(!r)return e;const h=r.Oet().Cet();if(!h)return e;const o=h.grt();return o?o.Jet():e},Vm=t=>{const s=[];let i=t.OY();for(;i;)s.push(i),i=i.OY();return s.reverse(),s};Um("offsetX",((t,s,i,e)=>{"relative"===e.Dnt.m7()?t.Rht(s,i.oit().Stt()):t.Rht(s)}),((t,s)=>t.Vb(s)),(t=>t.Wb()),!0),Um("offsetY",((t,s,i,e)=>{"relative"===e.Dnt.m7()?t.Pht(s,i.oit().Stt()):t.Pht(s)}),((t,s)=>t.Jb(s)),(t=>t.Qb()),!0),Um("offsetWidth",((t,s,i,e,n=!1,r=!0)=>{if(0===s)return;const h="relative"===e.Dnt.m7(),o=1===e.kht.LG();if((h||o)&&t.JY()&&t.tQ()){if(isNaN(e.Fht)){const s=Vm(t);let i;i=o?s[s.length-1].Bg():s[s.length-1].urt().art(),e.Fht=0===i?Number.EPSILON:i}if(n)return;e.jht+=s;const i=s/e.Fht;t.xy(i,r),e.zht+=i}else t.xy(s),e.zht+=s}),((t,s)=>t.Hg(s)),(t=>t.Bg()),!0,!1,null,(t=>{t.zht=0,t.jht=0})),Um("offsetHeight",((t,s,i,e,n=!1,r=!0)=>{if(0===s)return;const h="relative"===e.Dnt.m7(),o=1===e.kht.LG();if((h||o)&&t.JY()&&t.iQ()){if(isNaN(e.Fht)){const s=Vm(t);let i;i=o?s[s.length-1].Zg():s[s.length-1].urt().drt(),e.Fht=0===i?Number.EPSILON:i}if(n)return;e.Bht+=s;const i=s/e.Fht;t.Uht(i,r),e.zht+=i}else t.Uht(s),e.zht+=s}),((t,s)=>t.Ug(s)),(t=>t.Zg()),!0,!1,null,(t=>{t.zht=0,t.Bht=0})),Um("offsetAngle",((t,s,i,e,n)=>{t.Wht(s)}),((t,s)=>t.uU(s)),(t=>t.lU()),!1,!0),Um("offsetOpacity",((t,s,i,e,n)=>{s/=e.Vht?e.Vht:1;const r=t.$N()+s;if(0===e.Yht)r>1?e.Yht+=r-1:r<0&&(e.Yht+=r),t.Qht(s);else{const i=t.$N()+s;s>0&&e.Yht>0?i>1&&(e.Yht+=i-1):s>0&&e.Yht<0?(e.Yht+=s,e.Yht>0&&(t.Qht(e.Yht),e.Yht=0)):s<0&&e.Yht>0?(e.Yht+=s,e.Yht<0&&(t.Qht(e.Yht),e.Yht=0)):s<0&&e.Yht<0&&i<0&&(e.Yht+=i)}}),((t,s)=>{t.sL(s)}),(t=>t.$N()),!1,!0,((t,s,i)=>{switch(t.Yht=0,t.Dnt.m7()){case"relative":{t.Dnt.rit();const s=t.Dnt.Oet().Cet().Get();let i=t.lj().$N(),e=i;for(const n of s){const s=n.GO();e=i+t.Dnt.wnt(s),e=zm.Xn(e,0,1)}t.Jht=i-e,t.Jht=Math.round(100*(t.Jht+Number.EPSILON))/100,e=i;for(let i=s.length-1;i>=0;i--){const n=s[i].GO();e-=t.Dnt.wnt(n),e=zm.Xn(e,0,1)}t.Hht=e,t.Hht=Math.round(100*(t.Hht+Number.EPSILON))/100;break}}const e="relative"===t.Dnt.m7(),n=1===t.kht.LG();if((e||n)&&s.JY()&&s.aQ()){const e=Vm(s);let n=e[0].urt().qht();n+=Wm(e[0],i,"offsetOpacity");for(let t=1;t<e.length;t++)n+=Wm(e[t],i,"offsetOpacity");t.Vht=0===n?1:n}}),(t=>{switch(t.Dnt.m7()){case"relative":{t.Yht=0;const s=t.lj();let i=s.$N();i=Math.round(100*(i+Number.EPSILON))/100,t.Dnt.oit().vtt()?(s.sL(i+t.Jht),t.vC=0):(s.sL(i-t.Hht),t.vC=t.ltt().Ent());break}}})),Um("offsetOriginX",((t,s)=>t.Xht(s)),((t,s)=>t.nY(s)),(t=>t.eY()),!1),Um("offsetOriginY",((t,s)=>t.Zht(s)),((t,s)=>t.oY(s)),(t=>t.hY()),!1),Um("offsetZElevation",((t,s)=>t.Kht(s)),((t,s)=>t.qb(s)),(t=>t.Hb()),!0),Um("offsetScaleX",((t,s,i,e)=>{if(0===s)return;const n=t.Bg()<0?-1:1;if(e.$ht+=s,"relative"===e.Dnt.m7()&&t.JY()&&t.tQ()){const r=Wm(t,i,"offsetWidth"),h=isNaN(e.tot)?i.Oit():e.tot,o=(h+r/(t.urt().art()/h))*n*s;isNaN(e.Fht)&&Bm.get("offsetWidth").Dht(t,1,i,e,!0);const a=o/e.Fht;t.xy(a,!0),e.zht+=a}else{const r=(isNaN(e.tot)?i.Oit():e.tot)*n*s;t.xy(r),e.zht+=r}}),((t,s,i)=>{t.Hg(i.Oit()*s)}),((t,s)=>{const i=t.Bg()<0?-1:1;if(t.tQ()){const e=t.OY(),n=s.oit().Ost(e.iH());let r=NaN;if(n)r=e.Bg()/n.Oit();else{const t=e.iH().EQ();r=t.Rit()?e.Bg()/t.Oit():1}return t.Bg()*i/(s.Oit()*r)}return t.Bg()*i/s.Oit()}),!1,!1,null,(t=>{t.zht=0,t.tot=NaN,t.$ht=0})),Um("offsetScaleY",((t,s,i,e)=>{if(0===s)return;const n=t.Zg()<0?-1:1;if(e.sot+=s,"relative"===e.Dnt.m7()&&t.JY()&&t.iQ()){const r=Wm(t,i,"offsetHeight"),h=isNaN(e.tot)?i.kit():e.tot,o=(h+r/(t.urt().drt()/h))*n*s;isNaN(e.Fht)&&Bm.get("offsetHeight").Dht(t,1,i,e,!0);const a=o/e.Fht;t.Uht(a,!0),e.zht+=a}else{const r=(isNaN(e.tot)?i.kit():e.tot)*n*s;t.Uht(r),e.zht+=r}}),((t,s,i)=>{t.Ug(i.kit()*s)}),((t,s)=>{const i=t.Zg()<0?-1:1;if(t.iQ()){const e=t.OY(),n=s.oit().Ost(e.iH());let r=NaN;if(n)r=e.Zg()/n.kit();else{const t=e.iH().EQ();r=t.Rit()?e.Zg()/t.kit():1}return t.Zg()*i/(s.kit()*r)}return t.Zg()*i/s.kit()}),!1,!1,null,(t=>{t.zht=0,t.tot=NaN,t.sot=0}));class Ym extends zm.hit.Qnt{constructor(t){super(t),this.vC=0,this.Yht=0,this.Jht=0,this.Hht=0,this.Vht=NaN,this.Fht=NaN,this.zht=0,this.tot=NaN,this.jht=0,this.$ht=0,this.Bht=0,this.sot=0,this.iot=void 0,this.eot=void 0,this.not=null,this.rot=null,this.hot=null,this.oot=null,this.aot=null,this.uot=null,this.lot=null,this.cot=null,this.fot=!1,this.dot=!1,zm.Pe(this.Dnt.oit(),zm.pot)?this.kht=new zm.hit.Qnt.mot(this):this.kht=new zm.hit.Qnt.got(this);const s=this.Dnt.Lst();switch(this.Dnt.git()){case"world-instance":{const t=Bm.get(s);this.not=t.Lht,this.rot=t.Dht,this.hot=t.Nht,this.fot=t.round,this.dot=t.Oht,this.aot=t.init,this.oot=t.reset;break}case"audio":this.uot=t.qrt,this.lot=t.Xrt,this.cot=t.Zrt,this.fot=!!t.Krt(),this.dot=!1}}Yn(){this.kht=null,this.not=null,this.rot=null,this.hot=null,this.oot=null,this.aot=null,this.uot=null,this.lot=null,this.cot=null,super.Yn()}ynt(){return this.kht.ynt()}yot(){return this.vC}wot(t){this.vC=t}sst(){this.oot&&this.oot(this)}x8(){const t=this.kht.x8();if("number"==typeof t&&(this.vC=t),this.aot){const t=this.lj(),s=this.Dnt.Let();this.aot(this,t,s)}}cst(){const t=this.kht.cst();"number"==typeof t&&(this.vC=t)}mnt(){return this.rht()}let(){return this.hht()!==this.mnt()}cet(){return!zm.ie(this.sht)&&this.sht!==this.mnt()}Pnt(){this.kht.Pnt()}Unt(t,s,i,e,n,r,h,o){return this.kht.Unt(t,s,i,e,n,r,h,o)}Wnt(){this.kht.Wnt()}rht(){const t=this.pht(),s=this.dht(),i=this.lj(),e=this.Dnt.Let();switch(this.Dnt.git()){case"behavior":case"plugin":return t.Sht(s);case"effect":return t[s];case"instance-variable":return t.Aht(s);case"world-instance":return this.not(i,e);case"audio":return this.uot.call(this.ltt(),i,e)}}Iht(t,s,i,e=!0){const n=this.pht(),r=this.dht(),h=this.lj(),o=this.Dnt.Let();switch(this.Dnt.git()){case"behavior":n.Mot(r,t);break;case"effect":n[r]+=t;break;case"instance-variable":n.Sot(r,t);break;case"plugin":n.Mot(r,t,this.ltt().ert());break;case"world-instance":this.rot(h,t,o,this,!1,e);break;case"audio":this.lot.call(this.ltt(),h,t,o,this)}}Tot(t,s,i){let e=this.Dnt.gtt();if(e="default"===e?"continuous":e,"discrete"===e&&!s)return;if("discrete"===e&&i){const t=this.Dnt.oit().GO();if(!this.Dnt.ant(t))return}const n=this.pht(),r=this.dht(),h=this.lj(),o=this.Dnt.Let();switch(this.Dnt.git()){case"behavior":n.Ght(r,t);break;case"effect":n[r]=t;break;case"instance-variable":n.Eht(r,t);break;case"plugin":n.Ght(r,t,this.ltt().ert());break;case"world-instance":this.hot(h,t,o);break;case"audio":this.cot.call(this.ltt(),h,t,o)}}bot(t,s,i,e,n,r,h,o){this.kht.bot(t,s,i,e,n,r,h,o)}vot(t,s,i,e,n){"angle"===this.Dnt.Zet()&&(t=zm.$n(t));const r=(t.toString().split(".")[1]||"").length,h=this.rht();let o;switch(o=0===r?this.fot?Math.round(h):this.dot?"angle"===this.Dnt.Zet()?zm.Kn(Math.round(zm.$n(h))):Number(zm.toFixed(h,2)):h:this.fot?Number(zm.toFixed(h,r)):(this.dot,h),this.Iht(o-h,s,i,!1),this.Dnt.Lst()){case"offsetWidth":case"offsetScaleX":{const t=this.lj(),s=t.Bg(),i=Number(zm.toFixed(s,2));t.xy(i-s);break}case"offsetHeight":case"offsetScaleY":{const t=this.lj(),s=t.Zg(),i=Number(zm.toFixed(s,2));t.Uht(i-s);break}}}M3(){return Object.assign(super.M3(),{v:this.vC,a:this.Yht,fod:this.Jht,bod:this.Hht,of:this.Vht,sf:this.Fht,armorf:this.iot,armandf:this.eot,ca:this.zht,os:this.tot,awo:this.jht,aho:this.Bht,asxo:this.$ht,asyo:this.sot})}S3(t){t&&(super.S3(t),this.vC=t.v,this.Yht=t.a,this.Jht=zm.$i(t.fod)?t.fod:0,this.Hht=zm.$i(t.bod)?t.bod:0,this.Vht=zm.$i(t.of)?t.of:NaN,this.Fht=zm.$i(t.sf)?t.sf:NaN,this.iot=zm.$i(t.armorf)?t.armorf:void 0,this.eot=zm.$i(t.armandf)?t.armandf:void 0,this.zht=zm.$i(t.ca)?t.ca:0,this.tot=zm.$i(t.os)?t.os:NaN,this.jht=zm.$i(t.awo)?t.awo:0,this.Bht=zm.$i(t.aho)?t.aho:0,this.$ht=zm.$i(t.asxo)?t.asxo:0,this.sot=zm.$i(t.asyo)?t.asyo:0)}hrt(t){this.tot=t}crt(){return this.zht}wrt(){return this.jht}Srt(){return this.Bht}yrt(){return this.$ht}Mrt(){return this.sot}}zm.hit.Qnt.Jnt=Ym}{const Qm=self.Gs;class Jm{constructor(t){this.xot=!1,this.Trt=0,this.Iot=!1,this.Got=!1,this.tit=t;for(let t=0,s=this.tit.length;t<s;t++)this.tit[t].Det(this)}Nst(){return this.tit}Cot(){this.xot=!0}_ot(){return this.xot}Ant(t){this.Trt=t}Jet(){return this.Trt}Aot(t){this.Iot=t}Eot(){return this.Iot}mst(t){this.Got=t}Dot(){return this.Got}Ff(){this.xot=!1,this.Trt=0,this.Iot=!1,this.Got=!1}}class Hm{constructor(t){this.Not=t}Yn(){this.Not=null}LG(){return 0}x8(){const t=this.Not;return this.Not.aH(),t.lht((()=>t.aht((()=>0),(()=>t.ltt().Ent()))),(()=>{}))}cst(){}ynt(){switch(this.Not,this.Not.aH().m7()){case"relative":return!1;case"absolute":return!0}}Pnt(){this.Not;const t=this.Not.aH(),s=t.Lst();switch(t.m7()){case"relative":break;case"absolute":if(t.Eet())t.Net().Ff();else{const i=t.oit(),e=t.iH(),n=t.ltt(),r=i.utt(e,n,s,t);r&&r.length>1&&new Jm(r)}}}Unt(t,s,i,e,n,r,h,o){const a=this.Not,u=this.Not.aH();switch(u.m7()){case"relative":{const h=a.yot();a.Iht(s-h,i,e),r&&this.bot(t,i,e,n,h,s),a.wot(s);break}case"absolute":{const t=u.oit(),i=u.Let();if(u.iH(),u.ltt(),u.Eet()){const e=u.Net(),n=e.Nst(),r=a.ght(n,!0),l=a.yht(t,t.GO(),r);if(l){const t=i.yst(),n=l.time-t;if(0===n)e.mst(h),e.Aot(o),e.Cot(),e.Ant(e.Jet()+s);else{if(n<0)return;const t=u.wnt(n);e.mst(h),e.Aot(o),e.Cot(),e.Ant(e.Jet()+(s-t))}}}else a.Tot(s,o,h);break}}}Wnt(){const t=this.Not,s=this.Not.aH();switch(s.m7()){case"relative":break;case"absolute":if(s.Eet()){const i=s.Net();i._ot()&&t.Tot(i.Jet(),i.Eot(),i.Dot())}}}bot(t,s,i,e,n,r){const h=this.Not;e||(s&&t===s.GO()?h.vot(s.v7(),s,i):i&&t===i.GO()?h.vot(i.v7(),s,i):r-n==0&&h.vot(s.v7(),s,i))}}Qm.hit.Qnt.got=Hm}{const qm=self.Gs;class Xm{constructor(t){this.Not=t}Yn(){this.Not=null}LG(){return 1}x8(){const t=this.Not;return t.eht(!0),this.fht(t.hht())}cst(){const t=this.Not;if(t.hht()!==t.uht())return t.eht(!0),this.fht(t.uht())}ynt(){return!1}Pnt(){}Unt(t,s,i,e,n,r,h,o){const a=this.Not,u=a.yot();switch(a.aH().m7()){case"relative":a.Iht(s-u,i,e),r&&this.bot(t,i,e,n,u,s,!1,h);break;case"absolute":a.nht()?(a.eht(!1),a.Iht(u,i,e)):0===t&&0===a.aH().oit().kJ()?a.Tot(s,!0,!1):(a.Iht(s-u,i,e),r&&this.bot(t,i,e,n,u,s,this.Lot(),h))}a.wot(s)}Wnt(){}fht(t){return t-this.Not.mnt()}Lot(){const t=this.Not,s=t.lj().iH(),i=t.aH().Fj().att();let e=0;for(const t of i.K6())0===t.LG()?t.n8(s)&&e++:1===t.LG()&&t.iH()===s&&e++;return e<=1}bot(t,s,i,e,n,r,h,o){const a=this.Not;e?s&&t===s.GO()?a.vot(s.v7(),s,i,h,o):i&&t===i.GO()?a.vot(i.v7(),s,i,h,o):i||a.vot(s.v7(),s,i,h,o):s&&t===s.GO()?a.vot(s.v7(),s,i,h,o):i&&t===i.GO()?a.vot(i.v7(),s,i,h,o):r-n==0&&a.vot(s.v7(),s,i,h,o)}}qm.hit.Qnt.mot=Xm}{const Zm=self.Gs,Km=self.Bl;Zm.hit.knt=class{constructor(){}static _ht(t,s,i,e){let n;switch(e){case"behavior":case"plugin":n=s.Sht(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.Aht(t)}return n!==i}static wc(t,s,i,e){if(!i){let t=e.Oet();return t=e.rit().grt(t),t.v7()}let n=e.gtt();if("default"===n&&(n="continuous"),"combo"===e.Zet()&&(n="discrete"),"discrete"===n)return s.v7();if("continuous"===n||"step"===n){const r=e.oit().ptt();if("step"===n&&0!==r){const s=1/r;t=Math.floor(t*s)/s}const h=s.v7(),o=i.v7(),a=s.T7("cubic-bezier"),u=i.T7("cubic-bezier"),l=a&&a.Oot()&&u&&u.Rot();if(!l&&h===o)return h;const c=s.GO(),f=i.GO();"step"===n&&0!==r&&(t=Zm.Xn(t,c,f));const d=Zm.normalize(t,c,f),p=s._nt();let m;if(l){const t=f-c;m=Km.nc(p)(t*d,0,1,t),m=Km.nc("cubicbezier")(m,h,h+a.G7(),o+u.A7(),o)}else m=Km.nc(p)((f-c)*d,h,o-h,f-c);return"integer"===e.Zet()?Math.floor(m):m}}}}{const $m=self.Gs;$m.hit.Fnt=class{constructor(){}static _ht(t,s,i,e){let n;switch(e){case"behavior":case"plugin":n=s.Sht(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.Aht(t)}return n!==i}static wc(t,s,i,e){if(!i){let t=e.Oet();return t=e.rit().grt(t),t.v7()}let n=e.gtt();if("default"===n&&(n="continuous"),"combo"===e.Zet()&&(n="discrete"),"discrete"===n)return s.v7();if("continuous"===n||"step"===n){const r=e.oit().ptt();if("step"===n&&0!==r){const s=1/r;t=Math.floor(t*s)/s}const h=s.GO(),o=i.GO(),a=s.v7(),u=i.v7();"step"===n&&0!==r&&(t=$m.Xn(t,h,o));const l=s.T7("angle");if(!l){if(a===u)return a;const i=$m.normalize(t,h,o),e=self.Bl.nc(s._nt());return $m.ur(a,u,e(i,0,1,1))}{const i=l.Pot();if(a===u&&0===i)return a;const e=$m.normalize(t,h,o),n=self.Bl.nc(s._nt())(e,0,1,1);switch(l.kot()){case"closest":return $m.ur(a,u,n,i);case"clockwise":return $m.lr(a,u,n,i);case"anti-clockwise":return $m.cr(a,u,n,i)}}}}}}self.Gs.hit.jnt=class{constructor(){}static _ht(t,s,i,e){let n;switch(e){case"behavior":case"plugin":n=s.Sht(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.Aht(t)}return!!n!=!!i}static wc(t,s,i,e){if(!i){let t=e.Oet();return t=e.rit().grt(t),t.v7()?1:0}return s.v7()?1:0}};{const tg=self.Gs,sg=[0,0,0],ig=[0,0,0],eg=[0,0,0];tg.hit.znt=class{constructor(){}static _ht(t,s,i,e){let n;switch(e){case"behavior":case"plugin":n=s.Sht(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.Aht(t)}return Array.isArray(i)?(sg[0]=i[0],sg[1]=i[1],sg[2]=i[2]):(eg.ra(i),sg[0]=Math.floor(255*eg.ko()),sg[1]=Math.floor(255*eg.Fo()),sg[2]=Math.floor(255*eg.jo())),Array.isArray(n)?(ig[0]=n[0],ig[1]=n[1],ig[2]=n[2]):(eg.ra(n),ig[0]=Math.floor(255*eg.ko()),ig[1]=Math.floor(255*eg.Fo()),ig[2]=Math.floor(255*eg.jo())),sg[0]!==ig[0]||sg[1]!==ig[1]||sg[2]!==ig[2]}static wc(t,s,i,e){if(!i){let t=e.Oet();t=e.rit().grt(t);const s=t.v7();return sg[0]=s[0],sg[1]=s[1],sg[2]=s[2],sg}let n=e.gtt();if("default"===n&&(n="continuous"),"discrete"===n){const t=s.v7();return sg[0]=t[0],sg[1]=t[1],sg[2]=t[2],sg}if("continuous"===n||"step"===n){const r=e.oit().ptt();if("step"===n&&0!==r){const s=1/r;t=Math.floor(t*s)/s}const h=s.GO(),o=i.GO(),a=s.v7(),u=i.v7();"step"===n&&0!==r&&(t=tg.Xn(t,h,o));const l=tg.normalize(t,h,o),c=s._nt(),f=a[0],d=a[1],p=a[2],m=u[0],g=u[1],y=u[2],w=self.Bl.nc(c),M=o-h,S=M*l;return sg[0]=f===m?f:w(S,f,m-f,M),sg[1]=d===g?d:w(S,d,g-d,M),sg[2]=p===y?p:w(S,p,y-p,M),sg}}}}self.Gs.hit.Bnt=class{constructor(){}static _ht(t,s,i,e){let n;switch(e){case"behavior":case"plugin":n=s.Sht(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.Aht(t)}return n!==i}static wc(t,s,i,e){if(!i){let t=e.Oet();return t=e.rit().grt(t),t.v7()}return s.v7()}};{const ng=self.Gs;ng.h6=class{constructor(){this.Fot=new Map}Yn(){for(const t of this.Fot.values())t.Yn();this.Fot.clear(),this.Fot=null}Fl(t){const s=new ng.jot(t),i=s._c();this.Fot.set(i,s)}Ys(t){return this.Fot.get(t)}ttt(){return 0}static zot(t,s,i,e){if(s)for(const n of s)ng.h6.Bot("create",n,t,i,e)}static Uot(t,s,i,e){if(s)for(const n of s)ng.h6.Bot("create-including-disabled",n,t,i,e)}static Wot(t,s,i,e){t.length?s.forEach(((s,i)=>{t[i].S3(s)})):s.forEach((s=>{ng.h6.Bot("load",s,t,i,e)}))}static Bot(t,s,i,e,n){let r;if("function"==typeof e)switch(t){case"load":r=new e(null,n);break;case"create":case"create-including-disabled":r=new e(s,n)}else if("object"==typeof e){const i=s[e.Vot],h=e.map.get(i);switch(t){case"load":r=new h(null,n);break;case"create":case"create-including-disabled":r=new h(s,n)}}switch(t){case"load":r.S3(s),i.push(r);break;case"create":if("function"==typeof r.Eit&&!r.Eit())return r.Yn();i.push(r);break;case"create-including-disabled":i.push(r)}}}}{const rg=self.Gs;rg.jot=class{constructor(t){this.Hn="",this.pst=NaN,this.Yot=0,this.Qot="default",this.Jot="default",this.Hot=!1,this.qot=!1,this.Xot=1,this.Ust=null,this.Zot="",this.Kot=!1,this.$ot=!0,t&&(this.Hn=t[0],this.pst=t[1],this.Yot=t[2],this.Qot=t[3],this.Jot=t[4],this.Hot=!!t[6],this.qot=!!t[7],this.Xot=t[8],this.Zot=t[9],this.Kot=!!t[10],this.$ot=!!t[11],this.Ust=new rg.tat(t[5],this))}Yn(){this.Ust.Yn(),this.Ust=null}htt(){return this.Ust||(this.Ust=new rg.tat(null,this)),this.Ust}_c(){return this.Hn}Dq(t){this.Hn=t}kJ(){return this.pst}PJ(t){this.pst=t}ptt(){return this.Yot}mtt(t){this.Yot=t}gtt(){return this.Qot}ytt(t){this.Qot=t}m7(){return this.Jot}wtt(t){this.Jot=t}jJ(){return this.Hot}FJ(t){this.Hot=t}BJ(){return this.qot}zJ(t){this.qot=t}iJ(){return this.Xot}Mtt(t){this.Xot=t}k8(){return this.Zot}Stt(){return this.Kot}Ttt(){return this.$ot}M3(){return{trackDataJson:this.Ust.M3(),name:this.Hn,totalTime:this.pst,step:this.Yot,interpolationMode:this.Qot,resultMode:this.Jot,loop:this.Hot,pingPong:this.qot,repeatCount:this.Xot,startOnLayout:this.Zot,transformWithSceneGraph:!!this.Kot,useSystemTimescale:this.$ot}}S3(t){t&&(this.htt().S3(t.trackDataJson),this.Hn=t.name,this.pst=t.totalTime,this.Yot=t.step,this.Qot=t.interpolationMode,this.Jot=t.resultMode,this.Hot=t.loop,this.qot=t.pingPong,this.Xot=t.repeatCount,this.Zot=t.startOnLayout,this.Kot=!!t.transformWithSceneGraph,this.$ot=!!t.useSystemTimescale)}}}{const hg=self.Gs;class og{constructor(t,s){this.Ust=s,this.sat=null,this.iat=null,this.Wst=NaN,this.Vst=NaN,this.Qot="default",this.Jot="default",this.cl=!1,this.eat=null,this.vet=null,this.jc="",this.nat=null,this.rat=0,this.hat=this.Ust.dtt().kJ(),this.Yc=0,this.Hn="",t&&(t[0]&&(this.sat=t[0],this.Wst=t[0][2],this.Vst=t[0][1]),this.Qot=t[1],this.Jot=t[2],this.cl=!!t[3],t[6]&&(this.jc=t[6]),t[7]&&(this.nat=t[7],this.rat=t[7][0],this.hat=t[7][1]),t[8]&&(this.iat=t[8]),t[8]&&(this.iat=t[8]),t[9]&&(this.Yc=t[9]),t[10]&&(this.Hn=t[10]),this.eat=new hg.oat(t[4],this),this.vet=new hg.aat(t[5],this))}Yn(){this.sat=null,this.Ust=null,this.eat&&(this.eat.Yn(),this.eat=null),this.vet&&(this.vet.Yn(),this.vet=null),this.nat=null}htt(){return this.Ust}Mst(){return this.eat||(this.eat=new hg.oat(null,this)),this.eat}rit(){return this.vet||(this.vet=new hg.aat(null,this)),this.vet}uat(){return this.sat}cit(){return this.Vst}Nit(t){this.Vst=t}lit(){return this.Wst}Cit(t){this.Wst=t}gtt(){return this.Qot}ytt(t){this.Qot=t}m7(){return this.Jot}wtt(t){this.Jot=t}Eit(){return this.cl}Dit(t){this.cl=!!t}hH(){return this.jc}yst(){return this.rat}_it(){return this.hat}Ait(t){this.hat=t}Oit(){return this.iat[0]}Lit(t){this.iat||(this.iat=[]),this.iat[0]=t}kit(){return this.iat||(this.iat=[]),this.iat[1]}Pit(t){this.iat||(this.iat=[]),this.iat[1]=t}LG(){return this.Yc}_c(){return this.Hn}M3(){return{keyframeDataJson:this.eat.M3(),propertyTrackDataJson:this.vet.M3(),instanceData:this.sat,additionalInstanceData:this.iat,instanceUid:this.Wst,objectClassIndex:this.Vst,interpolationMode:this.Qot,resultMode:this.Jot,enabled:this.cl,id:this.jc,nestedData:this.nat,type:this.Yc,name:this.Hn}}S3(t){t&&(this.sat=t.instanceData,this.Wst=t.instanceUid,this.Vst=t.objectClassIndex,this.Qot=t.interpolationMode,this.Jot=t.resultMode,this.cl=t.enabled,this.jc=t.id,this.Yc=t.type?t.type:0,this.Hn=t.name?t.name:"",this.hat=this.Ust.dtt().kJ(),t.nestedData&&(this.nat=t.nestedData,this.rat=this.nat[0],this.hat=this.nat[1]),t.additionalInstanceData&&(this.iat=t.additionalInstanceData),this.Mst().S3(t.keyframeDataJson),this.rit().S3(t.propertyTrackDataJson))}}hg.tat=class{constructor(t,s){this.T9=s,this.lat=[],hg.h6.zot(this.lat,t,og,this)}Yn(){this.T9=null;for(const t of this.lat)t.Yn();hg.Mh(this.lat),this.lat=null}dtt(){return this.T9}xst(){const t=new og(null,this);return this.lat.push(t),t}cat(t){return t.Mst().$st()[0]}fat(t){return t.Mst().$st().at(-1)}Zit(t,s){const i=s.Mst().$st(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.GO()===t)return e}}dat(t,s){const i=s.Mst().$st(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.GO()>t)return e}}qit(t,s){const i=s.Mst().$st(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.GO()>=t)return e}}Jit(t,s){const i=s.Mst().$st();for(let s=i.length-1;s>=0;s--){const e=i[s];if(e.GO()<=t)return e}}*ntt(){for(const t of this.lat)yield t}M3(){return{trackDataItemsJson:this.lat.map((t=>t.M3()))}}S3(t){t&&hg.h6.Wot(this.lat,t.trackDataItemsJson,og,this)}}}{const ag=self.Gs;class ug{constructor(t,s){this.vet=s,this.pat="",this.mat=null,this.$rt=null,this.Yc=null,this.gat=NaN,this.yat=NaN,this.Qot="default",this.Jot="default",this.cl=!1,this.wat=null,this.Mat=!0,t&&(this.pat=t[0][0],this.mat=t[0].slice(1),this.$rt=t[1],this.Yc=t[2],this.gat=t[3],this.yat=t[4],this.Qot=t[5],this.Jot=t[6],this.cl=!!t[7],this.wat=new ag.Sat(t[8],this),this.Mat=t[9])}Yn(){this.wat.Yn(),this.wat=null,this.vet=null,this.mat=null}rit(){return this.vet}Cet(){return this.wat||(this.wat=new ag.Sat(null,this)),this.wat}git(){return this.pat}Uet(t){this.pat=t}Vet(){return this.mat}Qet(t){this.mat=t}Het(){return this.$rt}Xet(t){this.$rt=t}LG(){return this.Yc}$et(t){this.Yc=t}int(){return this.gat}ent(t){this.gat=t}nnt(){return this.yat}rnt(t){this.yat=t}gtt(){return this.Qot}ytt(t){this.Qot=t}m7(){return this.Jot}wtt(t){this.Jot=t}Eit(){return this.cl}Dit(t){this.cl=!!t}ont(){return!!this.Mat}M3(){return{propertyKeyframeDataJson:this.wat.M3(),sourceAdapterId:this.pat,sourceAdapterArguments:this.mat,property:this.$rt,type:this.Yc,min:this.gat,max:this.yat,interpolationMode:this.Qot,resultMode:this.Jot,enabled:this.cl,canHavePropertyKeyframes:this.Mat}}S3(t){t&&(this.pat=t.sourceAdapterId,this.mat=t.sourceAdapterArguments,this.$rt=t.property,this.Yc=t.type,this.gat=t.min,this.yat=t.max,this.Qot=t.interpolationMode,this.Jot=t.resultMode,this.cl=t.enabled,this.Mat=t.canHavePropertyKeyframes,this.Cet().S3(t.propertyKeyframeDataJson))}}ag.aat=class{constructor(t,s){this.Bst=s,this.Tat=[],ag.h6.zot(this.Tat,t,ug,this)}Yn(){this.Bst=null;for(const t of this.Tat)t.Yn();ag.Mh(this.Tat),this.Tat=null}wst(){return this.Bst}ret(){const t=new ug(null,this);return this.Tat.push(t),t}snt(t){return t.Cet().Get()[0]}grt(t){return t.Cet().Get().at(-1)}ant(t,s){const i=s.Cet().Get(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.GO()===t)return e}}cnt(t,s){const i=s.Cet().Get(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.GO()>t)return e}}fnt(t,s){const i=s.Cet().Get(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.GO()>=t)return e}}unt(t,s){const i=s.Cet().Get();for(let s=i.length-1;s>=0;s--){const e=i[s];if(e.GO()<=t)return e}}*nit(){for(const t of this.Tat)yield t}M3(){return{propertyTrackDataItemsJson:this.Tat.map((t=>t.M3()))}}S3(t){t&&ag.h6.Wot(this.Tat,t.propertyTrackDataItemsJson,ug,this)}}}{const lg=self.Gs;class cg{constructor(t,s){if(this.eat=s,this.bR=-1,this.bat="noease",this.vat=!1,this.J9=null,this.xat=null,!t)return;this.bR=t[0],this.bat=t[1],this.vat=!!t[2];const i=t[3];this.J9=i?i.split(" "):[],this.xat=new Set(this.J9.map((t=>t.toLowerCase()))),this.Iat=null,this.Gat=null}Yn(){this.eat=null,lg.Mh(this.J9),this.J9=null,this.xat.clear(),this.xat=null,this.Iat=null}Mst(){return this.eat}o7(){return this.Iat}Cat(t){this.Iat=t}Xit(){return this.Gat}_at(t){this.Gat=t}GO(){return this.bR}RJ(t){this.bR=t,this.eat.Aat()}_nt(){return this.bat}sH(t){this.bat=t}Eit(){return this.vat}Dit(t){this.vat=!!t}VJ(){return this.J9}xtt(t){this.J9=t?t.split(" "):[],this.xat=new Set(this.J9.map((t=>t.toLowerCase())))}Eat(){return this.xat}kst(t){return this.xat.has(t.toLowerCase())}M3(){return{time:this.bR,ease:this.bat,enable:this.vat,tags:this.J9}}S3(t){t&&(this.bR=t.time,this.bat=t.ease,this.vat=t.enable,this.J9=t.tags,this.xat=new Set(this.J9.map((t=>t.toLowerCase()))))}}lg.oat=class{constructor(t,s){this.Bst=s,this.Kst=[],lg.h6.zot(this.Kst,t,cg,this),this.Aat()}Yn(){this.Bst=null;for(const t of this.Kst)t.Yn();lg.Mh(this.Kst),this.Kst=null}Aat(){this.Kst.sort(((t,s)=>t.GO()-s.GO()));for(let t=0;t<this.Kst.length;t++){const s=this.Kst[t];s.Cat(this.Kst[t+1]),s._at(this.Kst[t-1])}}wst(){return this.Bst}Dat(){return this.Kst.length}$st(){return this.Kst}eet(){const t=new cg(null,this);return this.Kst.push(t),this.Aat(),t}oet(t){for(const s of this.Kst){if(!t(s))continue;const i=this.Kst.indexOf(s);-1!==i&&(s.Yn(),this.Kst.splice(i,1))}this.Nat(),this.Aat()}Nat(){this.Kst.sort(((t,s)=>t.GO()-s.GO()))}wet(t){return this.Kst.indexOf(t)}Met(t){return this.Kst[t]}*Lat(){for(const t of this.Kst)yield t}*Oat(){for(let t=this.Kst.length-1;t>=0;t--)yield this.Kst[t]}M3(){return{keyframeDataItemsJson:this.Kst.map((t=>t.M3()))}}S3(t){t&&(lg.h6.Wot(this.Kst,t.keyframeDataItemsJson,cg,this),this.Aat())}}}{const fg=self.Gs;class dg{constructor(t,s){this.wat=s,this.Trt=null,this.Rat=null,this.Yc="",this.bR=NaN,this.bat="noease",this.vat=!1,this.Pat=null,this.kat=void 0,this.Fat="line",t&&(this.Trt=t[0][0],this.Rat=t[0][1],this.Yc=t[0][2],this.bR=t[1],this.bat=t[2],this.vat=!!t[3],this.Fat=t[5],this.Pat=null,t[4]&&(this.Pat=new fg.jat(t[4],this)),this.Iat=null,this.zat=null)}Yn(){this.wat=null,this.Pat&&(this.Pat.Yn(),this.Pat=null),this.Iat=null,this.zat=null}Bat(){return this.Pat}Cat(t){this.Iat=t}o7(){return this.Iat}Uat(t){this.zat=t}a7(){return this.zat}Jet(){return this.Trt}Ant(t){"color"===this.Yc&&fg.$i(t)?(this.Trt[0]=fg.Ar(t),this.Trt[1]=fg.Er(t),this.Trt[2]=fg.Dr(t)):this.Trt=t}oht(){return this.Rat}Int(t){"color"===this.Yc&&fg.$i(t)?(this.Rat[0]=fg.Ar(t),this.Rat[1]=fg.Er(t),this.Rat[2]=fg.Dr(t)):this.Rat=t}v7(){const t=this.wat.Oet().m7();return"relative"===t?this.Jet():"absolute"===t?this.oht():void 0}LG(){return this.Yc}$et(t){this.Yc=t}GO(){return this.bR}RJ(t){this.bR=t,this.wat.Wat()}_nt(){return this.bat}sH(t){this.bat=t}Eit(){return this.vat}Dit(t){this.vat=!!t}u7(){return this.Fat}T7(t){if(!this.Pat)return;if(this.kat||null===this.kat)return this.kat;const s=this.Pat.Vat();if(!s)return this.kat=null,this.kat;const i=s.length;for(let e=0;e<i;e++){const i=s[e];if(i.hH()===t)return this.kat=i,this.kat}return this.kat=null,this.kat}M3(){const t=this.Pat;return{addonDataJson:t?t.M3():t,value:this.Trt,aValue:this.Rat,type:this.Yc,time:this.bR,ease:this.bat,enable:this.vat}}S3(t){t&&(t.addonDataJson&&this.Pat.Yat(t.addonDataJson),this.Trt=t.value,this.Rat=t.aValue,this.Yc=t.type,this.bR=t.time,this.bat=t.ease,this.vat=t.enable)}}fg.Sat=class{constructor(t,s){this.bet=s,this.Iet=[],this.Qat=[],fg.h6.zot(this.Iet,t,dg,this),fg.h6.Uot(this.Qat,t,dg,this),this.Wat()}Yn(){this.bet=null;for(const t of this.Iet)t.Yn();fg.Mh(this.Iet),this.Iet=null;for(const t of this.Qat)t.Yn();fg.Mh(this.Qat),this.Qat=null}Wat(){let t=this.Iet;t.sort(((t,s)=>t.GO()-s.GO()));for(let s=0;s<t.length;s++){const i=t[s];s+1<t.length&&i.Cat(t[s+1]),s-1>=0&&i.Uat(t[s-1])}t=this.Qat,t.sort(((t,s)=>t.GO()-s.GO()));for(let s=0;s<t.length;s++){const i=t[s];s+1<t.length&&i.Cat(t[s+1]),s-1>=0&&i.Uat(t[s-1])}}vnt(){const t=new dg(null,this);return this.Iet.push(t),this.Wat(),t}xnt(t){for(const s of this.Iet){if(!t(s))continue;const i=this.Iet.indexOf(s);-1!==i&&(s.Yn(),this.Iet.splice(i,1))}this.Jat(),this.Wat()}Jat(){this.Iet.sort(((t,s)=>t.GO()-s.GO()))}Oet(){return this.bet}Hat(){return this.Iet.length}grt(){return this.Iet[this.Iet.length-1]}Get(){return this.Iet}h7(){return this.Qat}*qat(){for(const t of this.Iet)yield t}*Xat(){for(let t=this.Iet.length-1;t>=0;t--)yield this.Iet[t]}M3(){const t=this.Iet,s=this.Qat;return{propertyKeyframeDataItemsJson:t.map((t=>t.M3())),propertyKeyframeDataItemsIncludingDisabledJson:s.map((t=>t.M3()))}}S3(t){t&&(fg.h6.Wot(this.Iet,t.propertyKeyframeDataItemsJson,dg,this),fg.h6.Wot(this.Qat,t.propertyKeyframeDataItemsIncludingDisabledJson,dg,this),this.Wat())}}}{const pg=self.Gs;class mg{constructor(t,s){this.Pat=s,this.jc=t[0],this.Zat=t[1]}Yn(){this.Pat=null,this.Zat=null}Bat(){return this.Pat}hH(){return this.jc}M3(){return{id:this.jc,data:this.Zat}}S3(t){t&&(this.jc=t.id,this.Zat=t.data)}}class gg extends mg{constructor(t,s){super(t,s),this.Kat=this.Zat[0],this.$at=!!this.Zat[1],this.tut=this.Zat[2],this.sut=!!this.Zat[3]}Yn(){super.Yn()}G7(){return this.Kat}Oot(){return this.$at}A7(){return this.tut}Rot(){return this.sut}M3(){return Object.assign(super.M3(),{startAnchor:this.Kat,startEnable:!!this.$at,endAnchor:this.tut,endEnable:!!this.sut})}S3(t){t&&(super.S3(t),this.Kat=t.startAnchor,this.$at=!!t.startEnable,this.tut=t.endAnchor,this.sut=!!t.endEnable)}}class yg extends mg{constructor(t,s){super(t,s),this.iut=this.Zat[0],this.eut=this.Zat[1]}Yn(){super.Yn()}kot(){return this.iut}Pot(){return this.eut}M3(){return Object.assign(super.M3(),{direction:this.iut,revolutions:this.eut})}S3(t){t&&(super.S3(t),this.iut=t.direction,this.eut=t.revolutions)}}pg.jat=class{constructor(t,s){this.nut=s,this.rut=[],pg.h6.zot(this.rut,t,{Vot:0,map:new Map([["cubic-bezier",gg],["angle",yg]])},this)}Yn(){this.nut=null;for(const t of this.rut)t.Yn();pg.Mh(this.rut),this.rut=null}hut(){return this.nut}Vat(){return this.rut}*out(){for(const t of this.rut)yield t}M3(){return{addonDataItemsJson:this.rut.map((t=>t.M3()))}}S3(t){t&&pg.h6.Wot(this.rut,t.addonDataItemsJson,{Vot:"id",map:new Map([["cubic-bezier",gg],["angle",yg]])},this)}}}{const wg=self.Gs;let Mg=0;wg.pot=class extends wg.j6{constructor(t,s){super("tween-"+Mg++,t,s),this.jc="",this.aut=!1,this.uut="start-value",this.Yst=null,this.lut=null,this.cut=null,this.fut=null,this.Tet=null,this.dut=null}itt(t){const s=wg.Vn(wg.Event,"tweenstatereleased");s.mut=this,t.dispatchEvent(s)}LG(){return 1}G9(){for(const t of this.T9.htt().ntt())this.b9.push(wg.gut.EI(this,t));this.Tet=this.b9[0]}vst(){const t=this.T9.htt().xst(),s=wg.gut.EI(this,t);return this.b9.push(s),this.yut(),s}yut(){this.Tet=this.b9[0]}aH(t){return this.Tet.Nst()[0]}Ket(t){this.wut=t}iH(){const t=this.e7();if(!t||!t.length)return;const s=t[0];if(this.Tet=s,!s)return;const i=s.iH();return s.uit()?i:void 0}Mut(t){this.fut=t}Sut(t){this.cut||(this.cut=[]),this.cut.push(t)}Tut(t){this.lut||(this.lut=[]),this.lut.push(t)}but(t){if(!this.cut)return;const s=this.cut.indexOf(t);-1!==s&&this.cut.splice(s,1)}vut(t){if(!this.lut)return;const s=this.lut.indexOf(t);-1!==s&&this.lut.splice(s,1)}xut(t,s){for(const i of this.b9)for(const e of i.tit){if(e.Lst()!==s)continue;const i=e.rit(),n=e.Oet(),r=i.snt(n);r.Ant(t),r.Int(t)}}Iut(t){for(const s of this.b9)for(const i of s.tit)if(i.Lst()===t)return i}Gut(t){for(const s of t){const t=this.Iut(s);this.xut(t.mnt(),s)}if(this.vtt()){const t=this.kJ()-this.GO();this.PJ(t);for(const s of this.b9)s.Ait(t);this.Htt(0)}else{const t=this.GO();this.PJ(t);for(const s of this.b9)s.Ait(t);this.Htt(t)}this.qtt()}Cut(t,s){const i=this.Iut(s),e=i.rit(),n=i.Oet(),r=e.grt(n);r.RJ(this.kJ()),r.Ant(t),r.Int(t)}_ut(t){this.jc=t}hH(){return this.jc}Aut(t){this.uut=t}Eut(){return this.uut}rH(t){this.aut=t}nH(){return this.aut}_tt(){if(this.cut)for(const t of this.cut)t(this);if(!this.N8())for(const t of this.b9)t.cet()}Ptt(){this.B9=this.kc.pF()}O8(){if(!this.V9&&(this.V9=!0,this.lut))for(const t of this.lut)t(this)}RJ(t){this.Dut(),super.RJ(t)}tst(t){wg.$i(t)||(t=this.kJ()),t<0?this.A9=0:t>=this.kJ()?this.A9=this.kJ():this.A9=t,this.Tet.sst()}x8(t){if(!this.L8()&&"current-state"===this.Eut())for(const t of this.b9)t.let();super.x8(t)}NJ(t=!1){if(super.NJ(t),!this.N8())for(const t of this.b9)t.uet()}Ff(t=!0,s=!1){this.Dut(),super.Ff(t,s)}Dut(){for(const t of this.b9){const s=t=>{const s=t.GO(),i=this.kJ();return 0!==s&&s!==i};t.het(s),t.aet(s)}}v6(){if(this.EJ())return!0;const t=this.iH();return!(t&&t.BW().b0()||(this.S9.S8(this),this.ust(),0))}_8(t,s,i){if(this.Yst||(this.Yst=this.iH()),!this.Yst||this.Yst.YH())return this.NJ(!0),void this.Ptt();const e=this.Yst.wF();if(-1!==e&&(t=i*e),0===t&&0===this.Q9)return;this.Q9=t;const n=this.A9+this.E9+t*this.D9,r=this.T9.pst;n<0?(this.A9=0,this.E9=-n):n>=r?(this.A9=r,this.E9=this.A9-n):(this.A9=n,this.E9=0);let h=!1,o=!1;const a=this.jJ(),u=this.BJ();if(a||u?a&&!u?this.D9>0?this.A9>=r&&(this.tst(0),this.Nut(wg.Rut.Out.Aj.Lut),this.Nut(wg.Rut.Out.Aj.Put),o=!0):this.A9<=0&&(this.tst(r),this.Nut(wg.Rut.Out.Aj.Lut),this.Nut(wg.Rut.Out.Aj.Put),o=!0):!a&&u?this.D9>0?this.A9>=r&&(this.Htt(r),this.UJ(-1*this.WJ()),o=!0,1===this.N9?this.O9<this.iJ()?(this.O9++,this.Nut(wg.Rut.Out.Aj.Lut),this.Nut(wg.Rut.Out.Aj.Put),this.Nut(wg.Rut.Out.Aj.kut),this.Nut(wg.Rut.Out.Aj.Fut),this.IsPlaying()?this.N9=0:this.L9=0):(this.Nut(wg.Rut.Out.Aj.kut),this.Nut(wg.Rut.Out.Aj.Fut),h=!0):0===this.N9&&(this.Nut(wg.Rut.Out.Aj.kut),this.Nut(wg.Rut.Out.Aj.Fut),this.IsPlaying()?this.N9=1:this.L9=1)):this.A9<=0&&(this.Htt(0),this.UJ(-1*this.WJ()),o=!0,1===this.N9?this.O9<this.iJ()?(this.O9++,this.Nut(wg.Rut.Out.Aj.Lut),this.Nut(wg.Rut.Out.Aj.Put),this.Nut(wg.Rut.Out.Aj.kut),this.Nut(wg.Rut.Out.Aj.Fut),this.IsPlaying()?this.N9=0:this.L9=0):(h=!0,this.Nut(wg.Rut.Out.Aj.kut),this.Nut(wg.Rut.Out.Aj.Fut)):0===this.N9&&(this.Nut(wg.Rut.Out.Aj.kut),this.Nut(wg.Rut.Out.Aj.Fut),this.IsPlaying()?this.N9=1:this.L9=1)):a&&u&&(this.D9>0?this.A9>=r&&(this.Htt(r),this.UJ(-1*this.WJ()),o=!0,0===this.N9&&(this.Nut(wg.Rut.Out.Aj.kut),this.Nut(wg.Rut.Out.Aj.Fut)),1===this.N9&&(this.Nut(wg.Rut.Out.Aj.Lut),this.Nut(wg.Rut.Out.Aj.Put),this.Nut(wg.Rut.Out.Aj.kut),this.Nut(wg.Rut.Out.Aj.Fut)),this.IsPlaying()?(this.N9++,this.N9=wg.wrap(this.N9,0,2)):(this.L9=this.N9+1,this.L9=wg.wrap(this.L9,0,2))):this.A9<=0&&(this.Htt(0),this.UJ(-1*this.WJ()),o=!0,0===this.N9&&(this.Nut(wg.Rut.Out.Aj.kut),this.Nut(wg.Rut.Out.Aj.Fut)),1===this.N9&&(this.Nut(wg.Rut.Out.Aj.Lut),this.Nut(wg.Rut.Out.Aj.Put),this.Nut(wg.Rut.Out.Aj.kut),this.Nut(wg.Rut.Out.Aj.Fut)),this.IsPlaying()?(this.N9++,this.N9=wg.wrap(this.N9,0,2)):(this.L9=this.N9+1,this.L9=wg.wrap(this.L9,0,2)))):this.D9>0?this.A9>=r&&(this.O9<this.iJ()?(this.O9++,this.tst(0),this.Nut(wg.Rut.Out.Aj.Lut),this.Nut(wg.Rut.Out.Aj.Put),o=!0):(this.Htt(r),h=!0)):this.A9<=0&&(this.O9<this.iJ()?(this.O9++,this.tst(r),this.Nut(wg.Rut.Out.Aj.Lut),this.Nut(wg.Rut.Out.Aj.Put),o=!0):(this.Htt(0),h=!0)),this.IsPlaying()){if(h)return this.Tet.mst(),this.NJ(!0),void this.Ptt();this.Tet.wc(this.A9,!0,!1,o,this.Y9,!1),this.Y9&&(this.Y9=!1)}}Nut(t){const s=this.iH();this.fut.jut(this),this.kc.vV(t,s,this.fut.zQ()),this.fut.zut()}M3(){const t=super.M3(),s=this.dtt();return Object.assign(t,{tweenDataItemJson:s.M3(),id:this.jc,destroyInstanceOnComplete:this.aut,initialValueMode:this.uut})}S3(t){t&&(this.dtt().S3(t.tweenDataItemJson),super.S3(t),this.jc=t.id,this.aut=t.destroyInstanceOnComplete,this.uut=t.initialValueMode,this.yut())}static IsPlaying(t){return t.IsPlaying()}static HJ(t){return t.HJ()}static But(t){return!!t.BJ()&&0===t.btt()}static Uut(t){return!!t.BJ()&&1===t.btt()}static Wut(t){const s=t.runtime.att(),i=new wg.jot;if(t.json){i.S3(t.json.tweenDataItemJson);const e=new wg.pot(i,s);return e.S3(t.json),e}{const e=new wg.pot(i,s);wg.ve(t.Vut)||(t.Vut=[t.Vut]),e._ut(t.id),e.xtt(t.tags),e.Aut(t.Yut),e.rH(t.Qut),e.FJ(t.loop),e.zJ(t.Jut),e.PJ(t.time),e.mtt(0),e.ytt("default"),e.wtt(t.Vut[0].Hut),e.Mtt(t.sJ);const n=e.vst();n.Cit(t.BQ.tV()),n.ytt("default"),n.wtt(t.Vut[0].Hut),n.Dit(!0),n.Nit(t.BQ.BW().$P());const r=t.BQ.EQ(),h=r.Rit()?r.Oit():t.BQ.lj().Bg(),o=r.Rit()?r.kit():t.BQ.lj().Zg();n.Lit(h),n.Pit(o);const a=n.iet();a.RJ(0),a.sH("noease"),a.Dit(!0),a.xtt("");const u=n.iet();u.RJ(t.time),u.sH("noease"),u.Dit(!0),u.xtt("");for(const s of t.Vut){const i=n.net();i.Uet(s.qut),i.Yet(s.Xut),i.qet(s.xit),i.Ket(s.type),i.ent(NaN),i.rnt(NaN),i.ytt("default"),i.wtt(s.Hut),i.Dit(!0);const e=i.bnt();e.$et(s.valueType),e.RJ(0),e.sH(s.Zut),e.Dit(!0),e.Ant(s.Kut),e.Int(s.Kut);const r=i.bnt();r.$et(s.valueType),r.RJ(t.time),r.sH(s.Zut),r.Dit(!0),r.Ant(s.$ut),r.Int(s.$ut),i.ltt()}return e}}static Cit(t,s){if(!isNaN(s))for(const i of t.e7())i.Cit(s)}static Mut(t,s){t.Mut(s)}tlt(t,s){return this.dut||(this.dut=wg.Vn(self.ZJ,this,t,s)),this.dut}}}{const Sg=self.Gs;Sg.gut=class extends Sg.ott{constructor(t,s){super(t,s),this.slt=null,this.ilt=null}static EI(t,s){return Sg.Vn(Sg.gut,t,s)}elt(){1===this.tit.length?this.slt=this.tit[0]:(this.slt=this.tit[0],this.ilt=this.tit[1])}sit(){for(const t of this.Bst.rit().nit())this.tit.push(Sg.nlt.EI(this,t));this.elt()}net(){const t=this.Bst.rit().ret(),s=Sg.nlt.EI(this,t);return this.tit.push(s),this.elt(),s}x8(){if(this.ait(),!this.uit()&&this.ftt())return;const t=this.oit().vtt()?0:this._it();for(const s of this.tit)s.x8(t),0===this.iit&&1===s.zit()&&(this.iit=1),0===this.R6&&1===s.I8()&&(this.R6=1);this.eit=0,this.tit.some((t=>t.dst()))&&(this.eit=1),this.Zst=this.Bit(t),this.Hst=!1,this.qst=!1,this.wc(t)}gst(){}wc(t,s=!1,i=!1,e=!1,n=!1,r=!1,h=!1){if(this.Yst||this.iH(),this.Yst)return!this.Yst.YH()&&(!r||!this.BW().b0())&&(this.ilt?(this.slt.wc(t,i,e,h),this.ilt.wc(t,i,e,h)):this.slt.wc(t,i,e,h),void(0!==this.slt.zit()&&(this.Qst||(this.Qst=this.Yst.lj()),this.Qst&&this.Qst.KV())))}Sst(){}S3(t){super.S3(t),this.elt()}}}{const Tg=self.Gs;Tg.nlt=class extends Tg.hit{constructor(t,s){super(t,s),this.rlt=!1}static EI(t,s){return Tg.Vn(Tg.nlt,t,s)}wc(t,s=!1,i=!1,e=!1){let n,r;if(this.rlt)n=this.Iet[0],r=this.Iet[1];else if(s)n=this.vet.unt(t,this.bet),r=n.o7();else{if(this._et){const s=this.oit(),i=this._et.o7(),e=this._et.GO(),n=i?i.GO():s.kJ();(t<=e||t>=n)&&(this._et=this.vet.unt(t,this.bet))}else this._et=this.vet.unt(t,this.bet);n=this._et,r=n.o7()}this.xet.wc(t,n,r,s,i,e)}bnt(){const t=this.bet.Cet().vnt();return this._et=null,this.rlt=this.hnt().length<=2,t}aet(t){this._et=null,this.bet.Cet().xnt(t),this.rlt=this.hnt().length<=2}M3(){return{sourceAdapterJson:this.ltt().M3(),basic:this.rlt}}S3(t){t&&(this.ltt().S3(t.sourceAdapterJson),this.rlt=t.basic)}}}{const bg=self.Gs,vg=self.Bl;bg.Mc=class extends bg.Un{constructor(t,s=!0){super(),this.Hn=t[0],this.hlt=t[2],this.olt=[];for(const s of t[1]){const t=bg.ult.EI(this,s);this.olt.push(t)}for(let t=0;t<this.olt.length;t++){const s=this.olt[t],i=this.olt[t+1],e=this.olt[t-1];s.Cat(i),s.Uat(e)}this.llt=new Map,this.clt=new Map,this.flt(),s&&vg.Tc(this.Hn,((t,s,i,e)=>this.wc(t,s,i,e)),null,{transition:this})}static EI(t){return bg.Vn(bg.Mc,t)}Yn(){for(const t of this.olt)t.Yn();bg.Mh(this.olt),this.olt=null,this.llt.clear(),this.llt=null,this.clt.clear(),this.clt=null}Sc(t){this.hlt=!!t}dlt(t){const s=this.clt.get(t);if(s)return s;for(const s of this.olt)if(s.plt()===t)return this.clt.set(t,s),s}mlt(t){for(let s=this.olt.length-1;s>=0;s--){const i=this.olt[s],e=i.plt();if(e<=t){let s=i;if(e<t)return s;if(e===t){for(;s;){const t=s.a7();if(!t)break;if(t.plt()!==s.plt())break;s=t}return s}}}}wc(t,s,i,e){let n=t/e;if(this.hlt){const n=this.dlt(0),r=this.dlt(1),h=s+(s+i)*n.glt(),o=(s+i)*r.glt()-h;return 0===e?h+o:vg.vc(t,h,o,e)}0===e&&(n=1);let r=this.mlt(n),h=r.o7();if(!h){const t=r.a7(),s=r;r=t,h=s}const o=h.plt()-r.plt(),a=bg.qn(n,r.plt(),h.plt(),0,o);if(r.ylt()||0===o){const t=s+(s+i)*r.glt(),e=(s+i)*h.glt()-t;return 0===o?1===a?t+e:t:vg.vc(a,t,e,o)}const u=r.plt(),l=r.glt(),c=r.plt()+r.wlt(),f=r.glt()+r.Mlt(),d=h.plt()+h.Slt(),p=h.glt()+h.Tlt(),m=h.plt(),g=h.glt();let y=vg.nc("spline")(a,u,l,c,f,d,p,m,g,this.llt.get(r));return y+=r.glt(),(1-y)*s+y*(s+i)}flt(){this.llt.clear();for(let t=0;t<this.olt.length-1;t++){const s=this.olt[t];if(!s.Oot())continue;const i=s,e=this.olt[t+1];if(!e.Rot())continue;const n=i.plt(),r=i.plt()+i.wlt(),h=e.plt()+e.Slt(),o=e.plt();this.llt.set(i,vg.xc(n,r,h,o))}}}}{const xg=self.Gs;xg.ult=class extends xg.Un{constructor(t,s){super(),this.blt=t,this.vlt=s[0],this.xlt=s[1],this.Ilt=s[2],this.Glt=s[3],this.Clt=s[4],this._lt=s[5],this.$at=s[6],this.sut=s[7],this.Alt=s[8],this.Iat=null,this.zat=null}Yn(){this.blt=null}static EI(t,s){return xg.Vn(xg.ult,t,s)}Cat(t){this.Iat=t}o7(){return this.Iat}Uat(t){this.zat=t}a7(){return this.zat}plt(){return this.vlt}glt(){return this.xlt}wlt(){return this.Ilt}Mlt(){return this.Glt}Slt(){return this.Clt}Tlt(){return this._lt}Oot(){return this.$at}Rot(){return this.sut}ylt(){return"linear"===this.Alt}Elt(){return"cubic"===this.Alt}}}{const Ig=self.Gs;Ig.Dlt=class extends Ig.Un{constructor(t){super(),this.kc=t,this.Nlt=[]}Yn(){for(const t of this.Nlt)t.Yn();Ig.Mh(this.Nlt),this.Nlt=null}EI(t){this.Nlt.push(Ig.Mc.EI(t))}}}{const Gg=self.Gs;Gg.Llt=class extends Gg.Un{constructor(t){super(),this.kc=t,this.Olt=null,this.Rlt=null,this.G6=t=>this.C6(t.BQ)}Yn(){if(this.P6(),this.Olt){for(const t of this.Olt.values())t.clear();this.Olt.clear()}this.Olt=null,this.kc=null}EI(t){if(this.Olt||(this.Olt=new Map),!t)return;const s=t[0][16][0],i=t[1];this.Olt.has(i)||this.Olt.set(i,new Map),this.Olt.get(i).set(s,t)}k6(){const t=this.kc.yf();t&&t.addEventListener("instancedestroy",this.G6)}P6(){const t=this.kc.yf();t&&t.removeEventListener("instancedestroy",this.G6)}Plt(){return!!this.Olt&&0!==this.Olt.size}klt(t,s){let i=0;if(i=t instanceof Gg.Flt?t.$P():t,!this.Olt.has(i))return;const e=this.Olt.get(i).get(s);return e?JSON.parse(JSON.stringify(e)):void 0}jlt(t,s){this.Rlt||(this.Rlt=new WeakMap),this.Rlt.has(t)||this.Rlt.set(t,s)}zlt(t){if(!this.Rlt)return"";return this.Rlt.get(t)||""}C6(t){this.Rlt&&this.Rlt.has(t)&&this.Rlt.delete(t)}}}{const Cg=self.Gs;Cg.Blt=class{constructor(t){this.kc=t,this.Ult=new Cg.Wlt}Yn(){this.Ult.Yn(),this.Ult=null,this.kc=null}Fj(){return this.kc}EI(t){this.Ult.Fl(t)}Vlt(t){return this.Ult.Ys(t)}Ylt(){return this.Ult.Ylt()}}}{const _g=self.Gs;_g.Qlt=class{constructor(t,s,i,e,n,r,h){this.kc=n.Fj(),this.Jlt=n,this.Hlt=t,this.qlt=i,this.Xlt=e,this.Ew=s,this.o6=r,this.Zlt=h??r.iH().tV(),this.Klt(),this.$lt=this.sct?.tct()??-1,this.ict=[],this.ect=null,this.nct=NaN,this.rct=null,this.hct=null,this.oct=null,this.act="",this.uct=null,this.lct="",this.cct="",this.fct=0,this.dct=!1,this.j9=!1}Yn(){this.j9||(_g.Mh(this.ict),this.ict=null,this.kc=null,this.Jlt=null,this.Xlt=null,this.o6=null,this.ect=null,this.nct=NaN,this.rct&&this.rct.clear(),this.rct=null,this.hct=null,this.oct=null,this.act="",this.uct=null,this.lct="",this.cct="",this.j9=!0)}Qn(){return this.j9}pct(){return this.Jlt}Fj(){return this.kc}_c(){return this.Hlt}mct(){return this.Xlt}AJ(){return this.Ew}X6(){return this.o6||(this.o6=this.kc.rj(this.Zlt).EQ()),this.o6}gct(){return this.yct(this.$lt)}wct(){const t=this.gct();return t?t.AJ():""}Mct(){const t=this.gct();return t?t.VJ():[]}Sct(t){const s=this.Mct();if(!s)return!1;if(!s.length)return!1;const i=_g.Qlt.Itt(t);return!(!i||!i.length)&&i.every(_g.Qlt.Ctt,s)}Tct(t,s){const i=this.Mct();if(!i)return!1;if(!i.length)return!1;const e=_g.Qlt.Itt(t);return!(!e||!e.length)&&e.every((t=>_g.Qlt.bct.call(i,t,s)))}static Ctt(t){const s=this;return""===t?1===s.length&&""===s[0]:s.map((t=>t.trim().toLowerCase())).includes(t.trim().toLowerCase())}static Itt(t){return t.trim().split(" ")}static bct(t,s){const i=this;return""===t?1===i.length&&""===i[0]:i.some((i=>_g.compare(i.trim(),s,t.trim())))}vct(t){const s=this.gct();if(s){if(_g.$i(t)){const i=s.xct(),e=i?i[t]:void 0;if(_g.$i(e))return this.yct(e)}if("string"==typeof t)for(const i of s.xct()){const s=this.yct(i);if(s.OJ(t))return this.yct(s.tct())}}}Ict(t){const s=this.vct(t);return s?s.AJ():""}Gct(t){const s=this.vct(t);return s?s.VJ():""}Cct(t){const s=this.gct();if(!s)return-1;const i=s.xct();if(!i)return-1;const e=this.vct(t);return e?i.indexOf(e.tct()):-1}_ct(){const t=this.gct();if(!t)return 0;const s=t.xct();return s?s.length:0}yct(t){return this.Xlt.yct(t)}Ff(){this.Ect().Act(!0)}Act(t){if(this.Dct()){for(const[t,s]of this.Dct().entries())s.Act(!1);this.Dct().clear()}if(this.rct=null,this.ect=null,this.Nct=null,this.hct=null,this.act="",this.uct=null,this.lct="",this.cct="",this.ict=[],t){this.Jlt.Lct(this);const t=this.sct.tct();t!==this.$lt&&this.Oct(t)}else this.$lt=this.sct.tct()}Rct(){const t=this.Xlt.yct(this.$lt);return t?t.kct().Pct():0}Fct(t){return!(t<0)&&t===this.jct()}jct(){const t=this.Xlt.yct(this.$lt);if(!t)return-1;let s=t.kct().zct();return s?t.kct().Bct().indexOf(s):-1}Uct(t){const s=this.Wct(t);return s?s._c():""}Vct(t){let s;return _g.$i(t)&&(s=this.Wct(t)),"string"==typeof t&&(s=this.Yct(t)),"number"!=typeof t&&"string"!=typeof t&&console.warn("[Flowcharts] unexpected argument type in GetCurrentNodeOutputValueAt expression"),s?s.Jet():""}Qct(t,s){if(t.Eit())return t.tct();{const i=t.kct().zct();if(!i)return s.tct();const e=i.Jct();if(!_g.$i(e))return s.tct();const n=this.yct(e);return n?this.Qct(n,s):s.tct()}}Hct(t,s){if(t.Eit()){if("reference"===t.LG()){const s=t.qct(),i=t.Xct(),e=this.Jlt.Vlt(s);if(!e)return[-1,null];const n=e.Zct(i);return n?this.Hct(n,e):this.Hct(e.Kct(),e)}return[t.tct(),s]}{const i=t.kct().zct();if(!i)return[-1,null];const e=i.Jct();if(!_g.$i(e))return[-1,null];const n=s.yct(e);return n?this.Hct(n,s):[-1,null]}}$ct(t,s){let i=this.yct(t);if(i){if(!i.Eit()){const s=this.yct(this.$lt);t=this.Qct(i,s)}if(_g.$i(t)&&t!==this.$lt)if(i=this.yct(t),"reference"===i.LG()){const e=i.qct(),n=i.Xct(),r=this.Jlt.Vlt(e);let h=r.Zct(n);if(h){const i=this.Hct(h,r);if(-1===i[0])return;s(this.$lt,t,i[1],i[0])}else s(this.$lt,t)}else s(this.$lt,t)}}tft(t){let s;if(_g.$i(t)&&(s=this.Wct(t)),"string"==typeof t&&(s=this.Yct(t)),!s)return;let i=s.Jct();_g.$i(i)&&this.$ct(i,((t,s,i,e)=>{this.ict.push(t),this.Oct(s,i,e)}))}sft(){const t=this.ift();if(!t)return;const s=t.Jct();_g.$i(s)&&this.$ct(s,((t,s,i,e)=>{this.ict.push(t),this.Oct(s,i,e)}))}eft(t){const s=this.Xlt.Zct(t);if(!s)return;const i=s.tct();_g.$i(i)&&this.$ct(i,((t,s,i,e)=>{this.ict.push(t),this.Oct(s,i,e)}))}nft(){const t=this.ict.pop();_g.$i(t)?this.Oct(t):this.rft()&&(this.Jlt.Lct(this.rft(),!0,!1,!1),this.rft().Oct(this.hft()),this.Ect().oft(this.rft()))}aft(t){if(!this.gct())return;const s=this.vct(t);if(s){if(!s.Eit())return;const t=s.tct();if(!_g.$i(t))return;this.ict.push(this.$lt),this.Oct(s.tct())}}uft(t){if(_g.$i(t))return!!this.Xlt.yct(this.$lt).kct().Bct()[t];if("string"==typeof t){const s=this.Xlt.yct(this.$lt).kct().Bct();for(let i=0;i<s.length;i++)if(s[i]._c()===t)return!0;return!1}return!1}lft(){this.dct=!0}cft(){return this.fct>0}fft(){this.fct++}dft(){this.fct--,0===this.fct&&this.dct&&this.Jlt.pft(this)}Oct(t,s,i){const e=this.$lt,n=this.X6().iH();this.fft(),this.Jlt.mft(this),this.kc.vV(_g.Dj.yft.Aj.gft,n),this.kc.vV(_g.Dj.yft.Aj.wft,n),this.kc.vV(_g.Dj.yft.Aj.Mft,n),this.kc.vV(_g.Dj.yft.Aj.Sft,n),this.$lt=t;let r=this.yct(this.$lt);if("dictionary"===r.LG()&&(this.kc.vV(_g.Dj.yft.Aj.Tft,n),this.kc.vV(_g.Dj.yft.Aj.bft,n),this.kc.vV(_g.Dj.yft.Aj.vft,n),this.kc.vV(_g.Dj.yft.Aj.xft,n)),this.Jlt.Ift(),this.dft(),!this.Qn()&&(r=this.yct(this.$lt),"reference"===r.LG())){const t=s?s._c():r.qct();if(this.Gft(r)){this.ict.pop();const t=this.Cft(r);this.Jlt.Lct(t,!0,!0,!1),t._ft(this,e),this.Ect().oft(t)}else{const s="number"==typeof i?i:r.Xct();if(t){this.ict.pop();let i=r.Aft();if(i){let t=this.Jlt.Eft(i);for(;t;)i=_g.Im(i),t=this.Jlt.Eft(i)}else{i=`${t}-ref`;let s=this.Jlt.Eft(i);for(;s;)i=_g.Im(i),s=this.Jlt.Eft(i)}const n=this.Jlt.Dft(t,s,i,this.o6,!0);n._ft(this,e),this.Nft(r,n);const h=this.Ect();n.Lft(h),h.oft(n)}}}}ift(){const t=this.Xlt.yct(this.$lt);return t?t.kct().zct():null}Wct(t){const s=this.Xlt.yct(this.$lt);if(!s)return null;const i=s.kct().Bct();if(!i)return null;return i[t]||null}Yct(t){const s=this.Xlt.yct(this.$lt);if(!s)return null;return s.kct().Oft(t)||null}Klt(t){if("number"==typeof t){let s=this.yct(t);s||(s=this.Xlt.Kct()),this.sct=s}else if("number"==typeof this.qlt){let t=this.yct(this.qlt);t||(t=this.Xlt.Kct()),this.sct=t}else{let t=this.Xlt.Zct(this.qlt);t||(t=this.Xlt.Kct()),this.sct=t}}M3(){return this.dct?null:{flowchartName:this.Hlt,flowchartTag:this.Ew,startNodeTag:this.qlt,currentNodeId:this.$lt,previousNodeIds:this.ict,pluginUID:this.o6.iH().tV(),reference:{previousFlowchartTag:this.rft()?this.rft().AJ():"",previousStartNodeId:_g.$i(this.hft())?this.hft():NaN,referencesJson:this.Rft(),currentReferenceFlowchartTag:this.Pft()?this.Pft().AJ():"",rootFlowchartTag:this.Ect()?this.Ect().AJ():""}}}Rft(){if(!this.kft())return null;const t=[];for(const[s,i]of this.Dct().entries())t.push({flowchartElementId:s.tct(),flowchartStateTag:i.AJ()});return t.length?t:null}S3(t){if(t){if(this.Hlt=t.flowchartName,this.Ew=t.flowchartTag,this.qlt=t.startNodeTag,this.$lt=t.currentNodeId,this.ict=t.previousNodeIds,this.Zlt=t.pluginUID,t.hasOwnProperty("reference")){const s=t.reference;this.act=s.previousFlowchartTag,this.nct=s.previousStartNodeId,this.uct=s.referencesJson,this.lct=s.currentReferenceFlowchartTag,this.cct=s.rootFlowchartTag}this.Klt()}}rft(){return"string"==typeof this.act&&this.act&&(this.ect=this.Jlt.Eft(this.act),this.act=""),this.ect}hft(){return this.nct}_ft(t,s){this.ect=t,this.nct=s}Pft(){return"string"==typeof this.lct&&this.lct&&(this.hct=this.Jlt.Eft(this.lct),this.lct=""),this.hct}oft(t){this.hct=t,this.hct===this&&(this.hct=null)}Ect(){return"string"==typeof this.cct&&this.cct&&(this.oct=this.Jlt.Eft(this.cct),this.cct=""),this.oct?this.oct:this}Lft(t){this.oct=t}kft(){return this.Fft(),!!this.rct}Gft(t){return this.Fft(),this.rct&&this.rct.has(t)}Fft(){if(this.uct){this.rct&&this.rct.clear(),this.rct||(this.rct=new Map);for(const t of this.uct){const s=this.Jlt.Eft(t.flowchartStateTag),i=s.yct(t.flowchartElementId);this.rct.set(i,s)}this.uct=null}}Dct(){return this.Fft(),this.rct}Cft(t){return this.Fft(),this.rct.get(t)}Nft(t,s){this.rct||(this.rct=new Map),this.rct.set(t,s)}}}{const Ag=self.Gs;Ag.jft=class{constructor(t){this.kc=t,this.zft=new Map,this.Bft=null,this.Uft=[],this.Wft=()=>this.D6(),this.Vft=null}Yn(){Ag.Mh(this.Uft),this.Uft=null,this.zft.clear(),this.zft=null,this.Bft=null,this.kc=null,this.Vft=null}Fj(){return this.kc}Vlt(t){return this.kc.pct().Vlt(t)}Dft(t,s,i,e,n,r){const h=this.kc.pct().Vlt(t);if(!h)return void console.warn(`[Flowcharts] no flowchart found with name '${t}'`);if(this.zft.has(i)){const t=this.zft.get(i);t&&this.pft(t)}const o=new Ag.Qlt(t,i,s,h,this,e,r);return this.zft.set(i,o),n&&this.Lct(o,!0),o}pft(t){if(t.lft(),t.cft())return;const s=t.AJ();this.zft.delete(s),t.Yn(),this.Bft===t&&(this.Bft=null)}Yft(t){t.Ff()}Eft(t){return this.zft.get(t)}mft(t){this.Uft.push(t)}Ift(){this.Uft.pop()}Lct(t,s=!1,i=!1,e=!0){if(e){const s=t.Pft();t=s||t}t!==this.Bft&&(this.Qft(),this.Jft(t,s,i))}Hft(t){return"string"==typeof t?this.Eft(t):this.Uft.length?this.Uft[this.Uft.length-1]:this.Bft}Qft(){if(!this.Bft)return;if(this.Bft.Qn())return;const t=this.Bft.X6().iH();this.Bft.fft(),this.mft(this.Bft),this.kc.vV(Ag.Dj.yft.Aj.qft,t),this.Ift(),this.Bft.dft()}Jft(t,s=!1,i=!1){if(this.Bft=t,!this.Bft)return;if(this.Bft.Qn())return;const e=this.Bft.X6().iH();this.Bft.fft(),this.mft(this.Bft),this.kc.vV(Ag.Dj.yft.Aj.Xft,e),!0!==i&&"number"!=typeof i||this.Bft.Klt(i),s&&(this.kc.vV(Ag.Dj.yft.Aj.Tft,e),this.kc.vV(Ag.Dj.yft.Aj.bft,e),this.kc.vV(Ag.Dj.yft.Aj.vft,e),this.kc.vV(Ag.Dj.yft.Aj.xft,e)),this.Ift(),this.Bft.dft()}M3(){return{flowchartJsonObjects:[...this.zft.values()].map((t=>t.M3())),currentFlowchartTag:this.Bft?this.Bft.AJ():null}}S3(t){if(!t)return;this.Vft=t;const s=new Map;for(const t of this.Vft.flowchartJsonObjects){const i=t.flowchartTag;if(this.zft.has(i)){const e=this.zft.get(i);e.S3(t),s.set(i,e)}else{const i=this.Dft(t.flowchartName,t.startNodeTag,t.flowchartTag,null,!1,t.pluginUID);i.S3(t),s.set(t.flowchartTag,i)}}for(const[t,i]of this.zft.entries())s.has(t)||i.Yn();this.zft.clear(),this.zft=s,this.kc.e5()?this.kc.yf().addEventListener("afterload",this.Wft):this.D6()}D6(){this.kc.yf().removeEventListener("afterload",this.Wft);const t=this.zft.get(this.Vft.currentFlowchartTag);t&&this.Lct(t,!0),this.Vft=null}}}{const Eg=self.Gs;Eg.Wlt=class{constructor(){this.Zft=new Map}Yn(){for(const t of this.Zft.values())t.Yn();this.Zft.clear(),this.Zft=null}Fl(t){const s=new Eg.Kft(t),i=s._c();this.Zft.set(i,s)}Ys(t){return this.Zft.get(t)}Ylt(){return!!this.Zft.size}static $ft(t,s,i,e){if(s)for(const n of s){const s=new i(n,e);t.push(s)}}}}{const Dg=self.Gs;Dg.Kft=class{constructor(t){this.Hn=t[0],this.tdt=new Dg.sdt(t[1],this)}Yn(){this.tdt.Yn(),this.tdt=null}idt(){return this.tdt}yct(t){return this.tdt.yct(t)}Zct(t){return this.tdt.Zct(t)}Kct(){return this.tdt.Kct()}_c(){return this.Hn}}}{const Ng=self.Gs;class Lg{constructor(t,s){this.tdt=s,this.Yc=t[7],this.edt=t[0],this.Ew=t[1],this.Ew?this.J9=this.Ew.trim().split(" ").map((t=>t.trim())):this.J9=[],this.ndt=t[2],this.rdt=null,this.hdt=null,this.vat=!1,"dictionary"===this.Yc&&(this.rdt=t[3],this.hdt=t[4],this.vat=t[8]),this.odt=t[6],this.adt=null,this.udt=null,this.ldt=null,"reference"===this.Yc&&(this.adt=t[8],this.udt=t[9],this.ldt=t[10],this.vat=t[11]),this.cdt=new Ng.fdt(t[5],this)}Yn(){this.tdt=null}idt(){return this.tdt}kct(){return this.cdt}tct(){return this.edt}AJ(){return this.Ew}VJ(){return this.J9}OJ(t){if(!this.J9)return!1;if(!this.J9.length)return!1;const s=Ng.Qlt.Itt(t);return!(!s||!s.length)&&s.every(Ng.Qlt.Ctt,this.J9)}ddt(){return this.odt}pdt(t){this.odt=!!t}mdt(){if("dictionary"===this.Yc)return!0;if("reference"===this.Yc)return!1;throw new Error(`unexpected flowchart node type: ${this.Yc}`)}xct(){return this.ndt}gdt(){return this.rdt}ydt(){return this.hdt}LG(){return this.Yc}Eit(){return this.vat}qct(){return this.adt}Xct(){return this.udt}Aft(){return this.ldt}}Ng.sdt=class{constructor(t,s){this.Xlt=s,this.wdt=[],this.Mdt=new Map,this.Sdt=new Map,this.Tdt=null,Ng.Wlt.$ft(this.wdt,t,Lg,this);for(const t of this.wdt){const s=t.tct(),i=t.AJ(),e=t.VJ(),n=t.ddt();if(this.Mdt.set(s,t),i)for(const s of e)this.Sdt.has(s)||this.Sdt.set(s,new Set),this.Sdt.get(s).add(t);n&&(this.Tdt=t);const r=t.kct();for(const t of r.bdt()){const s=t.tct();this.Mdt.set(s,t)}}this.Tdt||this.vdt()}Yn(){this.Xlt=null;for(const t of this.wdt)t.Yn();Ng.Mh(this.wdt),this.wdt=null}mct(){return this.Xlt}yct(t){return this.Mdt.get(t)}Zct(t){if(!t||!t.length)return null;const s=[];for(const i of t.trim().split(" ")){let t=this.Sdt.get(i.trim())??new Set;if(0===t.size)return null;s.push(t)}return[...s.reduce(((t,s)=>s.size<t.size?s:t))].filter((t=>s.every((s=>s.has(t)))))[0]}Kct(){return this.Tdt}*xdt(){for(const t of this.wdt)yield t}vdt(){let t=0;for(const s of this.xdt())s.ddt()&&t++;if(0===t){for(const t of this.xdt())if(t.mdt()&&!t.ddt())return void t.pdt(!0)}else{if(1===t)return;if(t>1){let t=!0;for(const s of this.xdt())s.mdt()&&(s.ddt()&&t?t=!1:s.ddt()&&!t&&s.pdt(!1))}}for(const t of this.xdt())if(t.mdt()&&t.ddt())return void(this.Tdt=t)}}}{const Og=self.Gs;class Rg{constructor(t,s){this.cdt=s,this.edt=t[0],this.Hn=t[1],this.Trt=t[2],this.Idt=t[3],this.vat=t[4],this.Gdt=t[5]}Yn(){this.cdt=null}kct(){return this.cdt}tct(){return this.edt}_c(){return this.Hn}Jet(){return this.Trt}Jct(){return this.Idt}Eit(){return this.vat}Cdt(){return this.Gdt}}Og.fdt=class{constructor(t,s){this._dt=s,this.Adt=[],this.Edt=new Map,Og.Wlt.$ft(this.Adt,t,Rg,this),this.Ddt=this.Adt.filter((t=>t.Eit()));for(const t of this.Ddt)this.Edt.set(t._c(),t)}Yn(){this._dt=null;for(const t of this.Adt)t.Yn();Og.Mh(this.Adt),this.Adt=null,Og.Mh(this.Ddt),this.Ddt=null}Ndt(){return this._dt}Pct(){return this.Ddt.length}Bct(){return this.Ddt}Oft(t){return this.Edt.get(t)}zct(){for(const t of this.Ddt)if(t.Cdt())return t}*bdt(){for(const t of this.Ddt)yield t}}}{const Pg=self.Gs;Pg.Ldt=class extends Pg.Un{constructor(t){super(),this.Odt=t,this.Rdt=[],this.Rdt.push(Pg.Vn(Pg.Pdt,this)),this.Aw=0,this.kdt=this.Rdt[0]}Yn(){for(const t of this.Rdt)t.Yn();Pg.Mh(this.Rdt),this.kdt=null,this.Odt=null}BW(){return this.Odt}LB(){return this.kdt}Fdt(){return this.Rdt[this.Aw-1]}_l(){this.LB()._l()}jdt(){const t=this.Rdt,s=++this.Aw;if(s===t.length){const s=Pg.Vn(Pg.Pdt,this);t.push(s),this.kdt=s}else{const i=t[s];i.Ff(),this.kdt=i}}zdt(){const t=this.Rdt,s=++this.Aw;s===t.length&&t.push(Pg.Vn(Pg.Pdt,this));const i=t[s];i.nd(t[s-1]),this.kdt=i}zq(){this.kdt=this.Rdt[--this.Aw]}Bdt(t){const s=this.Rdt;for(let i=0,e=s.length;i<e;++i)s[i].Bdt(t)}}}{const kg=self.Gs;kg.Pdt=class extends kg.Un{constructor(t){super(),this.Rdt=t,this.Odt=this.Rdt.BW(),this.Udt=this.Odt.Fj().Kk(),this.Wdt=!0,this.NK=[],this.Vdt=[]}Yn(){this.Ydt(),this.Rdt=null,this.Odt=null,this.Udt=null}Ydt(){kg.Mh(this.NK),kg.Mh(this.Vdt)}BW(){return this.Odt}Qdt(){return this.Wdt}Jdt(){return this.Wdt?!!this.Odt.PB():!!this.NK.length}NB(){return this.Wdt?this.Odt.NB():this.NK}Hdt(){return!!this.Vdt.length}qdt(){return this.Vdt}Xdt(){const t=this.NB();return t.length?t:this.Vdt}Ff(){this.Wdt=!0,kg.Mh(this.Vdt)}_l(){this.Wdt=!0}nd(t){t.Qdt()?this.Ff():(this.Wdt=!1,kg.xh(this.NK,t.NK),kg.Mh(this.Vdt))}Zdt(t){this.NK.push(t)}Kdt(t){this.Vdt.push(t)}$dt(t){this.Wdt=!!t}tpt(){return this.NK}spt(){return this.Vdt}ipt(t){this.Wdt=!1,kg.Mh(this.NK),this.NK.push(t)}ept(t){this.Wdt=!1,kg.xh(this.NK,t)}npt(t){this.Wdt=!1,kg.Mh(this.NK);for(const s of t)this.NK.push(s)}rpt(t,s){for(const i of s)t.has(i)||this.Vdt.push(i)}hpt(t){for(const s of t)this.NK.push(s);kg.Ah(this.Vdt,t)}opt(){kg.Mh(this.Vdt)}apt(t){if(t)if(this.Udt._q().Yk().upt()){this.Qdt()&&(kg.Mh(this.NK),kg.xh(this.Vdt,t.BW().NB()),this.Wdt=!1);const s=this.Vdt.indexOf(t);-1!==s&&(this.NK.push(this.Vdt[s]),this.Vdt.splice(s,1))}else this.ipt(t)}Bdt(t){kg.Ah(this.NK,t),kg.Ah(this.Vdt,t)}}}{const Fg=self.Gs;Fg.lpt=class extends Fg.Un{constructor(t){super(),this.cpt=t,this.kc=this.cpt.Fj(),this.Rdt=[],this.Rdt.push(Fg.Vn(Fg.fpt,this,null)),this.Aw=0,this.dpt=[]}Yn(){for(const t of this.Rdt)t.Yn();Fg.Mh(this.Rdt),Fg.Mh(this.dpt),this.cpt=null,this.kc=null}jk(){return this.cpt}Fj(){return this.kc}_q(){return this.Rdt[this.Aw]}ppt(){return this.Rdt}mpt(){return this.Aw}Aq(t){const s=this.Rdt,i=++this.Aw;if(i===s.length){const i=Fg.Vn(Fg.fpt,this,t);return s.push(i),i}{const e=s[i];return e.Ff(t),e}}zq(){--this.Aw}gpt(t){this.dpt.push(t)}ypt(){this.dpt.pop()}Zk(){const t=this.dpt;return 0===t.length?null:t.at(-1)}}}{const jg=self.Gs;jg.fpt=class extends jg.Un{constructor(t,s){super(),this.Rdt=t,this.kc=this.Rdt.Fj(),this.wpt=s,this.Mpt=0,this.Spt=0,this.Tpt=!1,this.bpt=!1,this.vpt=null,this.xpt=0,this.Ipt=0,this.Gpt=null}Yn(){this.Ff(null),this.Rdt=null,this.kc=null}Ff(t){this.wpt=t,this.Mpt=0,this.Spt=0,this.Tpt=!1,this.bpt=!1,this.Gpt=null}Cpt(t,s){this.wpt=t,this.Mpt=0,this.Spt=s}_pt(){this.Mpt=0,this.Spt=0}Yk(){return this.wpt}Apt(t){this.wpt=t}Ept(){return this.Mpt}Dpt(t){this.Mpt=t}Npt(){return this.Spt}Lpt(t){this.Spt=t}Opt(t){this.Tpt=!!t}Rpt(){return this.Tpt}Ppt(t){this.bpt=!!t}kpt(){return this.bpt}Fpt(t){this.vpt=t}jpt(){return this.vpt}zpt(t,s){this.xpt=t,this.Ipt=s}$k(){return this.xpt}tF(t){this.Ipt=t}Bpt(){return this.Ipt}Upt(){const t=this.wpt;return!!t.Wpt()||this.Mpt<t.Vpt()-1&&!!t.Cq().length}Ypt(t){this.Gpt=t}Qpt(){return this.Gpt}}}{const zg=self.Gs;zg.Jpt=class extends zg.Un{constructor(t){super(),this.cpt=t,this.kc=this.cpt.Fj(),this.Rdt=[],this.Aw=-1,this.kdt=null,this.Hpt=[]}Yn(){zg.Mh(this.Rdt),this.cpt=null,this.kc=null}qpt(t){this.Hpt=t;const s=this.Hpt.slice(0);this.Rdt.push(s),this.Aw=0,this.kdt=s}jk(){return this.cpt}Fj(){return this.kc}Xpt(){return this.kdt}Aq(){const t=++this.Aw,s=this.Rdt;t===s.length?s.push(this.Hpt.slice(0)):zg.xh(s[t],this.Hpt),this.kdt=s[t]}zq(){this.kdt=this.Rdt[--this.Aw]}}}{const Bg=self.Gs;Bg.Zpt=class extends Bg.Un{constructor(t){super(),this.cpt=t,this.kc=this.cpt.Fj(),this.Rdt=[],this.Aw=-1}Yn(){Bg.Mh(this.Rdt),this.cpt=null,this.kc=null}jk(){return this.cpt}Fj(){return this.kc}Kpt(){return this.Aw>=0}Xpt(){return this.Rdt[this.Aw]}Aq(){if(++this.Aw,this.Aw===this.Rdt.length){const t=Bg.Vn(Bg.$pt,this);return this.Rdt.push(t),t}{const t=this.Rdt[this.Aw];return t.Ff(),t}}zq(){--this.Aw}tmt(t){const s=this.Rdt;for(let i=this.Aw;i>=0;--i){const e=s[i];if(e._c()===t)return e}return null}smt(){return this.Rdt.slice(0,this.Aw+1)}}}{const Ug=self.Gs;Ug.$pt=class extends Ug.Un{constructor(t){super(),this.imt=t,this.Hn="",this.Aw=0,this.emt=!1,this.nmt=NaN}Ff(){this.Hn="",this.Aw=0,this.emt=!1,this.nmt=NaN}Dq(t){this.Hn=t}_c(){return this.Hn}kq(t){this.Aw=t}$P(){return this.Aw}NJ(){this.emt=!0}jq(){return this.emt}rmt(t){this.nmt=t}hmt(){return this.nmt}}}{const Wg=self.Gs;Wg.omt=class extends Wg.Un{constructor(){super(),this.Rdt=[],this.Aw=-1}Yn(){Wg.Mh(this.Rdt)}Xpt(){return this.Rdt[this.Aw]}Aq(){if(++this.Aw,this.Aw===this.Rdt.length){const t=[];return this.Rdt.push(t),t}return this.Rdt[this.Aw]}zq(){--this.Aw}}}{let Vg=function(t,s){return t.$P()-s.$P()},Yg=function(t,s){for(let i=0,e=t.length;i<e;++i)if(t[i]!==s[i])return!1;return!0};0;const Qg=self.Gs;self.assert;Qg.amt=class extends Qg.Un{constructor(t){super(),this.kc=t,this.umt=[],this.lmt=new Map,this.cmt=[],this.fmt=new Map,this.dmt=new Map,this.pmt=new Map,this.mmt=new Map,this.gmt=new Map,this.ymt=new Map,this.wmt=0,this.Mmt=[],this.Smt=[],this.Tmt=[],this.bmt=new Map,this.vmt=new Map,this.Udt=Qg.Vn(Qg.lpt,this),this.xmt=Qg.Vn(Qg.Jpt,this),this.imt=Qg.Vn(Qg.Zpt,this),this.Imt=[],this.Gmt=[],this.Cmt=[],this._mt=0,this.Amt=0,this.Emt=0,this.Dmt=[],this.Nmt=[],this.Lmt=[],this.Omt=new Map,this.Rmt=new Map,self.c3_callFunction=(t,s)=>this.Pmt(t,s)}Yn(){this.T5(),this.Udt.Yn(),this.Udt=null,this.xmt.Yn(),this.xmt=null,Qg.Mh(this.Gmt),Qg.Mh(this.Cmt),this.kc=null,Qg.Mh(this.umt),this.lmt.clear()}EI(t){const s=Qg.Vn(Qg.kmt,this,t);this.umt.push(s),this.lmt.set(s._c().toLowerCase(),s)}Fmt(t){this.Imt.push(t)}jmt(){for(const t of this.vmt.values())t.zmt();for(const t of this.bmt.values())t.jmt();for(const t of this.vmt.values())t.jmt();for(const t of this.umt)t.jmt();for(const t of this.umt)t.Y4();for(const t of this.Imt)t.jmt(!1);Qg.Mh(this.Imt),this.xmt.qpt(this.Tmt)}Fj(){return this.kc}V4(t){return this.lmt.get(t.toLowerCase())||null}Bmt(t){this.cmt.push(t),this.fmt.set(t.Umt(),t)}Wmt(t){this.dmt.set(t.W0(),t)}Vmt(t){this.pmt.set(t.W0(),t)}Ymt(t){this.mmt.set(t.W0(),t)}Qmt(t){switch(t.Jmt()){case 0:this.bmt.set(t.Hmt().toLowerCase(),t);break;case 1:this.vmt.set(t.Hmt().toLowerCase(),t)}}qmt(t){this.ymt.set(t.W0(),t),t.b0()?this.Mmt.push(t):this.Smt.push(t)}Xmt(t){t.length>=2&&t.sort(Vg);let s=this.gmt.get(t.length);s||(s=[],this.gmt.set(t.length,s));for(let i=0,e=s.length;i<e;++i){const e=s[i];if(Yg(t,e))return e}return s.push(t),t}Zmt(t){return this.Tmt.push(t.Kmt()),this.wmt++}Kk(){return this.Udt}$mt(){return this.Kk()._q()}Yk(){return this.$mt().Yk()}tgt(){const t=this.$mt();return t.Yk().sgt(t.Ept())}igt(){const t=this.$mt();return t.Yk().egt(t.Npt())}ngt(){return this.xmt}Eq(){return this.imt}rgt(t){const s=[];for(t=t.hgt();t;)Qg.Nn(s,t.ogt()),t=t.hgt();return s}agt(t){const s={};for(const i of this.rgt(t))s[i.ugt()]=i.lgt();return Object.create(Object.prototype,s)}cgt(t){return this.ymt.get(t)||null}fgt(t){return this.dmt.get(t)||null}dgt(t){return this.pmt.get(t)||null}pgt(t){return this.mmt.get(t)||null}zk(t){return this.bmt.get(t.toLowerCase())||null}mgt(t,s){let i=this.vmt.get((t._c()+"."+s).toLowerCase());if(i)return i;if(!t.P0())for(const e of t.JB())if(i=this.vmt.get((e._c()+"."+s).toLowerCase()),i)return i;return null}ggt(){return this.Mmt}ygt(){return this.Smt}wgt(t){for(const t of this.Mmt)t.Mgt();if(t)for(const t of this.Smt)t.Lx()&&t.Mgt()}Sgt(t){return this.fmt.get(t.toLowerCase())||null}Tgt(t){const s=this.dmt.get(t);return s&&s.bgt()?s:null}vgt(){return this.cmt}xgt(){for(const t of this.cmt)t.Igt()}Ggt(){for(const t of this.umt)t.Cgt()}_gt(t){this.Ggt(),this._mt++;for(const s of t.K5()){const t=s.y4();t&&(this.kc.Agt(s),t.K_(),this.kc.Egt())}this._mt--}async Dgt(t){this.Ggt(),this._mt++;for(const s of this.Ngt(t))await this.kc.Lgt(s);this._mt--}*Ngt(t){for(const s of t.K5()){const t=s.y4();t&&(this.kc.Agt(s),yield*t.Ogt(),this.kc.Egt())}}Rgt(t,s,i,e){let n=!1;if(!t.UF())return this.Pgt(s,i,e);this.Amt++;for(const r of t.K5()){const t=r.y4();if(!t)continue;this.kc.Agt(r);for(const r of t.kgt()){const t=r.Rgt(s,i,e);n=n||t}const h=t.Rgt(s,i,e);n=n||h,this.kc.Egt()}return this.Amt--,n}*Fgt(t,s,i,e){let n=!1;if(!t.UF())return this.Pgt(s,i,e);this.Amt++;for(const r of t.K5()){const t=r.y4();if(!t)continue;this.kc.Agt(r);for(const r of t.kgt()){const t=yield*r.Fgt(s,i,e);n=n||t}const h=yield*t.Fgt(s,i,e);n=n||h,this.kc.Egt()}return this.Amt--,n}Pgt(t,s,i){return this.Gmt.push([t,s,i]),!1}jgt(t,s,i){let e=null;const n=new Promise((t=>e=t));return this.Cmt.push([t,s,i,e]),n}*zgt(){if(this.kc.Bgt())throw new Error("should not be in breakpoint");const t=this.kc.YF();for(;this.Cmt.length;){const[s,i,e,n]=this.Cmt.shift();n(yield*this.Fgt(t,s,i,e))}}async Ugt(){for(const t of this.zgt())await this.kc.Lgt(t)}Wgt(t,s,i,e){let n=!1;const r=t.UF(),h=r.y4();if(!h)return;this.Amt++,this.kc.Agt(r);const o=h.kgt();for(let t=0,r=o.length;t<r;++t){const r=o[t].Wgt(s,i,e);n=n||r}const a=h.Wgt(s,i,e);return n=n||a,this.kc.Egt(),this.Amt--,n}*Vgt(t,s,i,e){let n=!1;const r=t.UF(),h=r.y4();if(!h)return;this.Amt++,this.kc.Agt(r);const o=h.kgt();for(let t=0,r=o.length;t<r;++t){const r=yield*o[t].Vgt(s,i,e);n=n||r}const a=yield*h.Vgt(s,i,e);return n=n||a,this.kc.Egt(),this.Amt--,n}Ygt(){return this.Amt}Qgt(){return this.Ygt()>0}Jgt(){return++this.Amt}Hgt(){--this.Amt}qgt(){return this._mt>0}WB(){return this.qgt()||this.Qgt()}f5(t){for(const[s,i,e]of this.Gmt)this.Rgt(t,s,i,e);Qg.Mh(this.Gmt)}BB(t){t?this.Emt++:this.Emt--}HW(){return this.Emt>0}Xgt(t){for(let s=0,i=t.length;s<i;++s)t[s].Zgt()._l()}Kgt(t){for(let s=0,i=t.length;s<i;++s)t[s].Zgt().jdt()}Oq(t){for(let s=0,i=t.length;s<i;++s)t[s].Zgt().zdt()}Pq(t){for(let s=0,i=t.length;s<i;++s)t[s].Zgt().zq()}Qk(t){const s=new Set,i=this.Udt.ppt(),e=this.Udt.mpt();for(let n=0;n<=e;++n){const e=i[n].Qpt();if(e)for(const i of e)t&&t.has(i)||s.add(i)}return s}$gt(t){const s=new Set([...t]),i=this.Qk(s);if(i.size>0){for(const t of i)t.Zgt().jdt();return[...i]}return null}tyt(){const t=Qg.Vn(Qg.syt,this);return this.Dmt.push(t),t}iyt(){return this.Dmt}eyt(){if(!this.Dmt.length)return;const t=this.$mt();let s=!1;this._mt++;for(let i=0,e=this.Dmt.length;i<e;++i){const e=this.Dmt[i];e.nyt()&&e.ryt(t),e.hyt()&&(s=!0)}s&&(this.oyt(),t.Ff(null)),this._mt--}async ayt(){if(!this.Dmt.length)return;const t=this.$mt();let s=!1;this._mt++;for(let i=0,e=this.Dmt.length;i<e;++i){const e=this.Dmt[i];e.nyt()&&await e.uyt(t),e.hyt()&&(s=!0)}s&&(this.oyt(),t.Ff(null)),this._mt--}oyt(){const t=Qg._h(this.Dmt,(t=>t.hyt()));for(const s of t)s.Yn()}T5(){for(const t of this.Dmt)t.Yn();Qg.Mh(this.Dmt)}lyt(t){for(const s of this.Dmt)s.Bdt(t);for(const s of t){const t=this.Rmt.get(s);if(this.Rmt.delete(s),t)for(const{resolve:s}of t.cyt.values())s(!0)}}fyt(t){this.Nmt.push({promise:t,dyt:this.Ygt()})}pyt(){Qg.Mh(this.Nmt)}myt(){const t=this.Ygt(),s=Promise.all(this.Nmt.filter((s=>s.dyt===t)).map((t=>t.promise)));return this.Nmt=this.Nmt.filter((s=>s.dyt<t)),s}sF(t){const s=t.toLowerCase();this.Lmt.push(s),this.kc.vV(Qg.Dj.Ej.Aj.gyt,null),this.Lmt.pop();for(const t of this.kc.jk().iyt())t.yyt()&&t.wyt()===s&&t.Myt();const i=this.Omt.get(s);i&&(i.resolve(),this.Omt.delete(s))}eF(t){const s=t.toLowerCase(),i=this.Omt.get(s);if(i)return i.promise;{let t=null;const i=new Promise((s=>t=s));return this.Omt.set(s,{promise:i,resolve:t}),i}}Syt(){if(0===this.Lmt.length)throw new Error("not in a signal");return this.Lmt.at(-1)}Tyt(t){let s=this.Rmt.get(t);return s||(s={byt:[],cyt:new Map},this.Rmt.set(t,s)),s}dV(t,s){const i=this.Tyt(t),e=s.toLowerCase();i.byt.push(e),this.kc.vV(t.TB().xyt().Aj.vyt,t),i.byt.pop();for(const s of this.kc.jk().iyt())s.Iyt()&&s.wyt()===e&&s.Gyt(t);const n=i.cyt.get(e);n&&(n.resolve(!1),i.cyt.delete(e)),0===i.byt.length&&0===i.cyt.size&&this.Rmt.delete(t)}pV(t,s){const i=this.Tyt(t),e=s.toLowerCase(),n=i.cyt.get(e);if(n)return n.promise;{let t=null;const s=new Promise((s=>t=s));return i.cyt.set(e,{promise:s,resolve:t}),s}}Cyt(t){const s=this.Tyt(t);if(!s||0===s.byt.length)throw new Error("not in a signal");return s.byt.at(-1)}M3(){return{groups:this._yt(),cnds:this.Ayt(),acts:this.Eyt(),vars:this.Dyt(),waits:this.Nyt()}}S3(t){this.Lyt(t.groups),this.Oyt(t.cnds),this.Ryt(t.acts),this.Pyt(t.vars),this.kyt(t.waits)}_yt(){const t={};for(const s of this.vgt())t[s.W0().toString()]=s.Fyt();return t}Lyt(t){for(const[s,i]of Object.entries(t)){const t=parseInt(s,10),e=this.Tgt(t);e&&e.jyt(i)}}Ayt(){const t={};for(const[s,i]of this.pmt){const e=i.M3();e&&(t[s.toString()]=e)}return t}Oyt(t){const s=new Map;for(const[i,e]of Object.entries(t))s.set(parseInt(i,10),e);for(const[t,i]of this.pmt)i.S3(s.get(t)||null)}Eyt(){const t={};for(const[s,i]of this.mmt){const e=i.M3();e&&(t[s.toString()]=e)}return t}Ryt(t){const s=new Map;for(const[i,e]of Object.entries(t))s.set(parseInt(i,10),e);for(const[t,i]of this.mmt)i.S3(s.get(t)||null)}Dyt(){const t={};for(const[s,i]of this.ymt)i.zyt()||!i.b0()&&!i.Lx()||(t[s.toString()]=i.Jet());return t}Pyt(t){for(const[s,i]of Object.entries(t)){const t=parseInt(s,10),e=this.cgt(t);e&&e.Ant(i)}}Nyt(){return this.Dmt.filter((t=>!t.Byt())).map((t=>t.M3()))}kyt(t){this.T5();for(const s of t){const t=Qg.syt.Uyt(this,s);t&&this.Dmt.push(t)}}Wyt(){return[...this.kc.YF().K5()].map((t=>t.y4())).filter((t=>t)).map((t=>t.Vyt()))}Yyt(t){for(;t;){const s=t.hgt();if(s instanceof Qg.Qyt)return s;t=s}return null}Pmt(t,s){Array.isArray(s)||(s=[]);const i=this.zk(t.toLowerCase());if(!i)return null;if(!i.Il())return i.Bk();const e=i.Jyt();if(s.length<e.length){s=s.slice(0);do{s.push(e[s.length].Kmt())}while(s.length<e.length)}const n=i.Wk();return n.Jk(n.Vk(),!1,i.qk(),i.Bk(),...s)}}}{const Jg=self.Gs;Jg.kmt=class extends Jg.Un{constructor(t,s){super(),this.cpt=t,this.kc=t.Fj(),this.Hn=s[0],this.Hyt=[],this.qyt=new Map,this.Xyt=new Map,this.Zyt=new Map,this.Kyt=!1,this.$yt=[],this.twt=[],this.swt=new Set;for(const t of s[1])this.iwt(t,null,this.Hyt);this.ewt=this.kc.DV()?{type:"sheet",name:this.Hn,nwt:0,children:[]}:null}Yn(){this.cpt=null,this.kc=null}iwt(t,s,i){switch(t[0]){case 0:case 3:this.rwt(t,s,i);break;case 1:this.hwt(t,s,i);break;case 2:this.owt(t,s,i);break;case 4:this.awt(t,s);break;case 5:this.uwt(t,s,i);break;case 6:this.lwt(t,s);break;default:throw new Error("invalid event type")}}rwt(t,s,i){const e=Jg.cwt.EI(this,s,t);if(e.upt()){i.push(e);const t=e.fwt();for(let s=0,i=t.length;s<i;++s)t[s].dwt()&&this.pwt(e,s)}else e.dwt()?this.pwt(e,0):i.push(e)}awt(t,s){const i=Jg.Qyt.mwt(this,s,t);this.cpt.Qmt(i)}lwt(t,s){const i=Jg.Qyt.gwt(this,s,t);this.cpt.Qmt(i)}hwt(t,s,i){const e=Jg.ywt.EI(this,s,t);i.push(e)}owt(t,s,i){const e=Jg.wwt.EI(this,s,t);i.push(e)}uwt(t,s,i){const e=Jg.Mwt.EI(this,s,t);i.push(e)}pwt(t,s){t.upt()||this.cpt.Fmt(t);const i=t.sgt(s),e=i.Swt(),n=i.BW();if(i.Twt()){let r=this.Xyt.get(n);r||(r=new Map,this.Xyt.set(n,r));const h=i.bwt().toLowerCase();let o=r.get(e);o||(o=new Map,r.set(e,o));let a=o.get(h);a||(a=[],o.set(h,a)),a.push([t,s])}else{let r=this.qyt.get(n);r||(r={vwt:new Map,xwt:new Map},this.qyt.set(n,r));const h=i.zQ();let o;h?(o=r.xwt.get(h),o||(o=new Map,r.xwt.set(h,o))):o=r.vwt;let a=o.get(e);a||(a=[],o.set(e,a)),a.push([t,s])}}jmt(){const t=this.Hyt;for(let s=0,i=t.length;s<i;++s){const e=s<i-1&&t[s+1]instanceof Jg.cwt&&t[s+1].Iwt();t[s].jmt(e)}}Gwt(t){this.$yt.push(t)}Y4(){Jg.Mh(this.twt),this.Cwt(this),this.swt.clear()}Cwt(t){const s=t.twt,i=t.swt;for(const e of this.$yt){const n=e._wt();e.Awt()&&t!==n&&!i.has(n)&&(i.add(n),n.Cwt(t),s.push(n))}}kgt(){return this.twt}jk(){return this.cpt}Fj(){return this.kc}_c(){return this.Hn}Ewt(t,s){this.Zyt.set(s,t)}Dwt(t){return this.Zyt.get(t)||null}Cgt(){this.Kyt=!1}K_(){if(this.Kyt)return;const t=this.kc,s=t.Nwt(),i=s?performance.now():0;this.Kyt=!0;const e=this.jk(),n=e.$mt();for(const s of this.Hyt)s.K_(n),e.Xgt(s.Cq()),e.pyt(),t.YB();n.Ff(null),s&&(this.ewt.nwt+=performance.now()-i)}*Ogt(){if(this.Kyt)return;this.Kyt=!0;const t=this.kc,s=this.jk(),i=s.$mt();for(const e of this.Hyt)yield*e.Ogt(i),s.Xgt(e.Cq()),s.pyt(),t.YB();i.Ff(null)}Rgt(t,s,i){if(!s)return this.Lwt(t,s,null,null);{const e=s.BW();let n=!1,r=this.Lwt(t,s,e,i);n=n||r;for(const h of e.JB())r=this.Lwt(t,s,h,i),n=n||r}}Lwt(t,s,i,e){const n=this.qyt.get(i);if(!n)return!1;const r=e?n.xwt.get(e):n.vwt;if(!r)return!1;const h=r.get(t);if(!h)return!1;let o=!1;for(const[t,i]of h){const e=this.Owt(s,t,i);o=o||e}return o}*Fgt(t,s,i){if(!s)return yield*this.Rwt(t,s,null,null);{const e=s.BW();let n=!1,r=yield*this.Rwt(t,s,e,i);n=n||r;for(const h of e.JB())r=yield*this.Rwt(t,s,h,i),n=n||r}}*Rwt(t,s,i,e){const n=this.qyt.get(i);if(!n)return!1;const r=e?n.xwt.get(e):n.vwt;if(!r)return!1;const h=r.get(t);if(!h)return!1;let o=!1;for(const[t,i]of h){let e;e=t.Pwt()?this.Owt(s,t,i):yield*this.kwt(s,t,i),o=o||e}return o}Wgt(t,s,i){const e=s.BW(),n=this.Xyt.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const h=r.get(i);if(!h)return!1;let o=!1;for(let t=0,s=h.length;t<s;++t){const s=h[t],i=this.Owt(null,s[0],s[1]);o=o||i}return o}*Vgt(t,s,i){const e=s.BW(),n=this.Xyt.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const h=r.get(i);if(!h)return!1;let o=!1;for(let t=0,s=h.length;t<s;++t){const s=h[t],i=s[0],e=s[1];let n;n=i.Pwt()?this.Owt(null,i,e):yield*this.kwt(null,i,e),o=o||n}return o}Owt(t,s,i){const e=this.kc,n=this.cpt,r=n.Yk(),h=n.Kk(),o=n.Ygt();let a=!1;r&&n.Kgt(r.Vk()),n.Kgt(s.Vk());const u=o>1;u&&n.ngt().Aq();const l=h.Aq(s);t&&(s.fwt()[i].BW().LB().ipt(t),t.KW()&&t.Fwt());let c=!0;if(s.OY()){const t=s.jwt();for(let s=0,i=t.length;s<i;++s)if(!t[s].zwt(l)){c=!1;break}}return c&&(s.upt()?s.Bwt(l,i):s.K_(l),a=l.Rpt()),h.zq(),u&&n.ngt().zq(),n.Pq(s.Vk()),r&&n.Pq(r.Vk()),r||1!==o||(n.pyt(),n.HW()||e.YB()),a}*kwt(t,s,i){const e=this.kc,n=this.cpt,r=n.Yk(),h=n.Kk(),o=n.Ygt();let a=!1;r&&n.Kgt(r.Vk()),n.Kgt(s.Vk());const u=o>1;u&&n.ngt().Aq();const l=h.Aq(s);t&&(s.fwt()[i].BW().LB().ipt(t),t.KW()&&t.Fwt());let c=!0;if(s.OY()){const t=s.jwt();for(let s=0,i=t.length;s<i;++s)if(!(yield*t[s].Uwt(l))){c=!1;break}}return c&&(s.upt()?yield*s.Wwt(l,i):yield*s.Ogt(l),a=l.Rpt()),h.zq(),u&&n.ngt().zq(),n.Pq(s.Vk()),r&&n.Pq(r.Vk()),r||1!==o||(n.pyt(),n.HW()||e.YB()),a}Vyt(){return this.ewt}}}{let Hg=function(t,s){return!0};0;const qg=self.Gs,Xg=[];function*Zg(t,s){return!0}qg.cwt=class extends qg.Un{constructor(t,s,i){super(),this.L3=t,this.kc=t.Fj(),this.Vwt=s,this.Ywt=null,this.Udt=this.kc.jk().Kk(),this.Qwt=[],this.Jwt=[],this.Hwt=!1,this.qwt=!1,this.Xwt=!1,this.Zwt=!1,this.Kwt=!!i[2],this.$wt=!1,this.tMt=null,this.sMt=[],this.Irt=[],this.iMt=[],this.eMt=Hg,this.nMt=Zg,this.rMt=!1,this.hMt=!1,this.oMt="",this.aMt=!1,this.uMt=null,this.ewt=null,this.f$=i[4],this.lMt=i[5],this.L3.Ewt(this,this.lMt),this.cMt=this.kc.DV()?{fMt:i[3][0],dMt:i[3][1],pMt:!1,mMt:!1,gMt:!1,yMt:!1}:null,this.jk().Wmt(this),3===i[0]&&this.wMt(i[1]);let e=0;for(const t of i[6]){const s=qg.MMt.EI(this,t,e++);this.sMt.push(s),this.SMt(s.BW())}e=0;for(const t of i[7]){const s=qg.TMt.EI(this,t,e++);this.Irt.push(s)}if(9===i.length){const t=i[8];for(const s of t)this.L3.iwt(s,this,this.iMt)}this.sMt.length&&(this.$wt=null===this.sMt[0].BW()&&this.sMt[0].Swt()===qg.Dj.Ej.Aj.bMt),0===this.sMt.length&&(this.sMt=Xg),0===this.Irt.length&&(this.Irt=Xg),0===this.iMt.length&&(this.iMt=Xg)}static EI(t,s,i){return qg.Vn(qg.cwt,t,s,i)}wMt(t){this.rMt=!0,this.hMt=!!t[0],this.aMt=this.hMt,this.oMt=t[1].toLowerCase(),this.uMt=[],this.jk().Bmt(this),this.kc.DV()&&(this.ewt={type:"group",name:t[1],nwt:0,children:[]})}vMt(t){this.uMt.push(t)}xMt(t,s){for(const i of t.E4().tU())s.includes(i)||s.push(i)}IMt(t,s){if(t)if(s.includes(t)||s.push(t),t.P0())for(const i of t.$B())i.KW()&&this.xMt(i,s);else t.KW()&&this.xMt(t,s)}SMt(t){this.IMt(t,this.Qwt)}GMt(t){this.IMt(t,this.Jwt)}CMt(){this.Qwt=this.kc.R0()}jmt(t){this.Zwt=!!t,this._Mt(),this.AMt();for(const t of this.sMt)t.jmt();if(this.Irt.length>0){let t=!1;for(const s of this.Irt)s.jmt(),s.EMt()&&(t=!0);t?(this.eMt=this.DMt,this.nMt=this.NMt):(this.eMt=this.LMt,this.nMt=this.OMt)}const s=this.iMt;for(let t=0,i=s.length;t<i;++t){const e=t<i-1&&s[t+1]instanceof qg.cwt&&s[t+1].Iwt();s[t].jmt(e)}this.cMt&&this.RMt(),this.ewt&&this.PMt().Vyt().children.push(this.ewt)}Vyt(){return this.ewt}PMt(){let t=this.OY();for(;t;){if(t.bgt())return t;t=t.OY()}return this.L3}RMt(){const t=this.cMt;t.pMt=this.sMt.every((t=>t.Pwt())),t.mMt=this.Irt.every((t=>t.Pwt())),t.gMt=this.iMt.every((t=>t.Pwt())),t.yMt=t.pMt&&t.mMt&&t.gMt}kMt(){let t=this;do{t.RMt(),t=t.OY()}while(t)}_Mt(){if(!this.bgt())return;let t=this.OY();for(this.Xwt=!0;t;){if(!t.bgt()){this.Xwt=!1;break}t=t.OY()}}FMt(){const t=this.kc.R0();if(this.Qwt===t)this.Jwt=t;else{this.Jwt=qg.Nh(this.Qwt);let t=this.OY();for(;t;){for(const s of t.Qwt)this.GMt(s);t=t.OY()}const s=this.jk();this.Qwt=s.Xmt(this.Qwt),this.Jwt=s.Xmt(this.Jwt)}}AMt(){if(!this.jMt())return;this.tMt=[];let t=this.OY();for(;t;)this.tMt.push(t),t=t.OY();this.tMt.reverse()}zMt(){this.qwt=!0,this.Vwt&&this.Vwt.zMt()}Wpt(){return this.qwt}Cq(){return this.Qwt}Vk(){return this.Hwt||(this.Hwt=!0,this.FMt()),this.Jwt}BMt(t){return this.Qwt.includes(t)}jwt(){return this.tMt}y4(){return this.L3}jk(){return this.L3.jk()}Fj(){return this.kc}OY(){return this.Vwt}UMt(t){this.Ywt=t}hgt(){return this.Ywt||this.Vwt}WMt(){return this.lMt}VMt(){return this.cMt&&this.cMt.dMt}YMt(){return this.VMt()&&this.cMt.fMt}QMt(t){this.cMt.fMt=!!t,this.kMt()}bgt(){return this.rMt}JMt(){return this.Xwt}Iwt(){return this.$wt}HMt(){return this.Zwt}Umt(){return this.oMt}Fyt(){return this.aMt}Igt(){this.jyt(this.hMt)}jyt(t){if(t=!!t,!this.rMt)throw new Error("not a group");if(this.aMt!==t){this.aMt=t;for(const t of this.uMt)t.qMt();if(this.uMt.length){const t=this.kc.aj().y4();t&&t.Y4()}}}W0(){return this.f$}upt(){return this.Kwt}dwt(){return this.sMt.length&&this.sMt[0].dwt()}XMt(){return this.Ywt&&this.Ywt instanceof qg.Qyt}jMt(){return this.XMt()||this.sMt.some((t=>t.dwt()))}fwt(){return this.sMt}Vpt(){return this.sMt.length}sgt(t){if((t=Math.floor(t))<0||t>=this.sMt.length)throw new RangeError("invalid condition index");return this.sMt[t]}ZMt(t){return this.sgt(t)}KMt(t){let s=t.$P();if(0===s)return!0;--s;const i=t.$Mt()?t.tSt():t.BW();for(;s>=0;--s){const t=this.sMt[s];if(i===t.BW()||t.$Mt()&&t.tSt()===i)return!1}return!0}sSt(){return this.Irt}iSt(){return this.Irt.length}egt(t){if((t=Math.floor(t))<0||t>=this.Irt.length)throw new RangeError("invalid action index");return this.Irt[t]}eSt(t){t=Math.floor(t);const s=this.Irt.find((s=>s.nSt()===t));if(!s)throw new RangeError("invalid action debug index");return s}rSt(t){return(t=Math.floor(t))>=0&&t<this.Irt.length}hSt(){return this.iMt}ogt(){return this.iMt.filter((t=>t instanceof qg.ywt))}zwt(t){t.Apt(this);const s=this.sMt;let i=0===s.length;for(let e=0,n=s.length;e<n;++e){const n=s[e];if(t.Dpt(e),n.tJ())throw new Error("trigger cannot be used as sub-event to a loop");if(n.K_())i=!0;else if(!this.Kwt)return!1}return!this.Kwt||i}Bwt(t,s){t.Apt(this),t.Dpt(s),this.sMt[s].K_()&&(this.eMt(t,0)&&this.oSt(t),t.Opt(!0))}*Uwt(t){t.Apt(this);const s=this.sMt;let i=0===s.length;for(let e=0,n=s.length;e<n;++e){const n=s[e];if(t.Dpt(e),n.tJ())throw new Error("trigger cannot be used as sub-event to a loop");let r;if(r=n.Pwt()?n.K_():yield*n.Ogt(),r)i=!0;else if(!this.Kwt)return!1}return!this.Kwt||i}*Wwt(t,s){t.Apt(this),t.Dpt(s);const i=this.sMt[s];let e;if(e=i.Pwt()?i.K_():yield*i.Ogt(),e){let s;s=this.aSt()?this.eMt(t,0):yield*this.nMt(t,0),s&&(this.uSt()?this.oSt():yield*this.lSt()),t.Opt(!0)}}K_(t){t.Apt(this),this.$wt||t.Ppt(!1),this.Kwt?this.cSt(t):this.fSt(t)}*Ogt(t){(this.YMt()||this.kc.dSt())&&(yield this),t.Apt(this),this.$wt||t.Ppt(!1),this.Kwt?yield*this.pSt(t):yield*this.mSt(t)}cSt(t){const s=this.sMt;let i=0===s.length;for(let e=0,n=s.length;e<n;++e){const n=s[e];if(n.dwt())continue;t.Dpt(e);const r=n.K_();i=i||r}t.Opt(i),i&&(this.eMt(t,0)&&this.oSt(t),this.Zwt&&t.Ppt(!0))}*pSt(t){const s=this.sMt;let i=0===s.length;for(let e=0,n=s.length;e<n;++e){const n=s[e];if(n.dwt())continue;let r;t.Dpt(e),r=n.Pwt()?n.K_():yield*n.Ogt(),i=i||r}if(t.Opt(i),i){let s;s=this.aSt()?this.eMt(t,0):yield*this.nMt(t,0),s&&(this.uSt()?this.oSt():yield*this.lSt()),this.Zwt&&t.Ppt(!0)}}fSt(t){const s=this.sMt;for(let i=0,e=s.length;i<e;++i){const e=s[i];if(t.Dpt(i),!e.K_())return void t.Opt(!1)}t.Opt(!0),this.eMt(t,0)&&this.oSt(t),t.Rpt()&&this.Zwt&&t.Ppt(!0)}*mSt(t){const s=this.sMt;for(let i=0,e=s.length;i<e;++i){const e=s[i];let n;if(t.Dpt(i),n=e.Pwt()?e.K_():yield*e.Ogt(),!n)return void t.Opt(!1)}let i;t.Opt(!0),i=this.aSt()?this.eMt(t,0):yield*this.nMt(t,0),i&&(this.uSt()?this.oSt():yield*this.lSt()),t.Rpt()&&this.Zwt&&t.Ppt(!0)}LMt(t,s){const i=this.Irt;for(let e=s,n=i.length;e<n;++e){const s=i[e];t.Lpt(e),s.K_()}return!0}*OMt(t,s){const i=this.Irt;for(let e=s,n=i.length;e<n;++e){const s=i[e];t.Lpt(e),s.Pwt()?s.K_():yield*s.Ogt()}return!0}DMt(t,s){const i=this.jk(),e=this.Irt;for(let n=s,r=e.length;n<r;++n){const s=e[n];t.Lpt(n);const r=s.K_();if(s.gSt()&&!0===r)return!1;s.ySt()&&r instanceof Promise&&i.fyt(r)}return!0}*NMt(t,s){const i=this.jk(),e=this.Irt;for(let n=s,r=e.length;n<r;++n){const s=e[n];let r;if(t.Lpt(n),r=s.Pwt()?s.K_():yield*s.Ogt(),s.gSt()&&!0===r)return!1;s.ySt()&&r instanceof Promise&&i.fyt(r)}return!0}wSt(t){this.eMt(t,t.Npt())&&this.oSt()}*MSt(t){(yield*this.nMt(t,t.Npt()))&&(yield*this.lSt())}oSt(){if(!this.iMt.length)return;const t=this.bgt()&&this.kc.Nwt(),s=t?performance.now():0,i=this.Udt,e=i.Aq(this);this.qwt?this.SSt(e):this.TSt(e),i.zq(),t&&(this.ewt.nwt+=performance.now()-s)}SSt(t){const s=this.rMt,i=this.Xwt,e=this.jk(),n=this.iMt;for(let r=0,h=n.length,o=h-1;r<h;++r){const h=n[r],a=h.Cq(),u=!i||!s&&r<o;u&&e.Oq(a),h.K_(t),u?e.Pq(a):e.Xgt(a)}}TSt(t){const s=this.iMt;for(let i=0,e=s.length;i<e;++i)s[i].K_(t)}*lSt(){if(!this.iMt.length)return;const t=this.Udt,s=t.Aq(this);this.qwt?yield*this.bSt(s):yield*this.vSt(s),t.zq()}*bSt(t){const s=this.rMt,i=this.Xwt,e=this.jk(),n=this.iMt;for(let r=0,h=n.length,o=h-1;r<h;++r){const h=n[r],a=h.Cq(),u=!i||!s&&r<o;u&&e.Oq(a),yield*h.Ogt(t),u?e.Pq(a):e.Xgt(a)}}*vSt(t){const s=this.iMt;for(let i=0,e=s.length;i<e;++i)yield*s[i].Ogt(t)}Rq(t,s){s._pt();const i=this.sMt;if(!this.upt())for(let e=t.Ept()+1,n=i.length;e<n;++e){const t=i[e];if(s.Dpt(e),!t.K_())return!1}return this.eMt(s,0)&&this.oSt(s),!0}*xSt(t,s){s._pt();const i=this.sMt;if(!this.upt())for(let e=t.Ept()+1,n=i.length;e<n;++e){const t=i[e];let n;if(s.Dpt(e),n=t.Pwt()?t.K_():yield*t.Ogt(),!n)return!1}let e;return e=this.aSt()?this.eMt(s,0):yield*this.nMt(s,0),e&&(this.uSt()?this.oSt():yield*this.lSt()),!0}Pwt(){return!this.YMt()&&!this.kc.dSt()&&this.cMt.yMt}aSt(){return!this.kc.dSt()&&this.cMt.mMt}uSt(){return!this.kc.dSt()&&this.cMt.gMt}ISt(t){if(this.OY()){const s=this.jwt();for(let i=0,e=s.length;i<e;++i)if(!s[i].zwt(t))return!1}return!0}*GSt(t){if(this.OY()){const s=this.jwt();for(let i=0,e=s.length;i<e;++i)if(!(yield*s[i].Uwt(t)))return!1}return!0}CSt(t,s,i){if(s.length>0)if(i){const i=s.map((t=>t.Ys(0)));t.ngt().Aq(),this.Ywt._St(i)}else this.Ywt.ASt(s);else i&&t.ngt().Aq()}ESt(t,s,i,e){let n,r;const h=t.length>0;let o=null;const a=this.kc,u=this.Udt,l=a.jk(),c=this.Ywt,f=c.ySt(),d=l.Jgt()>1;if(this.CSt(l,s,d),h&&(i?l.Oq(t):l.Kgt(t)),null!==e){if(e.DSt){const t=i?e.DSt.LB():e.DSt.Zgt().Fdt(),s=e.NSt.LB();s.ept(t.NB()),s.opt(),i||e.NSt.LSt()}else if(e.OSt){const t=e.OSt.LB();t.ept(e.RSt),t.opt()}e.PSt&&(o=l.$gt(t))}const p=u.Aq(this);return i&&p.Ypt(t),this.ISt(p)&&(p.Apt(this),f&&([r,n]=c.kSt()),this.fSt(p),f&&c.FSt(r)),u.zq(),d&&l.ngt().zq(),null!==o&&l.Pq(o),h&&l.Pq(t),l.Hgt(),n}*jSt(t,s,i,e){let n,r;(this.YMt()||this.kc.dSt())&&(yield this);const h=t.length>0;let o=null;const a=this.kc,u=this.Udt,l=a.jk(),c=this.Ywt,f=c.ySt(),d=l.Jgt()>1;if(this.CSt(l,s,d),h&&(i?l.Oq(t):l.Kgt(t)),null!==e){if(e.DSt){const t=i?e.DSt.LB():e.DSt.Zgt().Fdt(),s=e.NSt.LB();s.ept(t.NB()),s.opt(),i||e.NSt.LSt()}else if(e.OSt){const t=e.OSt.LB();t.ept(e.RSt),t.opt()}e.PSt&&(o=l.$gt(t))}const p=u.Aq(this);return i&&p.Ypt(t),(yield*this.GSt(p))&&(p.Apt(this),f&&([r,n]=c.kSt()),yield*this.mSt(p),f&&c.FSt(r)),u.zq(),d&&l.ngt().zq(),null!==o&&l.Pq(o),h&&l.Pq(t),l.Hgt(),n}zSt(t,s){const i=this.Vk(),e=i.length>0,n=this.kc,r=this.Udt,h=n.jk(),o=h.Jgt()>1;o&&h.ngt().Aq(),this.Ywt._St(t),e&&(s?h.Oq(i):h.Kgt(i));const a=r.Aq(this);this.ISt(a)&&(a.Apt(this),this.fSt(a)),r.zq(),o&&h.ngt().zq(),e&&h.Pq(i),h.Hgt()}*BSt(t,s){(this.YMt()||this.kc.dSt())&&(yield this);const i=this.Vk(),e=i.length>0,n=this.kc,r=this.Udt,h=n.jk(),o=h.Jgt()>1;o&&h.ngt().Aq(),this.Ywt._St(t),e&&(s?h.Oq(i):h.Kgt(i));const a=r.Aq(this);(yield*this.GSt(a))&&(a.Apt(this),yield*this.mSt(a)),r.zq(),o&&h.ngt().zq(),e&&h.Pq(i),h.Hgt()}Jk(t,s,i,e,...n){let r,h;const o=t.length>0,a=this.kc,u=this.Udt,l=a.jk(),c=this.Ywt,f=c.ySt(),d=l.Jgt()>1;d&&l.ngt().Aq(),n.length>0&&this.Ywt._St(n),o&&(s?l.Oq(t):l.Kgt(t));const p=u.Aq(this);return p.zpt(i,e),u.gpt(p),a.Nq(!1),this.ISt(p)&&(p.Apt(this),f&&([h,r]=c.kSt()),this.fSt(p),f&&c.FSt(h)),a.Nq(!0),u.zq(),u.ypt(),d&&l.ngt().zq(),o&&l.Pq(t),l.Hgt(),r||p.Bpt()}}}{const Kg=self.Gs,$g=[];let ty=!1;Kg.Mwt=class extends Kg.Un{constructor(t,s,i){super();const e=t.Fj(),n=t.jk();this.L3=t,this.cpt=n,this.kc=t.Fj(),this.Vwt=s;const r=e.USt(i[1]);this.WSt=r,this.lMt=i[2],this.L3.Ewt(this,this.lMt),this.cMt=e.DV()?{fMt:i[3][0],dMt:i[3][1]}:null}static EI(t,s,i){return Kg.Vn(Kg.Mwt,t,s,i)}jmt(){const t=this.WSt,s=this.kc.jk().agt(this);this.WSt=t.bind(null,this.kc.Yz(),s)}OY(){return this.Vwt}hgt(){return this.Vwt}y4(){return this.L3}WMt(){return this.lMt}VMt(){return this.cMt&&this.cMt.dMt}YMt(){return this.VMt()&&this.cMt.fMt}QMt(t){this.cMt.fMt=!!t}Iwt(){return!1}Cq(){return $g}Vk(){return this.Vwt?this.Vwt.Vk():$g}K_(t){t.Apt(this),this.cpt.fyt(this.VSt())}async VSt(){try{await this.WSt()}catch(t){console.error(`Unhandled exception running script %c${this.y4()._c()}, event ${this.WMt()}:`,"font-size: 1.2em; font-weight: bold;",t),self.NV&&self.NV.YSt(this),ty||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),ty=!0)}}*Ogt(t){t.Apt(this),(this.YMt()||this.kc.dSt())&&(yield this),this.K_(t)}Pwt(){return!this.YMt()&&!this.kc.dSt()}static QSt(){return ty}static JSt(){ty=!0}}}{const sy=self.Gs;self.assert;sy.Qyt=class extends sy.Un{constructor(t,s,i){super(),this.L3=t,this.kc=t.Fj(),this.Vwt=s,this.HSt=0,this.qSt="",this.XSt=0,this.ZSt=[],this.KSt=!0,this.$St="",this.Odt=null,this.tTt=!1,this.sTt=[],this.iTt=!1,this.eTt=!1,this.nTt=0,this.rTt=-1,this.hTt=new Map,this.oTt=sy.cwt.EI(t,s,i),this.oTt.UMt(this)}aTt(t){this.HSt=0,this.qSt=t[0],this.XSt=t[1],this.ZSt=t[2].map((t=>sy.ywt.EI(this.L3,this,t))),this.KSt=t[3],this.eTt=t[4],this.iTt=t[5]}uTt(t){this.HSt=1,this.$St=t[1],this.Odt=this.kc.f0(t[2]),this.oTt.SMt(this.Odt),this.qSt=this.Odt._c()+"."+this.$St,this.XSt=t[3],this.ZSt=t[4].map((t=>sy.ywt.EI(this.L3,this,t))),this.KSt=t[5],this.eTt=t[6],this.iTt=t[7],this.Odt.lTt(this)}static mwt(t,s,i){const e=sy.Vn(sy.Qyt,t,s,i),n=i[1];return e.aTt(n),e}static gwt(t,s,i){const e=sy.Vn(sy.Qyt,t,s,i),n=i[1];return e.uTt(n),e}zmt(){if(this.Odt&&this.Odt.P0())for(const t of this.Odt.$B())if(t.cTt(this.$St)){this.tTt=!0;break}}jmt(){for(const t of this.ZSt)t.jmt();this.oTt.jmt(!1)}Jmt(){return this.HSt}ogt(){return this.ZSt}Jyt(){return this.ZSt}Uk(){return this.ZSt.length}fTt(t){this.sTt.push(t)}dTt(){return this.sTt}ASt(t){const s=this.ZSt;for(let i=0,e=s.length;i<e;++i)s[i].Ant(t[i].Ys(0))}_St(t){const s=this.ZSt;for(let i=0,e=s.length;i<e;++i)s[i].Ant(t[i])}pTt(){return this.ZSt.map((t=>t.Jet()))}OY(){return this.Vwt}hgt(){return this.Vwt}Hmt(){return this.qSt}mTt(){return this.$St}gTt(){return this.tTt}qk(){return this.XSt}BW(){return this.Odt}Il(){return this.KSt}Bk(){switch(this.XSt){case 0:return null;case 2:return"";default:return 0}}Wk(){return this.oTt}Hk(){return this.iTt}ySt(){return this.eTt}kSt(){const t=this.nTt++;let s;this.rTt=t;const i=new Promise((t=>s=t));return this.hTt.set(t,{resolve:s,yTt:0}),[t,i]}FSt(t){const s=this.hTt.get(t);0===s.yTt&&(s.resolve(),this.hTt.delete(t)),this.rTt=-1}wTt(){return this.hTt.get(this.rTt).yTt++,this.rTt}MTt(t){this.rTt=t,this.hTt.get(t).yTt--}STt(t,s){const i=new Map,e=[];for(const t of this.Odt.LB().NB()){const s=t.BW();if(s.cTt(this.$St)){const e=i.get(s);Array.isArray(e)?e.push(t):i.set(s,[t])}else e.push(t)}if(e.length>0&&this.oTt.ESt(t,s,this.iTt,{OSt:this.Odt,RSt:e}),i.size>0)for(const[e,n]of i){const i=e.TTt(this.$St).Wk(),r=[...new Set([...t,...i.Cq()])];i.ESt(r,s,this.iTt,{OSt:e,RSt:n})}}*bTt(t,s){const i=new Map,e=[];for(const t of this.Odt.LB().NB()){const s=t.BW();if(s.cTt(this.$St)){const e=i.get(s);Array.isArray(e)?e.push(t):i.set(s,[t])}else e.push(t)}if(e.length>0&&(yield*this.oTt.jSt(t,s,this.iTt,{OSt:this.Odt,RSt:e})),i.size>0)for(const[e,n]of i){const i=e.TTt(this.$St).Wk(),r=[...new Set([...t,...i.Cq()])];yield*i.jSt(r,s,this.iTt,{OSt:e,RSt:n})}}}}{const iy=self.Gs,ey=[];iy.ywt=class extends iy.Un{constructor(t,s,i){super();const e=t.jk();this.L3=t,this.cpt=e,this.kc=t.Fj(),this.Vwt=s,this.xmt=e.ngt(),this.Hn=i[1],this.Yc=i[2],this.vTt=i[3],this.Kv=!!i[4],this.xTt=!!i[5],this.ITt=s instanceof iy.Qyt,this.f$=i[6],this.GTt=this.kc.ugt(i[8]),this.CTt=t=>this.Ant(t),this._Tt=()=>this.Jet(),this.ATt=!this.Vwt||this.Kv||this.xTt,this.Trt=this.vTt,this.ETt=-1,this.DTt()&&(this.Trt=this.Trt?1:0),!this.NTt()||this.Lx()||this.zyt()||(this.ETt=e.Zmt(this)),e.qmt(this)}static EI(t,s,i){return iy.Vn(iy.ywt,t,s,i)}jmt(){if(this.NTt()&&!this.Lx()&&!this.zyt()&&!this.LTt()){const t=this.cpt.Yyt(this);t&&t.fTt(this)}}_c(){return this.Hn}ugt(){return this.GTt}OY(){return this.Vwt}hgt(){return this.OY()}b0(){return!this.OY()}NTt(){return!this.b0()}LTt(){return this.ITt}Lx(){return this.Kv}zyt(){return this.xTt}Ki(){return 0===this.Yc}ae(){return 1===this.Yc}DTt(){return 2===this.Yc}Iwt(){return!1}W0(){return this.f$}Kmt(){return this.vTt}Cq(){return ey}K_(t){!this.NTt()||this.Lx()||this.zyt()||this.Ant(this.Kmt())}Pwt(){return!0}*Ogt(t){this.K_(t)}Ant(t){this.Ki()?"number"!=typeof t&&(t=parseFloat(t)):this.ae()?"string"!=typeof t&&(t=t.toString()):this.DTt()&&(t=t?1:0),this.ATt?this.Trt=t:this.xmt.Xpt()[this.ETt]=t}Jet(){return this.ATt?this.Trt:this.xmt.Xpt()[this.ETt]}OTt(){let t=this.Jet();return this.DTt()&&(t=!!t),t}Mgt(){this.Trt=this.vTt}lgt(){return{configurable:!1,enumerable:!0,get:this._Tt,set:this.CTt}}}}{const ny=self.Gs,ry=(self.assert,[]);ny.wwt=class extends ny.Un{constructor(t,s,i){super();const e=t.jk();this.L3=t,this.cpt=e,this.kc=t.Fj(),this.Vwt=s,this.RTt=null,this.PTt=i[1],this.kf=!0}static EI(t,s,i){return ny.Vn(ny.wwt,t,s,i)}jmt(){this.RTt=this.cpt.V4(this.PTt),this.L3.Gwt(this);let t=this.OY();for(;t;)t instanceof ny.cwt&&t.bgt()&&t.vMt(this),t=t.OY();this.qMt(),this.kc.DV()&&this.L3.Vyt().children.push(this.RTt.Vyt())}OY(){return this.Vwt}Cq(){return ry}_wt(){return this.RTt}K_(t){const s=!!this.OY(),i=this.kc.R0();s&&this.cpt.Kgt(i),this.RTt.K_(),s&&this.cpt.Pq(i)}*Ogt(t){const s=!!this.OY(),i=this.kc.R0();s&&this.cpt.Kgt(i),yield*this.RTt.Ogt(),s&&this.cpt.Pq(i)}Pwt(){return!1}Awt(){return this.kf}qMt(){let t=this.OY();for(;t;){if(t instanceof ny.cwt&&t.bgt()&&!t.Fyt())return void(this.kf=!1);t=t.OY()}this.kf=!0}}}{let hy=function(t,s){return t>=s?t%s:t<0?(t<=-s&&(t%=s),t<0&&(t+=s),t):t};0;const oy=self.Gs;self.assert;oy.kTt=class extends oy.Un{constructor(t){super(),this.cv=t,this.kc=t.Fj()}jmt(){}static FTt(t,s){const i=s[0],e=[fy,ly,cy,dy,ay,uy];return oy.Vn(e[i],t,s)}};class ay extends oy.kTt{constructor(t,s){super(t),this.jTt=this.kc.XZ(),this.WSt=this.kc.USt(s[1]),this.WSt!==oy.Dj.Ej.Frt.random&&this.WSt!==oy.Dj.Ej.Frt.zTt||this.cv.BTt()}UTt(){return this.jTt.WTt(this.WSt,this.jTt)}}class uy extends oy.kTt{constructor(t,s){super(t),this.VTt=null,this.qSt=s[1],this.cv.BTt()}jmt(){const t=this.kc.jk();this.VTt=t.zk(this.qSt),this.qSt=null;const s=this.cv.Wk(),i=this.VTt.Wk();this.YTt=[...new Set([...s.Vk(),...i.Vk()])],this.YTt=t.Xmt(this.YTt)}UTt(){const t=this.VTt;if(t.Il()){const s=t.Wk();return oy.cwt.prototype.Jk.bind(s,this.YTt,t.Hk(),t.qk(),t.Bk())}{const s=t.Bk();return()=>s}}}class ly extends oy.kTt{constructor(t,s){super(t),this.Odt=this.kc.f0(s[1]),this.WSt=this.kc.USt(s[2]),this.QTt=!!s[3],this.Udt=this.kc.jk().Kk(),this.cv.JTt(this.Odt)}UTt(){return this.Odt.TB().WTt(this.WSt,this.Odt.wB().EQ())}HTt(...t){const s=this.Odt,i=s.LB().Xdt(),e=i.length;if(0===e)return this.QTt?"":0;const n=hy(this.cv.qTt(),e);return this.Udt._q().Fpt(s),this.WSt.apply(i[n].EQ(),t)}XTt(t,...s){const i=this.Odt,e=i.NB(),n=e.length;if(0===n||"number"!=typeof t)return this.QTt?"":0;const r=hy(t,n);return this.Udt._q().Fpt(i),this.WSt.apply(e[r].EQ(),s)}}class cy extends oy.kTt{constructor(t,s){super(t),this.Odt=this.kc.f0(s[1]),this.ZTt=s[3],this.QTt=!!s[2],this.cv.JTt(this.Odt)}KTt(){const t=this.Odt.LB().Xdt(),s=t.length;return 0===s?this.QTt?"":0:t[hy(this.cv.qTt(),s)].$Tt(this.ZTt)}tbt(){const t=this.Odt,s=t.LB().Xdt(),i=s.length;if(0===i)return this.QTt?"":0;const e=s[hy(this.cv.qTt(),i)],n=e.BW().sbt(t.ibt());return e.$Tt(this.ZTt+n)}ebt(t){const s=this.Odt,i=s.NB(),e=i.length;if(0===e||"number"!=typeof t)return this.QTt?"":0;const n=i[hy(t,e)];let r=0;return s.P0()&&(r=n.BW().sbt(s.ibt())),n.$Tt(this.ZTt+r)}}class fy extends oy.kTt{constructor(t,s){super(t),this.Odt=this.kc.f0(s[1]),this.nbt=this.Odt.$nt(s[2]),this.rbt=this.Odt.bit(s[2]),this.WSt=this.kc.USt(s[3]),this.QTt=!!s[4],this.Udt=this.kc.jk().Kk(),this.cv.JTt(this.Odt)}hbt(...t){const s=this.Odt,i=s.LB().Xdt(),e=i.length;if(0===e)return this.QTt?"":0;const n=hy(this.cv.qTt(),e);this.Udt._q().Fpt(s);const r=i[n];let h=0;return s.P0()&&(h=r.BW().obt(s.ibt())),this.WSt.apply(r.Knt()[this.rbt+h].EQ(),t)}abt(t,...s){const i=this.Odt,e=i.NB(),n=e.length;if(0===n||"number"!=typeof t)return this.QTt?"":0;const r=hy(t,n);this.Udt._q().Fpt(i);const h=e[r];let o=0;return i.P0()&&(o=h.BW().obt(i.ibt())),this.WSt.apply(h.Knt()[this.rbt+o].EQ(),s)}}class dy extends oy.kTt{constructor(t,s){super(t),this.ubt=null,this.lbt=s[1]}jmt(){this.ubt=this.kc.jk().cgt(this.lbt)}cbt(){return this.ubt}}}{let py=function(t){const s=self.fbt[t];if(!s)throw new Error("invalid expression number");return s};0;const my=self.Gs;self.assert;my.dbt=class extends my.Un{constructor(t,s,i){super(),this.cv=t,this.Aw=i,this.Yc=s,this.Ys=null,this.pbt=!1,this.xTt=!1}static EI(t,s,i){const e=s[0],n=[gy,yy,xy,My,Ty,wy,by,gy,My,My,Iy,Gy,xy,_y,yy,vy,Sy,Cy,Ay,Ey,Dy,Ny];return my.Vn(n[e],t,e,i,s)}jmt(){}BTt(){this.pbt=!0}JTt(t){this.pbt||t&&(t.TB().qz()||(this.pbt=!0))}mbt(){return this.pbt}$P(){return this.Aw}Fj(){return this.cv.Fj()}Wk(){return this.cv.Wk()}zyt(){return this.xTt}gbt(){return 4===this.Yc}};class gy extends my.dbt{constructor(t,s,i,e){super(t,s,i),this.ybt=0;const n=e[1];this.wbt=n[0],this.Mbt=[],this.Sbt=null;for(let t=1,s=n.length;t<s;++t)this.Mbt.push(my.kTt.FTt(this,n[t]));this.Mbt.length?this.Ys=this.Tbt:(this.Ys=py(this.wbt),this.xTt=!0)}bbt(t){if(t<0||t>=this.Mbt.length)throw new RangeError("invalid numbered node");return this.Mbt[t]}jmt(){for(const t of this.Mbt)t.jmt();const t=py(this.wbt);this.Mbt.length?this.Sbt=t(this):this.Sbt=t}qTt(){return this.ybt}Tbt(t){return this.ybt=t,this.Sbt()}}class yy extends gy{constructor(t,s,i,e){super(t,s,i,e),this.Ys=this.vbt,14===s&&(this.Wk().CMt(),this.cv instanceof my.TMt&&this.Wk().zMt())}vbt(t){this.ybt=t;const s=this.Sbt();return"string"==typeof s?s:""}xbt(){return py(this.wbt)()}}class wy extends gy{constructor(t,s,i,e){super(t,s,i,e),t.Ibt()>=2?this.Ys=this.yU:this.Ys=this.cj,this.xTt=!1}cj(t){this.ybt=t;const s=this.Sbt();return this.Fj().aj().cj(s)}yU(t){const s=this.cj(t);return s?s.yU():null}}class My extends my.dbt{constructor(t,s,i,e){super(t,s,i),this.Gbt=e[1],this.Ys=this.Cbt,this.xTt=!0}Cbt(){return this.Gbt}}class Sy extends my.dbt{constructor(t,s,i,e){super(t,s,i),this._bt=e[1],this.Ys=this.Abt,this.xTt=!0}Abt(){return this._bt}}class Ty extends my.dbt{constructor(t,s,i,e){super(t,s,i),this.Odt=this.Fj().f0(e[1]),t.Ibt()>=2?this.Ys=this.mB:this.Ys=this.BW;const n=this.Wk();n.SMt(this.Odt),this.cv instanceof my.TMt?n.zMt():n.OY()&&n.OY().zMt(),this.xTt=!0}BW(){return this.Odt}mB(){return this.Odt?this.Odt.mB():null}}class by extends my.dbt{constructor(t,s,i,e){super(t,s,i),this.a$=this.Fj().YF().J5(e[1]),t.Ibt()>=2?this.Ys=this.WF:this.Ys=this.QF,this.xTt=!0}QF(){return this.a$}WF(){return this.a$?this.a$.WF():null}}class vy extends my.dbt{constructor(t,s,i,e){super(t,s,i),this.t7=this.Fj().att().r8(e[1]),t.Ibt()>=2?this.Ys=this.zst:this.Ys=this.oit,this.xTt=!0}oit(){return this.t7}zst(){return this.t7?this.t7.zst():null}}class xy extends my.dbt{constructor(t,s,i,e){super(t,s,i),this.Ebt=e[1],this.Ys=this.Dbt,this.xTt=!0}Dbt(){return this.Ebt}}class Iy extends my.dbt{constructor(t,s,i,e){super(t,s,i),this.Nbt=e[1];const n=this.cv.BW();this.cv instanceof my.MMt&&this.cv.Lx()?(this.Ys=this.Lbt,this.xTt=!0):n&&n.P0()?(this.Ys=this.Obt,this.BTt()):(this.Ys=this.Lbt,this.xTt=!0)}Lbt(){return this.Nbt}Obt(t){t=t||0;const s=this.cv.BW(),i=s.LB(),e=i.NB();let n=null;if(e.length)n=e[t%e.length].BW();else if(i.Hdt()){const s=i.qdt();n=s[t%s.length].BW()}else{if(!(s.PB()>0))return 0;{const i=s.NB();n=i[t%i.length].BW()}}return this.Nbt+n.sbt(s.ibt())}}class Gy extends my.dbt{constructor(t,s,i,e){super(t,s,i),this.lbt=e[1],this.ubt=null,t.Ibt()>=2?this.Ys=this.Rbt:this.Ys=this.Pbt,this.xTt=!0}jmt(){this.ubt=this.Fj().jk().cgt(this.lbt)}Pbt(){return this.ubt}Rbt(){return null}}class Cy extends my.dbt{constructor(t,s,i,e){super(t,s,i),this.kbt=e[1],this.VTt=null,t.Ibt()>=2?this.Ys=this.Fbt:this.Ys=this.jbt,this.xTt=!0}jmt(){this.VTt=this.Fj().jk().zk(this.kbt),this.kbt=null}jbt(){return this.VTt}Fbt(){return null}}class _y extends my.dbt{constructor(t,s,i,e){super(t,s,i),this.zbt=[],this.Bbt=[],this.xTt=!0;for(let t=1,s=e.length;t<s;++t){const s=my.dbt.EI(this.cv,e[t],0);this.zbt.push(s),this.Bbt.push(0),s.zyt()||(this.xTt=!1)}this.Ys=this.Ubt}jmt(){for(const t of this.zbt)t.jmt()}Ubt(){const t=this.zbt,s=this.Bbt;for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(0);return s}}class Ay extends my.dbt{constructor(t,s,i,e){super(t,s,i),this.Wbt=e[1],this.Ys=this._nt,this.xTt=!0}_nt(){return this.Wbt}}class Ey extends my.dbt{constructor(t,s,i,e){super(t,s,i),this.Vbt=e[1],this.Ys=this.Ybt,this.xTt=!0}Ybt(){return this.Vbt}}class Dy extends gy{constructor(t,s,i,e){super(t,s,i,e),this.Ys=this.nV,this.xTt=!1}nV(){return this.Sbt()}}class Ny extends my.dbt{constructor(t,s,i,e){super(t,s,i),this.Xlt=this.Fj().pct().Vlt(e[1]),this.Ys=this.Qbt,this.xTt=!0}Qbt(){return this.Xlt._c()}}}{let Ly=function(t,s){for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(0)};0;const Oy=self.Gs,Ry=(self.assert,[]),Py=function(){};Oy.MMt=class extends Oy.Un{constructor(t,s,i){if(super(),this.oTt=t,this.kc=t.Fj(),this.Aw=i,this.WSt=this.kc.USt(s[1]),this.Jbt=s[3]>0,this.Hbt=2===s[3],this.qbt=!!s[4],this.Xbt=!!s[5],this.Kv=!!s[6],this.f$=s[7],this.Zbt=this.oTt.upt(),this.Odt=null,this.nbt=null,this.rbt=-1,this.jTt=null,this.K_=Py,this.Ogt=Py,this.zs=[],this.Kbt=[],this.$bt=!1,this.tvt=null,this.svt=null,this.cMt=this.kc.DV()?{fMt:s[8][0],ivt:s[8][1]}:null,-1===s[0]?this.jTt=this.kc.XZ():(this.Odt=this.kc.f0(s[0]),s[2]&&(this.nbt=this.Odt.$nt(s[2]),this.rbt=this.Odt.bit(s[2])),this.oTt.OY()&&this.oTt.OY().zMt()),10===s.length){let t=s[9];for(let s of t)this.zs.push(Oy.dbt.EI(this,s,this.zs.length)),this.Kbt.push(0)}0===this.zs.length&&(this.zs=Ry,this.Kbt=Ry),this.oTt.jk().Vmt(this)}static EI(t,s,i){return Oy.Vn(Oy.MMt,t,s,i)}jmt(){for(const t of this.zs)t.jmt(),t.mbt()&&(this.$bt=!0);this.Hbt?(this.K_=this.evt,this.Ogt=this.nvt):this.jTt?(this.rvt(),this.Ogt=this.hvt):this.Odt.TB().qz()?(this.ovt(),this.Ogt=this.avt):this.Kv?(this.K_=this.uvt,this.Ogt=this.lvt):(this.K_=this.cvt,this.Ogt=this.fvt)}rvt(){const t=this.jTt,s=this.jTt;this.dvt(t,s,this.pvt)}ovt(){const t=this.Odt.TB(),s=this.Odt.wB().EQ();this.dvt(t,s,this.mvt)}dvt(t,s,i){const e=this.WSt,n=this.Xbt,r=this.zs;if(0===r.length){const i=t.WTt(e,s);this.K_=n?function(){return Oy.xor(i(),n)}:i}else if(1===r.length){const i=r[0];if(!n&&i.zyt())this.K_=t.gvt(e,s,i.Ys(0));else{const r=t.WTt(e,s);this.K_=function(){return Oy.xor(r(i.Ys(0)),n)}}}else if(2===r.length){const i=r[0],h=r[1];if(!n&&i.zyt()&&h.zyt())this.K_=t.yvt(e,s,i.Ys(0),h.Ys(0));else{const r=t.WTt(e,s);this.K_=function(){return Oy.xor(r(i.Ys(0),h.Ys(0)),n)}}}else if(3===r.length){const i=r[0],h=r[1],o=r[2];if(!n&&i.zyt()&&h.zyt()&&o.zyt())this.K_=t.wvt(e,s,i.Ys(0),h.Ys(0),o.Ys(0));else{const r=t.WTt(e,s);this.K_=function(){return Oy.xor(r(i.Ys(0),h.Ys(0),o.Ys(0)),n)}}}else this.K_=i}W0(){return this.f$}Swt(){return this.WSt}BW(){return this.Odt}zQ(){return this.nbt}Mvt(){return this.nbt?this.nbt.kQ():this.Odt?this.Odt.TB():null}Ibt(){const t=this.Mvt();return t?t.Svt():1}Wk(){return this.oTt}Fj(){return this.kc}$P(){return this.Aw}nSt(){return this.$P()}dwt(){return this.Jbt}Twt(){return this.Hbt}Tvt(){return this.Xbt}tJ(){return this.qbt}Lx(){return this.Kv}bvt(){return this.cMt.fMt}vvt(){return!!this.jTt}$Mt(){return this.vvt()||this.Odt.TB().qz()}tSt(){for(const t of this.zs)if(t.gbt())return t.BW();return null}xvt(t){this.cMt.fMt=!!t,this.oTt.kMt()}Ivt(){return this.cMt.ivt}Pwt(){return!this.bvt()&&!this.kc.dSt()&&!this.Ivt()}Gvt(){return this.tvt||(this.tvt=new Map),this.tvt}Cvt(){return this.svt||(this.svt=new Map),this.svt}pvt(){const t=this.Kbt;return Ly(this.zs,t),Oy.xor(this.WSt.apply(this.jTt,t),this.Xbt)}*hvt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.Kbt;Ly(this.zs,t);let s=this.WSt.apply(this.jTt,t);return Oy.To(s)&&(s=yield*s),Oy.xor(s,this.Xbt)}return this.K_()}mvt(){const t=this.Kbt;Ly(this.zs,t);const s=this.Odt.wB().EQ();return Oy.xor(this.WSt.apply(s,t),this.Xbt)}*avt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.Kbt;Ly(this.zs,t);const s=this.Odt.wB().EQ();let i=this.WSt.apply(s,t);return Oy.To(i)&&(i=yield*i),Oy.xor(i,this.Xbt)}return this.K_()}evt(){return!0}*nvt(){return(this.bvt()||this.kc.dSt())&&(yield this),!0}_vt(){return this.nbt?this.nbt.kQ().Svt()>=2?this.nbt.jQ():this.nbt:this.Odt.TB().Svt()>=2?this.Odt.mB():this.Odt}uvt(){const t=this.Kbt;Ly(this.zs,t);const s=this.WSt.apply(this._vt(),t);return this.Odt.LSt(),s}*lvt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.Kbt;Ly(this.zs,t);let s=this.WSt.apply(this._vt(),t);return Oy.To(s)&&(s=yield*s),this.Odt.LSt(),s}return this.K_()}cvt(){const t=this.zs,s=this.Kbt,i=this.Odt.LB();for(let i=0,e=t.length;i<e;++i){const e=t[i];e.mbt()||(s[i]=e.Ys(0))}return i.Qdt()?this.Avt(i):this.Evt(i)}*fvt(){return(this.bvt()||this.kc.dSt())&&(yield this),this.cvt()}Dvt(t){const s=this.zs,i=this.Kbt;for(let e=0,n=s.length;e<n;++e){const n=s[e];n.mbt()&&(i[e]=n.Ys(t))}}Avt(t){const s=this.Odt,i=s.P0(),e=s.ibt(),n=this.rbt,r=n>=0,h=s.NB(),o=this.$bt,a=this.Kbt,u=this.WSt,l=this.Xbt,c=this.Zbt&&!this.Jbt;t.Ydt();for(let s=0,f=h.length;s<f;++s){const f=h[s];let d;if(o&&this.Dvt(s),r){const t=i?f.BW().obt(e):0;d=u.apply(f.Knt()[n+t].EQ(),a)}else d=u.apply(f.EQ(),a);Oy.xor(d,l)?t.Zdt(f):c&&t.Kdt(f)}return s.Nvt(!0),t.$dt(!1),s.LSt(),t.Jdt()}Evt(t){const s=this.Odt,i=s.P0(),e=s.ibt(),n=s.KW(),r=this.rbt,h=r>=0,o=this.$bt,a=this.Kbt,u=this.WSt,l=this.Xbt,c=this.Zbt&&!this.Jbt,f=t.tpt(),d=t.spt(),p=c&&!this.oTt.KMt(this),m=p?d:f;let g=0,y=!1;for(let t=0,s=m.length;t<s;++t){const s=m[t];let w;if(o&&this.Dvt(t),h){const t=i?s.BW().obt(e):0;w=u.apply(s.Knt()[r+t].EQ(),a)}else w=u.apply(s.EQ(),a);Oy.xor(w,l)?(y=!0,p?(f.push(s),n&&s.Lvt()):(m[g]=s,n&&s.Ovt(g),++g)):p?(m[g]=s,n&&s.Rvt(g),++g):c&&(d.push(s),n&&s.Pvt())}Oy.wh(m,g),n&&s.kvt(p,g);const w=y;return p&&!y&&(y=this.Fvt(f)),s.Nvt(w||c),c?y:t.Jdt()}Fvt(t){const s=this.Odt,i=s.P0(),e=s.ibt(),n=this.$bt,r=this.rbt,h=r>=0,o=this.Kbt,a=this.WSt,u=this.Xbt;for(let s=0,l=t.length;s<l;++s){const l=t[s];let c;if(n&&this.Dvt(s),h){const t=i?l.BW().obt(e):0;c=a.apply(l.Knt()[r+t].EQ(),o)}else c=a.apply(l.EQ(),o);if(Oy.xor(c,u))return!0}return!1}jvt(t,s){return this.zs[t].Ys(s)}bwt(){const t=this.zs;if(!t.length)throw new Error("no parameters");return t[0].xbt()}M3(){if(!this.tvt||!this.tvt.size)return null;const t={};for(const[s,i]of this.tvt.entries()){let e=i;"collmemory"===s&&(e=[...i.entries()].map((t=>[t[0].tV(),t[1].tV(),t[2]]))),t[s]=e}return{ex:t}}S3(t){if(this.tvt&&(this.tvt.clear(),this.tvt=null),!t)return;const s=this.kc,i=t.ex;if(i){const t=this.Gvt();t.clear();for(const[e,n]of Object.entries(i)){let i=n;"collmemory"===e&&(i=Oy.Vn(Oy.Gl,n.map((t=>[s.rj(t[0]),s.rj(t[1]),t[2]])).filter((t=>t[0]&&t[1])))),t.set(e,i)}}}}}{let ky=function(t,s){for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(0)};0;const Fy=self.Gs,jy=(self.assert,[]),zy=function(){},By=function*(){};Fy.TMt=class extends Fy.Un{constructor(t,s,i){super(),this.oTt=t;const e=t.Fj();this.kc=e,this.Aw=i,this.f$=s.length>=4?s[3]:-1,this.zvt=s.length>=5?255&s[4]:0,this.Bvt=s.length>=5?s[4]>>8:0,this.WSt=null,this.Odt=null,this.nbt=null,this.rbt=-1,this.jTt=null,this.Uvt="",this.Wvt=null,this.Vvt=null,this.K_=zy,this.Ogt=zy,this.zs=[],this.Kbt=[],this.$bt=!1,this.tvt=null,this.svt=null;const n=-3===s[0],r=n?s[2]:s[5];if(this.cMt=e.DV()||n?{fMt:r[0],ivt:r[1],index:r[2]}:null,-1===s[0])this.jTt=e.XZ(),this.WSt=e.USt(s[1]);else if(-2===s[0])this.Uvt=s[1];else if(n){const t=e.USt(s[1]);this.WSt=t,this.K_=this.Yvt,this.Ogt=this.Qvt,this.Bvt|=8}else this.Odt=e.f0(s[0]),4&this.Bvt?(this.Uvt=s[1],this.Wvt=e.f0(s[2])):(s[2]&&(this.nbt=this.Odt.$nt(s[2]),this.rbt=this.Odt.bit(s[2])),this.WSt=e.USt(s[1]));if(7===s.length){const t=s[6];for(const s of t)this.zs.push(Fy.dbt.EI(this,s,this.zs.length)),this.Kbt.push(0)}0===this.zs.length&&(this.zs=jy,this.Kbt=jy),this.Jvt()&&(this.oTt.CMt(),this.oTt.zMt()),this.oTt.jk().Ymt(this)}static EI(t,s,i){return Fy.Vn(Fy.TMt,t,s,i)}jmt(){for(const t of this.zs)t.jmt(),t.mbt()&&(this.$bt=!0);if(this.jTt)this.rvt(),this.Ogt=this.hvt;else if(this.Uvt)4&this.Bvt?this.Hvt():this.qvt(),this.Uvt="",this.Wvt=null;else if(this.K_===this.Yvt){const t=this.WSt,s=this.kc.jk().agt(this.oTt);this.WSt=t.bind(null,this.kc.Yz(),s)}else this.nbt?this.ySt()?(this.K_=this.Xvt,this.Ogt=this.Zvt):(this.K_=this.Kvt,this.Ogt=this.$vt):this.Odt.TB().qz()?(this.ovt(),this.Ogt=this.avt):this.Lx()?(this.K_=this.txt,this.Ogt=this.sxt):this.ySt()?(this.K_=this.ixt,this.Ogt=this.nxt):this.rxt()?(this.K_=this.hxt,this.Ogt=this.oxt):this.zs.length?this.zs.every((t=>t.mbt()))?(this.K_=this.axt,this.Ogt=this.uxt):this.$bt?(this.K_=this.lxt,this.Ogt=this.cxt):this.zs.every((t=>t.zyt()))?(ky(this.zs,this.Kbt),this.K_=this.fxt,this.Ogt=this.dxt):(this.K_=this.pxt,this.Ogt=this.mxt):(this.K_=this.fxt,this.Ogt=this.dxt)}rvt(){const t=this.jTt,s=this.jTt;this.dvt(t,s,this.pvt)}ovt(){const t=this.Odt.TB(),s=this.Odt.wB().EQ();this.dvt(t,s,this.mvt)}qvt(){const t=this.oTt.jk(),s=t.zk(this.Uvt);if(s.Il()){const i=!!(2&this.Bvt);this.Vvt=s.Wk();let e=[...new Set([...this.oTt.Vk(),...this.Vvt.Vk()])];e=t.Xmt(e);const n=!s.Hk()&&this.gxt()?{PSt:!0}:null;if(this.K_=Fy.cwt.prototype.ESt.bind(this.Vvt,e,this.zs,i,n),this.kc.DV()){const t=this;this.Ogt=function*(){return(t.bvt()||t.kc.dSt())&&(yield t),yield*t.Vvt.jSt(e,t.zs,i,n)}}else this.Ogt=By}else this.K_=zy,this.Ogt=By}Hvt(){const t=this.oTt.jk(),s=t.mgt(this.Wvt,this.Uvt);if(s.Il()){const i=!!(2&this.Bvt);this.Vvt=s.Wk();let e=[...new Set([...this.oTt.Vk(),...this.Vvt.Vk(),this.Odt,s.BW()])];e=t.Xmt(e);const n=!this.Odt.P0()&&!s.BW().P0(),r=!this.Odt.P0()&&s.BW().P0(),h=this.Odt.P0();let o=null;if(!s.Hk()&&this.gxt()&&(o=o||{},o.PSt=!0),!r&&i||(o=o||{},o.DSt=this.Odt,o.NSt=s.BW()),n||r||h&&!s.gTt()?this.K_=Fy.cwt.prototype.ESt.bind(this.Vvt,e,this.zs,i,o):h&&(this.K_=Fy.Qyt.prototype.STt.bind(s,e,this.zs)),this.kc.DV()){const t=this;n||r||h&&!s.gTt()?this.Ogt=function*(){return(t.bvt()||t.kc.dSt())&&(yield t),yield*t.Vvt.jSt(e,t.zs,i,o)}:h&&(this.Ogt=function*(){return(t.bvt()||t.kc.dSt())&&(yield t),yield*s.bTt(e,t.zs)})}else this.Ogt=By}else this.K_=zy,this.Ogt=By}dvt(t,s,i){const e=this.WSt,n=this.zs;if(0===n.length)this.K_=t.WTt(e,s);else if(1===n.length){const i=n[0];if(i.zyt())this.K_=t.gvt(e,s,i.Ys(0));else{const n=t.WTt(e,s);this.K_=function(){return n(i.Ys(0))}}}else if(2===n.length){const i=n[0],r=n[1];if(i.zyt()&&r.zyt())this.K_=t.yvt(e,s,i.Ys(0),r.Ys(0));else{const n=t.WTt(e,s);this.K_=function(){return n(i.Ys(0),r.Ys(0))}}}else if(3===n.length){const i=n[0],r=n[1],h=n[2];if(i.zyt()&&r.zyt()&&h.zyt())this.K_=t.wvt(e,s,i.Ys(0),r.Ys(0),h.Ys(0));else{const n=t.WTt(e,s);this.K_=function(){return n(i.Ys(0),r.Ys(0),h.Ys(0))}}}else this.K_=i}W0(){return this.f$}ySt(){return!!(8&this.Bvt)}gSt(){return!!(16&this.Bvt)}rxt(){return 1===this.zvt}Lx(){return 2===this.zvt}Jvt(){return!!(1&this.Bvt)}EMt(){return this.ySt()||this.gSt()}BW(){return this.Odt}Mvt(){return this.nbt?this.nbt.kQ():this.Odt?this.Odt.TB():null}Ibt(){const t=this.Mvt();return t?t.Svt():1}Wk(){return this.oTt}gxt(){let t=this.oTt;do{if(t instanceof Fy.Qyt&&t.Hk())return!0;t=t.hgt()}while(t);return!1}Fj(){return this.kc}$P(){return this.Aw}nSt(){return this.cMt.index}bvt(){return this.cMt.fMt}xvt(t){this.cMt.fMt=!!t,this.oTt.kMt()}Ivt(){return this.cMt.ivt}Pwt(){return!this.bvt()&&!this.kc.dSt()&&!this.Ivt()}Gvt(){return this.tvt||(this.tvt=new Map),this.tvt}Cvt(){return this.svt||(this.svt=new Map),this.svt}pvt(){const t=this.Kbt;return ky(this.zs,t),this.WSt.apply(this.jTt,t)}*hvt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.Kbt;return ky(this.zs,t),yield*this.WSt.apply(this.jTt,t)}return this.K_()}mvt(){const t=this.Kbt;return ky(this.zs,t),this.WSt.apply(this.Odt.wB().EQ(),t)}*avt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.Kbt;return ky(this.zs,t),yield*this.WSt.apply(this.Odt.wB().EQ(),t)}return this.K_()}fxt(){const t=this.Kbt,s=this.Odt.LB().NB();for(let i=0,e=s.length;i<e;++i)this.WSt.apply(s[i].EQ(),t)}*dxt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.Kbt,s=this.Odt.LB().NB();for(let i=0,e=s.length;i<e;++i)yield*this.WSt.apply(s[i].EQ(),t)}else this.fxt()}pxt(){const t=this.Kbt;ky(this.zs,t);const s=this.Odt.LB().NB();for(let i=0,e=s.length;i<e;++i)this.WSt.apply(s[i].EQ(),t)}*mxt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.Kbt;ky(this.zs,t);const s=this.Odt.LB().NB();for(let i=0,e=s.length;i<e;++i)yield*this.WSt.apply(s[i].EQ(),t)}else this.pxt()}axt(){const t=this.zs,s=this.Kbt,i=this.WSt,e=this.Odt.LB().NB();for(let n=0,r=e.length;n<r;++n){const r=e[n];for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(n);i.apply(r.EQ(),s)}}*uxt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.zs,s=this.Kbt,i=this.WSt,e=this.Odt.LB().NB();for(let n=0,r=e.length;n<r;++n){const r=e[n];for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(n);yield*i.apply(r.EQ(),s)}}else this.axt()}lxt(){const t=this.zs,s=this.Kbt,i=this.WSt,e=this.Odt.LB().NB();for(let i=0,e=t.length;i<e;++i){const e=t[i];e.mbt()||(s[i]=e.Ys(0))}for(let n=0,r=e.length;n<r;++n){const r=e[n];for(let i=0,e=t.length;i<e;++i){const e=t[i];e.mbt()&&(s[i]=e.Ys(n))}i.apply(r.EQ(),s)}}*cxt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.zs,s=this.Kbt,i=this.WSt,e=this.Odt.LB().NB();for(let i=0,e=t.length;i<e;++i){const e=t[i];e.mbt()||(s[i]=e.Ys(0))}for(let n=0,r=e.length;n<r;++n){const r=e[n];for(let i=0,e=t.length;i<e;++i){const e=t[i];e.mbt()&&(s[i]=e.Ys(n))}yield*i.apply(r.EQ(),s)}}else this.lxt()}hxt(){const t=this.zs,s=this.Kbt,i=this.WSt,e=this.Odt,n=e.yxt(),r=e.LB().NB();n.wxt(i);for(let e=0,n=r.length;e<n;++e){const n=r[e];for(let i=0,n=t.length;i<n;++i)s[i]=t[i].Ys(e);i.apply(n.EQ(),s)}n.Mxt(i)}*oxt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.zs,s=this.Kbt,i=this.WSt,e=this.Odt,n=e.yxt(),r=e.LB().NB();n.wxt(i);for(let e=0,n=r.length;e<n;++e){const n=r[e];for(let i=0,n=t.length;i<n;++i)s[i]=t[i].Ys(e);yield*i.apply(n.EQ(),s)}n.Mxt(i)}else this.hxt()}Sxt(){return this.nbt?this.nbt.kQ().Svt()>=2?this.nbt.jQ():this.nbt:this.Odt.TB().Svt()>=2?this.Odt.mB():this.Odt}txt(){const t=this.Kbt;return ky(this.zs,t),this.WSt.apply(this.Sxt(),t)}*sxt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.Kbt;ky(this.zs,t);let s=this.WSt.apply(this.Sxt(),t);return Fy.To(s)&&(s=yield*s),s}return this.txt()}Kvt(){const t=this.Odt,s=t.P0(),i=t.ibt(),e=this.zs,n=this.$bt,r=this.Kbt,h=this.WSt,o=this.rbt,a=t.LB().NB();for(let t=0,s=e.length;t<s;++t){const s=e[t];s.mbt()||(r[t]=s.Ys(0))}for(let t=0,u=a.length;t<u;++t){const u=a[t];if(n)for(let s=0,i=e.length;s<i;++s){const i=e[s];i.mbt()&&(r[s]=i.Ys(t))}const l=s?u.BW().obt(i):0;h.apply(u.Knt()[o+l].EQ(),r)}}*$vt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.Odt,s=t.P0(),i=t.ibt(),e=this.zs,n=this.$bt,r=this.Kbt,h=this.WSt,o=this.rbt,a=t.LB().NB();for(let t=0,s=e.length;t<s;++t){const s=e[t];s.mbt()||(r[t]=s.Ys(0))}for(let t=0,u=a.length;t<u;++t){const u=a[t];if(n)for(let s=0,i=e.length;s<i;++s){const i=e[s];i.mbt()&&(r[s]=i.Ys(t))}const l=s?u.BW().obt(i):0;yield*h.apply(u.Knt()[o+l].EQ(),r)}}else this.Kvt()}ixt(){const t=this.zs,s=this.Kbt,i=this.WSt,e=this.Odt.LB().NB(),n=[];for(let r=0,h=e.length;r<h;++r){const h=e[r];for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(r);n.push(i.apply(h.EQ(),s))}return Promise.all(n)}*nxt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.zs,s=this.Kbt,i=this.WSt,e=this.Odt.LB().NB(),n=[];for(let r=0,h=e.length;r<h;++r){const h=e[r];for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(r);n.push(yield*i.apply(h.EQ(),s))}return Promise.all(n)}return this.ixt()}Xvt(){const t=this.Odt,s=t.P0(),i=t.ibt(),e=this.zs,n=this.Kbt,r=this.WSt,h=this.rbt,o=t.LB().NB(),a=[];for(let t=0,u=o.length;t<u;++t){const u=o[t];for(let s=0,i=e.length;s<i;++s)n[s]=e[s].Ys(t);const l=s?u.BW().obt(i):0;a.push(r.apply(u.Knt()[h+l].EQ(),n))}return Promise.all(a)}*Zvt(){if((this.bvt()||this.kc.dSt())&&(yield this),this.Ivt()){const t=this.Odt,s=t.P0(),i=t.ibt(),e=this.zs,n=this.Kbt,r=this.WSt,h=this.rbt,o=t.LB().NB(),a=[];for(let t=0,u=o.length;t<u;++t){const u=o[t];for(let s=0,i=e.length;s<i;++s)n[s]=e[s].Ys(t);const l=s?u.BW().obt(i):0;a.push(yield*r.apply(u.Knt()[h+l].EQ(),n))}return Promise.all(a)}return this.Xvt()}async Yvt(){try{await this.WSt()}catch(t){console.error(`Unhandled exception running script %c${this.oTt.y4()._c()}, event ${this.oTt.WMt()}, action ${this.nSt()+1}:`,"font-size: 1.2em; font-weight: bold;",t),self.NV&&self.NV.YSt(this),Fy.Mwt.QSt()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),Fy.Mwt.JSt())}}*Qvt(){return(this.bvt()||this.kc.dSt())&&(yield this),this.Yvt()}M3(){return this.tvt&&this.tvt.size?{ex:Fy.wo(this.tvt)}:null}S3(t){if(this.tvt&&(this.tvt.clear(),this.tvt=null),!t)return;const s=t.ex;s&&(this.tvt=Fy.Mo(s))}}}{let Uy=function(t){return t instanceof lw?uw.vU(t):t.iH()},Wy=function(t){return Uy(t).lj()},Vy=function(t){return uw.vU(t)},Yy=function(t){return Vy(t).lj()},Qy=function(t){return t instanceof cw?uw.vU(t):t},Jy=function(t){return t instanceof fw?uw.vU(t):t},Hy=function(t,s,i,e){s.tV()<i.tV()?t.Set(s,i,e):t.Set(i,s,e)},qy=function(t,s,i){s.tV()<i.tV()?t.El(s,i):t.El(i,s)},Xy=function(t,s){t.Dl(s)},Zy=function(t,s,i){return s.tV()<i.tV()?t.Ys(s,i):t.Ys(i,s)},Ky=function(t,s,i,e){if(!s)return!1;const n=0!==i||0!==e,r=t.lj(),h=uw.ak(),o=uw.tgt(),a=o.Wk().upt(),u=o.BW(),l=o.Tvt(),c=s.LB(),f=u!==s;let d;yw=s,gw=f&&!l,ww=!1;let p=0,m=0,g=!1;c.Qdt()?(dw.m(r.pY()),dw.offset(i,e),h.Txt(r.cj(),s,dw,mw),d=mw):a?uw.bxt()&&!c.spt().length&&c.tpt().length?d=c.tpt():(d=c.spt(),ww=!0):d=c.tpt(),n&&(p=r.Wb(),m=r.Qb(),r.sY(i,e),r.KV());for(const s of d)if(h.rz(t,s)){if(g=!0,l)break;f&&Mw.add(s)}return n&&(r.$V(p,m),r.KV()),ew.Mh(mw),g},$y=function(t){const s=uw.Yk().upt(),i=yw.LB(),e=i.tpt(),n=i.spt();i.Qdt()?(i.npt(Mw),s&&(ew.Mh(n),i.rpt(Mw,yw.NB()))):s?ww?i.hpt(Mw):(i.rpt(Mw,e),i.npt(Mw)):i.npt(Mw),yw.LSt()},tw=function(t,s){gw&&(s&&$y(t),Mw.clear(),yw=null,gw=!1)},sw=function(t,s){const i=uw.rj(s);if(!i)return!1;const e=t.LB();if(!e.Qdt()&&!e.tpt().includes(i))return!1;if(t.P0()){if(i.BW().vxt(t))return e.apt(i),t.LSt(),!0}else if(i.BW()===t)return e.apt(i),t.LSt(),!0;return!1},iw=function(t,s){const i=t.LB();if(i.Qdt()){i.$dt(!1),i.Ydt();const e=t.NB();for(let t=0,n=e.length;t<n;++t){const n=e[t];n.tV()===s?i.Kdt(n):i.Zdt(n)}return t.LSt(),!!i.tpt().length}{const e=i.tpt();let n=0;for(let t=0,r=e.length;t<r;++t){const r=e[t];e[n]=r,r.tV()===s?i.Kdt(r):++n}return ew.wh(e,n),t.LSt(),!!e.length}};0;const ew=self.Gs,rw=new ew.vo,hw={},ow={},aw={};let uw=null;ew.xxt=function(t){uw=t};const lw=self.zW,cw=self.MB,fw=self.bU;ow.Ixt=function(t,s){return ew.compare(this.lj().Wb(),t,s)},aw.Ixt=function(t,s){return ew.compare(this.x,t,s)},ow.Gxt=function(t,s){return ew.compare(this.lj().Qb(),t,s)},aw.Gxt=function(t,s){return ew.compare(this.y,t,s)},ow.Cxt=function(){return this.lj().wY()},aw.Cxt=function(){return this.yY()},hw._xt=function(){const t=Wy(this),s=t.QF(),i=t.pY();return i.$a()<0||i.tu()<0||i.Za()>s.Bg()||i.Ka()>s.Zg()},hw.Axt=function(t,s,i){const e=Qy(this).LB(),n=e.NB();if(!n.length)return!1;let r=n[0],h=r.lj(),o=r,a=ew.er(h.Wb(),h.Qb(),s,i);for(let e=1,u=n.length;e<u;++e){r=n[e],h=r.lj();const u=ew.er(h.Wb(),h.Qb(),s,i);(0===t&&u<a||1===t&&u>a)&&(a=u,o=r)}return e.apt(o),!0},ow.Vb=function(t){const s=this.lj();s.Wb()!==t&&(s.Vb(t),s.KV())},aw.Vb=function(t){this.x=+t},ow.Jb=function(t){const s=this.lj();s.Qb()!==t&&(s.Jb(t),s.KV())},aw.Jb=function(t){this.y=+t},ow.Ext=function(t,s){const i=this.lj();i.Dxt(t,s)||(i.$V(t,s),i.KV())},aw.Ext=function(t,s){this.setPosition(t,s)},hw.Nxt=function(t,s){if(!(t=Qy(t)))return;const i=Uy(this),e=t.EB(i);if(!e)return;const[n,r]=e.Lxt(s),h=i.lj();h.Wb()===n&&h.Qb()===r||(h.$V(n,r),h.KV())},hw.Oxt=function(t){if(0===t)return;const s=Wy(this);s.sY(s.Rxt()*t,s.Pxt()*t),s.KV()},ow.kxt=function(t,s){if(0===s)return;const i=this.lj();t=ew.Kn(t),i.sY(Math.cos(t)*s,Math.sin(t)*s),i.KV()},aw.kxt=function(t,s){0!==s&&(t=ew.Kn(t),this.offsetPosition(Math.cos(t)*s,Math.sin(t)*s))},ow.Wb=function(){return this.lj().Wb()},aw.Wb=function(){return this.x},ow.Qb=function(){return this.lj().Qb()},aw.Qb=function(){return this.y},hw.aF=function(){return uw.aF(Uy(this))},ow.Fxt=function(t,s){return ew.compare(this.lj().Bg(),t,s)},aw.Fxt=function(t,s){return ew.compare(this.width,t,s)},ow.jxt=function(t,s){return ew.compare(this.lj().Zg(),t,s)},aw.jxt=function(t,s){return ew.compare(this.height,t,s)},ow.Hg=function(t){const s=this.lj();s.Bg()!==t&&(s.Hg(t),s.KV())},aw.Hg=function(t){this.width=t},ow.Ug=function(t){const s=this.lj();s.Zg()!==t&&(s.Ug(t),s.KV())},aw.Ug=function(t){this.height=t},ow.vE=function(t,s){const i=Wy(this);i.Bg()===t&&i.Zg()===s||(i.vE(t,s),i.KV())},aw.vE=function(t,s){this.hU(t,s)},ow.Bg=function(){return this.lj().Bg()},aw.Bg=function(){return this.width},ow.Zg=function(){return this.lj().Zg()},aw.Zg=function(){return this.height},hw.zxt=function(){return Wy(this).pY().Za()},hw.Bxt=function(){return Wy(this).pY().Ka()},hw.Uxt=function(){return Wy(this).pY().$a()},hw.Wxt=function(){return Wy(this).pY().tu()},hw.Vxt=function(){const t=Wy(this).pY();return(t.Za()+t.$a())/2},hw.Yxt=function(){const t=Wy(this).pY();return(t.Ka()+t.tu())/2},hw.Qxt=function(t,s){return ew.rr(Wy(this).lU(),ew.Kn(s))<=ew.Kn(t)},hw.Jxt=function(t){return ew.ar(Wy(this).lU(),ew.Kn(t))},hw.Hxt=function(t,s){const i=ew.Kn(t),e=ew.Kn(s),n=Wy(this).lU();return ew.ar(e,i)?ew.ar(n,i)&&!ew.ar(n,e):!(!ew.ar(n,i)&&ew.ar(n,e))},ow.uU=function(t){const s=this.lj(),i=ew.Zn(ew.Kn(t));isNaN(i)||s.lU()===i||(s.uU(i),s.KV())},aw.uU=function(t){this.fY=t},hw.qxt=function(t){if(isNaN(t)||0===t)return;const s=Wy(this);s.uU(s.lU()+ew.Kn(t)),s.KV()},hw.Xxt=function(t){if(isNaN(t)||0===t)return;const s=Wy(this);s.uU(s.lU()-ew.Kn(t)),s.KV()},hw.Zxt=function(t,s){const i=Wy(this),e=i.lU(),n=ew.hr(e,ew.Kn(s),ew.Kn(t));isNaN(n)||e===n||(i.uU(n),i.KV())},hw.Kxt=function(t,s,i){const e=Wy(this),n=e.lU(),r=s-e.Wb(),h=i-e.Qb(),o=Math.atan2(h,r),a=ew.hr(n,o,ew.Kn(t));isNaN(a)||n===a||(e.uU(a),e.KV())},hw.$xt=function(t,s){const i=Wy(this),e=i.lU(),n=t-i.Wb(),r=s-i.Qb(),h=Math.atan2(r,n);isNaN(h)||e===h||(i.uU(h),i.KV())},ow.lU=function(){return ew.$n(this.lj().lU())},aw.lU=function(){return this.fY},hw.tIt=function(t,s){return ew.compare(ew.vr(100*Wy(this).$N(),6),t,s)},ow.HU=function(){return this.lj().HU()},aw.HU=function(){return this.isVisible},hw.QU=function(t){const s=Wy(this);t=2===t?!s.HU():0!==t,s.HU()!==t&&(s.QU(t),uw.yj())},hw.sL=function(t){const s=ew.Xn(t/100,0,1),i=Wy(this);if(i.aQ()){if(i.urt().sIt()===s)return}else if(i.$N()===s)return;i.sL(s),uw.yj()},hw.iIt=function(t){rw.Ko(t);const s=Wy(this);s.SY().Vo(rw)||(s.TY(rw),uw.yj())},hw.eL=function(){const t=Wy(this).SY();return ew.Cr(t.ko(),t.Fo(),t.jo(),t.zo())},hw.$N=function(){return ew.vr(100*Wy(this).$N(),6)},hw.eIt=function(t){return!!(t=Jy(t))&&Wy(this).cj()===t},hw.nIt=function(t){const s=Qy(this).LB(),i=s.NB();if(!i.length)return!1;let e=i[0];for(let s=1,n=i.length;s<n;++s){const n=i[s],r=n.lj(),h=e.lj(),o=r.cj().$P(),a=h.cj().$P();0===t?(o>a||o===a&&r.fj()>h.fj())&&(e=n):(o<a||o===a&&r.fj()<h.fj())&&(e=n)}return s.apt(e),!0},ow.rIt=function(t,s,i){const e=this.lj(),n=0===t?e.Hb():e.cY();return ew.compare(n,s,i)},aw.rIt=function(t,s,i){const e=0===t?this.mW:this.lY;return ew.compare(e,s,i)},ow.hIt=function(){this.lj().vY()},aw.hIt=function(){this.bY()},ow.oIt=function(){this.lj().IY()},aw.oIt=function(){this.xY()},hw.aIt=function(t){(t=Jy(t))&&Wy(this).CY(t)},hw.uIt=function(t,s){const i=0===t;if(!(s=Qy(s)))return;const e=Uy(this),n=s.lIt(e);n&&e.lj().AY(n,i)},ow.qb=function(t){const s=this.lj();s.Hb()!==t&&(s.qb(t),uw.yj())},aw.qb=function(t){this.mW=t},hw.cIt=function(){return Wy(this).cj().$P()},hw.fIt=function(){return Wy(this).cj()._c()},ow.dIt=function(){return this.lj().fj()},aw.dIt=function(){return this.zIndex},ow.pIt=function(){return this.lj().Hb()},aw.pIt=function(){return this.mW},ow.mIt=function(){return this.lj().cY()},aw.mIt=function(){return this.lY},hw.gIt=function(t){const s=Uy(this),i=s.BW().eU().srt(t);if(!i)return;const e=i.$P();return s.lj().XV().QQ(e)},hw.yIt=function(t,s){const i=Uy(this),e=i.BW().eU().srt(s);if(!e)return;const n=e.$P(),r=1===t,h=i.lj().XV();h.QQ(n)!==r&&(h.JQ(n,r),h.HQ(),uw.yj())},hw.wIt=function(t,s,i){const e=Uy(this),n=e.BW().eU().srt(t);if(!n)return;s=Math.floor(s);const r=n.EG().NG(s);if(!r)return;"color"===r?(rw.Ko(i),i=rw):"percent"===r&&(i/=100);const h=n.$P(),o=e.lj().XV();o.XQ(h,s,i)&&o.QQ(h)&&uw.yj()};const dw=ew.Vn(ew.Rect),pw=[],mw=[];let gw=!1,yw=null,ww=!1;const Mw=new Set;function*Sw(t){if(!t)return!1;const s=this.Fj(),i=s.ak(),e=s.jk(),n=e.Kk(),r=e.tgt(),h=r.BW(),o=r.Gvt(),a=r.Cvt(),u=n._q(),l=s.pF(),c=l-1,f=u.Yk(),d=n.Aq(f);let p=o.get("collmemory");p||(p=ew.Vn(ew.Gl),o.set("collmemory",p)),a.get("collisionCreatedDestroyCallback")||(a.set("collisionCreatedDestroyCallback",!0),s.yf().addEventListener("instancedestroy",(t=>Xy(p,t.BQ))));const m=h.LB(),g=t.LB(),y=m.NB();let w=null;for(let s=0;s<y.length;++s){const n=y[s];g.Qdt()?(i.Txt(n.lj().cj(),t,n.lj().pY(),pw),w=pw,i.MIt(n,t,w)):w=g.NB();for(let s=0;s<w.length;++s){const r=w[s];if(i.rz(n,r)||i.SIt(n,r)){const s=Zy(p,n,r);let i=!1,o=-2;"number"==typeof s&&(i=!0,o=s);const a=!i||o<c;if(Hy(p,n,r,l),a){const s=f.Cq();e.Oq(s);const i=h.LB(),o=t.LB();if(i.$dt(!1),o.$dt(!1),h===t){const t=i.tpt();ew.Mh(t),t.push(n),t.push(r),h.LSt()}else{const s=i.tpt(),e=o.tpt();ew.Mh(s),ew.Mh(e),s.push(n),e.push(r),h.LSt(),t.LSt()}yield*f.xSt(u,d),e.Pq(s)}}else qy(p,n,r)}ew.Mh(pw)}return n.zq(),!1}hw.TIt=function(t){const s=Qy(this);t=Qy(t);const i=s.Fj();if(i.bIt())return Sw.call(s,t);if(!t)return!1;const e=i.ak(),n=i.jk(),r=n.Kk(),h=n.tgt(),o=h.BW(),a=h.Gvt(),u=h.Cvt(),l=r._q(),c=i.pF(),f=c-1,d=l.Yk(),p=r.Aq(d);let m=a.get("collmemory");m||(m=ew.Vn(ew.Gl),a.set("collmemory",m)),u.get("collisionCreatedDestroyCallback")||(u.set("collisionCreatedDestroyCallback",!0),i.yf().addEventListener("instancedestroy",(t=>Xy(m,t.BQ))));const g=o.LB(),y=t.LB(),w=g.NB();let M=null;for(let s=0;s<w.length;++s){const i=w[s];y.Qdt()?(e.Txt(i.lj().cj(),t,i.lj().pY(),pw),M=pw,e.MIt(i,t,M)):M=y.NB();for(let s=0;s<M.length;++s){const r=M[s];if(e.rz(i,r)||e.SIt(i,r)){const s=Zy(m,i,r);let e=!1,h=-2;"number"==typeof s&&(e=!0,h=s);const a=!e||h<f;if(Hy(m,i,r,c),a){const s=d.Cq();n.Oq(s);const e=o.LB(),h=t.LB();if(e.$dt(!1),h.$dt(!1),o===t){const t=e.tpt();ew.Mh(t),t.push(i),t.push(r),o.LSt()}else{const s=e.tpt(),n=h.tpt();ew.Mh(s),ew.Mh(n),s.push(i),n.push(r),o.LSt(),t.LSt()}d.Rq(l,p),n.Pq(s)}}else qy(m,i,r)}ew.Mh(pw)}return r.zq(),!1},hw.vIt=function(t){return t=Qy(t),Ky(Uy(this),t,0,0)},hw.xIt=function(t,s,i){return t=Qy(t),Ky(Uy(this),t,s,i)},hw.IIt=function(){return!0},hw.JY=function(){return Wy(this).JY()},hw.v3=function(){return Wy(this).v3()},hw.GIt=function(t,s){const i=Qy(this);t=Qy(t);const e=i.Fj(),n=this.LB().NB();if(0===n.length)return!1;const r=t.LB();let h=r.NB();if(r.Qdt()){const s=[...e.CIt(t)];s.length>0&&(h=h.concat(s))}if(0===h.length)return!1;const o=r.Qdt()?null:new Set(h),a=new Set;for(let i=0,e=n.length;i<e;++i){const e=n[i];if(1===s)for(const s of e.kY())s._It(t)&&(null===o||o.has(s))&&a.add(s);else{let i;if(0===s){if(i=e.OY(),null===i)continue}else i=e.PY();i._It(t)&&(null===o||o.has(i))&&a.add(i)}}return 0!==a.size&&(r.npt(a),t.LSt(),!0)},hw.AIt=function(t,s){const i=Qy(this);t=Qy(t);const e=i.Fj(),n=i.LB().NB();if(0===n.length)return!1;const r=t.LB();let h=r.NB();if(r.Qdt()){const s=[...e.CIt(t)];s.length>0&&(h=h.concat(s))}if(0===h.length)return!1;const o=r.Qdt()?null:new Set(h),a=new Set;for(let i=0,e=n.length;i<e;++i){const e=n[i];2!==s||e.v3()||!e._It(t)||null!==o&&!o.has(e)||a.add(e);for(const i of 0===s?e.children():e.UY())2===s&&i.v3()||i._It(t)&&(null===o||o.has(i))&&a.add(i)}return 0!==a.size&&(r.npt(a),t.LSt(),!0)},hw.EIt=function(t,s,i){const e=Qy(this);t=Qy(t);const n=e.Fj(),r=e.LB().NB();if(0===r.length)return!1;const h=t.LB();let o=h.NB();if(h.Qdt()){const s=[...n.CIt(t)];s.length>0&&(o=o.concat(s))}if(0===o.length)return!1;const a=h.Qdt()?null:new Set(o),u=[];for(let e=0,n=r.length;e<n;++e){const n=r[e];if(0===s){const s=n.BY(i);null!==s&&s._It(t)&&(null===a||a.has(s))&&u.push(s)}else if(1===s)for(const s of n.children())if(s._It(t)){if(0===i){(null===a||a.has(s))&&u.push(s);break}--i}}return 0!==u.length&&(h.ept(u),t.LSt(),!0)},hw.DIt=function(t,s,i){const e=Uy(this);switch(t){case 0:default:return ew.compare(e.jY(),s,i);case 1:return ew.compare(e.NIt(),s,i)}},hw.VY=function(t,s,i,e,n,r,h,o,a,u){t=Qy(t);const l=Uy(this),c=uw.igt().BW();for(const f of t.LIt(l,c)){if(!f.TB().oB())return;l.VY(f,{qY:s,ZY:i,$Y:e,sQ:n,eQ:r,oQ:h,rQ:o,uQ:a,cQ:u})}},hw.YY=function(t){t=Qy(t);const s=Uy(this),i=uw.igt().BW();for(const e of t.LIt(s,i))s.YY(e)},hw.OIt=function(){const t=Uy(this);t.JY()&&t.OY().YY(t)},hw.RIt=function(){const t=Uy(this).OY();return t?t.tV():-1},hw.PIt=function(){return Uy(this).jY()},hw.kIt=function(){return Uy(this).NIt()},hw.FIt=function(t,s){t=Math.floor(t),s=Math.floor(s);const i=Wy(this);t<2||s<2||!isFinite(t)||!isFinite(s)?(i.gQ(),i.KV()):i.pQ(t,s)},hw.wQ=function(t,s,i,e,n,r,h,o){const a=Wy(this);a.wQ(t,s,{mode:0===i?"absolute":"relative",x:e,y:n,mW:r,bQ:h,vQ:o})&&a.KV()},hw.jIt=function(){const t=Wy(this);return t.SQ()?t.TQ().Mv():0},hw.zIt=function(){const t=Wy(this);return t.SQ()?t.TQ().Sv():0},hw.BIt=function(t){const s=Wy(this);t=2===t?!s.HU():0!==t,s.HU()!==t&&s.QU(t)},hw.OQ=function(t,s){this instanceof self.zW?this.XH(t,s):this.OQ(t,s)},hw.UIt=function(t,s){this instanceof self.zW?this.KH(t,""+s):this.UIt(t,""+s)},hw.WIt=function(t){this instanceof self.zW?this.$H(t):this.WIt(t)},hw.VIt=function(){this instanceof self.zW?this.JH():this.DQ()},hw.YIt=function(){this instanceof self.zW?this.HH():this.NQ()},hw.QIt=function(){return this instanceof self.zW?this.qH():this.QIt()},hw.JIt=function(t){this instanceof self.zW?this.HIt(0!==t):this.qIt(0!==t)},hw.XIt=function(){return this instanceof self.zW?this.KSt():this.ZIt()},ow.KIt=function(t,s,i){return ew.compare(this.iH().Aht(t),s,i)},aw.KIt=function(t,s,i){return ew.compare(Vy(this).Aht(t),s,i)},ow.$It=function(t){return!!this.iH().Aht(t)},aw.$It=function(t){return!!Vy(this).Aht(t)},hw.tGt=function(t,s){const i=Qy(this),e=i.LB(),n=e.NB();if(!n.length)return!1;const r=i.P0();let h=null,o=0;for(let e=0,a=n.length;e<a;++e){const a=n[e],u=r?a.BW().sbt(i.ibt()):0,l=a.Aht(u+s);(null===h||0===t&&l<o||1===t&&l>o)&&(o=l,h=a)}return e.apt(h),!0},hw.sGt=function(t){const s=Qy(this);return s.Fj().tgt().Tvt()?iw(s,t):sw(s,t)},hw.OJ=function(t){const s=new Set(ew.Rh(t)),i=Uy(this).uV();return s.isSubsetOf(i)},hw.iGt=function(){return Uy(this).eGt()},hw.nGt=function(){return Uy(this).uV().size},hw.rGt=function(t){return Uy(this).hGt(t)},hw.oGt=function(t,s){const i=ew.Rh(s);if(0===i.length)return;const e=Uy(this),n=new Set(e.uV());if(0===t)for(const t of i)n.add(t);else if(1===t)for(const t of i)n.delete(t);e.cV(n)},hw.aGt=function(){uw.JW(Uy(this))},hw.uGt=function(){return!0},hw.lGt=function(){return!0},ow.cGt=function(t,s){this.iH().Eht(t,s)},aw.cGt=function(t,s){Vy(this).Eht(t,s)},ow.fGt=function(t,s){const i=this.iH(),e=i.Aht(t);"number"==typeof e&&"number"!=typeof s?s=parseFloat(s):"string"==typeof e&&"string"!=typeof s&&(s=s.toString()),i.Eht(t,e+s)},aw.fGt=function(t,s){const i=Vy(this),e=i.Aht(t);"number"==typeof e&&"number"!=typeof s?s=parseFloat(s):"string"==typeof e&&"string"!=typeof s&&(s=s.toString()),i.Eht(t,e+s)},ow.dGt=function(t,s){const i=this.iH(),e=i.Aht(t);"number"==typeof e&&("number"!=typeof s&&(s=parseFloat(s)),i.Eht(t,e-s))},aw.dGt=function(t,s){const i=Vy(this),e=i.Aht(t);"number"==typeof e&&("number"!=typeof s&&(s=parseFloat(s)),i.Eht(t,e-s))},ow.pGt=function(t,s){this.iH().Eht(t,s?1:0)},aw.pGt=function(t,s){Vy(this).Eht(t,s?1:0)},ow.mGt=function(t){const s=this.iH();s.Eht(t,0===s.Aht(t)?1:0)},aw.mGt=function(t){const s=Vy(this);s.Eht(t,0===s.Aht(t)?1:0)},hw.gGt=function(t){let s;try{s=JSON.parse(t)}catch(t){return void console.error("Failed to load from JSON string: ",t)}const i=Uy(this),e="state";uw.yGt(),i.A6(e),i.nv(s,e),uw.wGt(e,{MGt:!0})},hw.SGt=function(){return JSON.stringify(Uy(this).ev("state"))},hw.TGt=function(){return Uy(this).BW()._c()},hw.bGt=function(){const t=uw.$mt().jpt();let s=t.PB();for(const i of uw.CIt(t))++s;return s},hw.vGt=function(){return uw.$mt().jpt().LB().NB().length},ow.iV=function(){return this.iH().iV()},aw.iV=function(){return Vy(this).iV()},ow.tV=function(){return this.iH().tV()},aw.tV=function(){return Vy(this).tV()},hw.vyt=function(t){const s=Uy(this);return t.toLowerCase()===uw.jk().Cyt(s)},hw.dV=function(t){const s=Uy(this);uw.jk().dV(s,t)},hw.xGt=function(t){const s=Qy(this);return uw.jk().tyt().IGt(s.LB().NB(),t),!0},hw.GGt=function(){return Uy(this).nV()},ew.CGt=function(t,s,i){const e=t[1],n=t[3],r=t[4],h=t[5],o=t[6],a=t[7],u=t[8],l=t[10],c=t[11],f=t[12],d=t[13],p=t[14],m=t[15],g=t[16],y=s.Aj,w=s.krt,M=s.Frt,S=Object.assign({},hw,i>=2?aw:ow);n&&(y.Ixt=S.Ixt,y.Gxt=S.Gxt,y.Cxt=S.Cxt,y._xt=S._xt,y.Axt=S.Axt,w.Vb=S.Vb,w.Jb=S.Jb,w.Ext=S.Ext,w.Nxt=S.Nxt,w.Oxt=S.Oxt,w.kxt=S.kxt,M._Gt=S.Wb,M.AGt=S.Qb,M.oF=S.aF),r&&(y.Fxt=S.Fxt,y.jxt=S.jxt,w.Hg=S.Hg,w.Ug=S.Ug,w.vE=S.vE,M.EGt=S.Bg,M.DGt=S.Zg,M.NGt=S.zxt,M.LGt=S.Bxt,M.OGt=S.Uxt,M.RGt=S.Wxt,M.PGt=S.Vxt,M.kGt=S.Yxt),h&&(y.FGt=S.Qxt,y.jGt=S.Jxt,y.Hxt=S.Hxt,w.uU=S.uU,w.qxt=S.qxt,w.Xxt=S.Xxt,w.Zxt=S.Zxt,w.Kxt=S.Kxt,w.$xt=S.$xt,M.zGt=S.lU),o&&(y.HU=S.HU,y.tIt=S.tIt,w.QU=S.QU,w.sL=S.sL,w.iIt=S.iIt,M.Opacity=S.$N,M.ColorValue=S.eL),a&&(y.eIt=S.eIt,y.nIt=S.nIt,y.rIt=S.rIt,w.hIt=S.hIt,w.oIt=S.oIt,w.aIt=S.aIt,w.uIt=S.uIt,w.qb=S.qb,M.cIt=S.cIt,M.fIt=S.fIt,M.dIt=S.dIt,M.pIt=S.pIt,M.mIt=S.mIt),u&&(y.gIt=S.gIt,w.yIt=S.yIt,w.wIt=S.wIt),d&&(y.IIt=S.IIt,y.JY=S.JY,y.v3=S.v3,y.GIt=S.GIt,y.AIt=S.AIt,y.EIt=S.EIt,y.DIt=S.DIt,w.VY=S.VY,w.YY=S.YY,w.OIt=S.OIt,M.RIt=S.RIt,M.PIt=S.PIt,M.kIt=S.kIt),p&&(w.FIt=S.FIt,w.wQ=S.wQ,M.jIt=S.jIt,M.zIt=S.zIt),l&&(y.HU=S.HU,w.QU=S.BIt,w.BGt=S.OQ,w.UGt=S.UIt,w.WGt=S.WIt),c&&(y.VGt=S.QIt,w.YGt=S.VIt,w.QGt=S.YIt),f&&(y.Il=S.XIt,w.JGt=S.JIt),m&&(y.TIt=S.TIt,y.vIt=S.vIt,y.xIt=S.xIt,s.HGt=tw),e||(y.KIt=S.KIt,y.$It=S.$It,y.tGt=S.tGt,y.sGt=S.sGt,y.OJ=S.OJ,w.cGt=S.cGt,w.fGt=S.fGt,w.dGt=S.dGt,w.pGt=S.pGt,w.mGt=S.mGt,w.oGt=S.oGt,y.uGt=S.uGt,y.lGt=S.lGt,w.aGt=S.aGt,w.gGt||(w.gGt=S.gGt),M.SGt||(M.SGt=S.SGt),M.bGt=S.bGt,M.vGt=S.vGt,M.qGt=S.iV,M.XGt=S.tV,M.TGt=S.TGt,M.iGt=S.iGt,M.nGt=S.nGt,M.rGt=S.rGt,y.vyt=S.vyt,w.dV=S.dV,w.xGt=S.xGt),g&&(M.GGt=S.GGt)}}{const Tw=self.Gs;Tw.syt=class extends Tw.Un{constructor(t){super(),this.cpt=t,this.Yc="",this.bR=-1,this.ZGt="",this.KGt=!1,this.$Gt=null,this.Spt=0,this.Qwt=[],this.Gpt=null,this.tCt=new Map,this.sCt=null,this.iCt=null,this.eCt=-1,this.ZSt=null,this.nCt=null,this.rCt=!1}Yn(){this.Yc="",this.bR=-1,this.ZGt="",this.$Gt=null,this.iCt=null,this.ZSt=null,this.nCt=null,this.eCt=-1,Tw.Mh(this.Qwt),this.Gpt&&(this.Gpt.clear(),this.Gpt=null);for(const t of this.tCt.values())t.Yn();this.tCt.clear(),this.sCt=null}Ub(){const t=this.cpt,s=t.Fj().R0(),i=t.$mt();this.$Gt=i.Yk(),this.Spt=i.Npt()+1;const e=t.Yyt(this.$Gt);e&&(this.iCt=e,this.ZSt=e.pTt(),this.nCt=e.dTt().map((t=>t.Jet())),e.ySt()&&(this.eCt=e.wTt()));for(const t of s){const s=t.LB();s.Qdt()&&!this.$Gt.BMt(t)||(this.Qwt.push(t),this.tCt.set(t,Tw.Vn(Tw.hCt,s)))}const n=t.Qk();this.Gpt=n.size>0?n:null}oCt(t){this.Yc="timer",this.Ub(),this.bR=this.cpt.Fj().fF()+t}aCt(t){this.Yc="walltimer",this.Ub(),this.bR=this.cpt.Fj().gF()+t}uCt(t){this.Yc="signal",this.Ub(),this.ZGt=t.toLowerCase()}IGt(t,s){this.Yc="instance-signals",this.Ub(),this.ZGt=s.toLowerCase(),this.sCt=new Set(t)}lCt(t){this.Yc="promise",this.Ub(),t.then((()=>this.Myt())).catch((t=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",t),this.Myt()}))}cCt(){return"timer"===this.Yc}fCt(){return"walltimer"===this.Yc}yyt(){return"signal"===this.Yc}Iyt(){return"instance-signals"===this.Yc}Byt(){return"promise"===this.Yc}wyt(){return this.ZGt}dCt(){return this.KGt}Myt(){this.KGt=!0}Gyt(t){this.sCt.delete(t),0===this.sCt.size&&this.Myt()}nyt(){return this.cCt()?this.bR<=this.cpt.Fj().fF():this.fCt()?this.bR<=this.cpt.Fj().gF():this.dCt()}pCt(t){t.Cpt(this.$Gt,this.Spt);for(const[t,s]of this.tCt.entries()){const i=t.LB();s.Cpt(i)}this.Gpt&&t.Ypt([...this.Gpt]);const s=this.iCt;s&&(s._St(this.ZSt),s.dTt().map(((t,s)=>t.Ant(this.nCt[s]))),s.ySt()&&s.MTt(this.eCt))}ryt(t){this.pCt(t),this.$Gt.wSt(t),this.iCt&&this.iCt.ySt()&&this.iCt.FSt(this.eCt),this.cpt.Xgt(this.Qwt),this.rCt=!0}async uyt(t){this.pCt(t);for(const s of this.$Gt.MSt(t))await this.cpt.Fj().Lgt(s);this.iCt&&this.iCt.ySt()&&this.iCt.FSt(this.eCt),this.cpt.Xgt(this.Qwt),this.rCt=!0}hyt(){return this.rCt}Bdt(t){for(const s of this.tCt.values())s.Bdt(t);if("instance-signals"===this.Yc){for(const s of t)this.sCt.delete(s);0===this.sCt.size&&this.Myt()}}M3(){const t={},s={wt:this.Yc,t:this.bR,st:this.ZGt,s:this.KGt,ev:this.$Gt.W0(),sm:this.Qwt.map((t=>t.W0())),dsm:this.Gpt?[...this.Gpt].map((t=>t.W0())):null,sols:t};this.$Gt.rSt(this.Spt)&&(s.act=this.$Gt.egt(this.Spt).W0());for(const[s,i]of this.tCt)t[s.W0().toString()]=i.M3();return"instance-signals"===this.Yc&&(s.pi=[...this.sCt].map((t=>t.tV()))),s}static Uyt(t,s){const i=t.Fj(),e=t.fgt(s.ev);if(!e)return null;let n=0;if(s.hasOwnProperty("act")){const i=t.pgt(s.act);if(!i)return null;n=i.$P()}const r=Tw.Vn(Tw.syt,t);r.bR=s.t,s.hasOwnProperty("wt")?r.Yc=s.wt:r.Yc=-1===r.bR?"signal":"timer",r.ZGt=s.st,r.KGt=s.s,r.$Gt=e,r.Spt=n;for(const t of s.sm){const s=i.Gq(t);s&&r.Qwt.push(s)}if(Array.isArray(s.dsm))for(const t of s.dsm){const s=i.Gq(t);s&&(r.Gpt||(r.Gpt=new Set),r.Gpt.add(s))}for(const[e,n]of Object.entries(s.sols)){const s=parseInt(e,10),h=i.Gq(s);if(!h)continue;const o=Tw.Vn(Tw.hCt,null);o.S3(t,n),r.tCt.set(h,o)}if("instance-signals"===r.Yc){r.sCt=new Set;for(const t of s.pi){const s=i.rj(t);s&&r.sCt.add(s)}}return r}}}{const bw=self.Gs;bw.hCt=class extends bw.Un{constructor(t){super(),this.Odt=null,this.mCt=!0,this.NK=[],t&&(this.Odt=t.BW(),this.mCt=t.Qdt(),bw.xh(this.NK,t.tpt()))}Yn(){this.Odt=null,bw.Mh(this.NK)}Cpt(t){t.$dt(this.mCt),bw.xh(t.tpt(),this.NK)}Bdt(t){bw.Ah(this.NK,t)}M3(){return{sa:this.mCt,insts:this.NK.map((t=>t.tV()))}}S3(t,s){const i=t.Fj();this.mCt=!!s.sa,bw.Mh(this.NK);for(const t of s.insts){const s=i.rj(t);s&&this.NK.push(s)}}}}{let vw=function(t,s){let i=t.get(s);return i||(i=new Map,t.set(s,i)),i};0;const xw=self.Gs;xw.gCt=class extends xw.Un{constructor(t){super(),this.kc=t.runtime,this.jc=t.id,this.Hn=t.name??"",this.yCt=!!t.Jz,this.wCt=!!t.MCt,this.SCt=!!t.tB,this.TCt=!!t.bCt,this.vCt=!!t.iB,this.xCt=!!t.ICt,this.GCt=!!t.aB,this.CCt=!!t.Kz,this._Ct=!!t.nB,this.ACt=t.ECt,this.DCt=null,this.NCt=new Map,this.LCt=new Map,this.OCt=new Map,this.RCt=new Map,this.PCt=t.kCt,this.FCt=null}Yn(){this.kc=null}Fj(){return this.kc}Qz(){return this.jc}_c(){return this.Hn}jCt(){}xyt(){return this.Svt()>=2?this.FCt.constructor:this.constructor}Svt(){return this.ACt}zCt(t=!1){let s=this.PCt;return t&&"function"!=typeof s&&this.Svt()>=2&&(s=globalThis.uH),s}qz(){return this.yCt}Zz(){return this.wCt}$z(){return this.CCt}rB(){return this._Ct}sB(){return this.SCt}gb(){return this.TCt}eB(){return this.vCt}oB(){return this.xCt}uB(){return this.GCt}WTt(t,s){if(!s)throw new Error("missing 'this' binding");let i=this.NCt.get(t);return i||(i=t.bind(s),this.NCt.set(t,i),i)}gvt(t,s,i){if(!s)throw new Error("missing 'this' binding");const e=vw(this.LCt,t);let n=e.get(i);return n||(n=t.bind(s,i),e.set(i,n),n)}yvt(t,s,i,e){if(!s)throw new Error("missing 'this' binding");const n=vw(this.OCt,t),r=vw(n,i);let h=r.get(e);return h||(h=t.bind(s,i,e),r.set(e,h),h)}wvt(t,s,i,e,n){if(!s)throw new Error("missing 'this' binding");const r=vw(this.RCt,t),h=vw(r,i),o=vw(h,e);let a=o.get(n);return a||(a=t.bind(s,i,e,n),o.set(n,a),a)}BCt(t){if(!this.qz())throw new Error("must be single-global plugin");this.DCt=t}gB(){if(!this.qz())throw new Error("must be single-global plugin");return this.DCt}wB(){if(!this.qz())throw new Error("must be single-global plugin");return this.DCt.wB()}UCt(){const t=this.Svt();xw.Vz.WCt(this,t);const s=this.zCt(!0);if(s){if(this.FCt=new s,!(this.FCt instanceof self.Uz))throw new TypeError("plugin class must derive from IPlugin")}else this.FCt=new self.Uz;xw.Vz.VCt(t)}dB(){return this.FCt}}}{const Iw=self.Gs;Iw.YCt=class extends Iw.gCt{constructor(t,s){super(t),this.QCt=s,this.JCt=0,this.HCt=new Map,this.qCt("elem-focused",(t=>t.XCt())),this.qCt("elem-blurred",(t=>{t&&t.ZCt()}))}Yn(){super.Yn()}KCt(t){const s=this.JCt++;return this.HCt.set(s,t),s}$Ct(t){this.HCt.delete(t)}qCt(t,s){this.kc.GV(this.QCt,t,(t=>{const i=this.HCt.get(t.elementId);s(i,t)}))}}}{const Gw=self.Gs;Gw.t_t=class extends Gw.Un{constructor(t){super(),this.Odt=t,this.kc=t.Fj(),this.s_t=t.TB()}Yn(){this.Odt=null,this.kc=null,this.s_t=null}BW(){return this.Odt}Fj(){return this.kc}TB(){return this.s_t}mJ(){return this.Odt.mJ()}jCt(){}Nvt(t){}wxt(t){}Mxt(t){}L4(t){}z4(){}P4(){}a5(t){}i_t(){}zCt(){return null}e_t(t,s,i){const e=Gw.Vn(Gw.Event,t,s);e.n_t=this,i&&Object.assign(e,i),this.BW().HZ(e)}}}{const Cw=self.Gs;Cw.r_t=class extends Cw.Un{constructor(t,s){super(),this.fi=t,this.QCt=s,this.h_t=null,this.kc=t.Fj(),this.Odt=this.fi.BW(),this.o_t=this.Odt.yxt(),this.w6=null,this.S6=null,this.RV=!1,this.kV=!1,this.qf=null,this.HA=!1}Yn(){this.HA=!0,this.a_t(),this.u_t(),this.w6=null,this.S6=null,this.qf&&(this.qf.Yn(),this.qf=null),this.fi=null,this.kc=null,this.Odt=null,this.o_t=null}Qn(){return this.HA}iH(){return this.fi}Fj(){return this.kc}BW(){return this.Odt}TB(){return this.o_t.TB()}yxt(){return this.o_t}l_t(){return this.fi.hj()}vV(t){return this.kc.vV(t,this.fi,null)}c_t(t){return this.kc.c_t(t,this.fi,null)}Cj(t){return this.kc.Cj(t,this.fi,null)}f_t(t,s){return this.kc.f_t(t,this.fi,s)}d_t(t,s){return this.kc.d_t(t,this.fi,s)}p_t(t){return this.kc.p_t(t)}m_t(t,s){this.kc.GV(this.QCt,t,s)}g_t(t){for(const[s,i]of t)this.m_t(s,i)}y_t(t,s){this.kc.zc(this.QCt,t,s)}w_t(t,s){return this.kc.Mj(this.QCt,t,s)}M_t(t,s){if(!this.kc.vk())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.QCt,handler:t,data:s,responseId:null});this.y_t(t,s)}S_t(t){if(!t)throw new Error("cannot set empty component id");this.h_t=t}T_t(){if(!this.h_t)throw new Error("wrapper extension component id not set");return this.kc.UV(this.h_t)}VV(t,s){if(!this.h_t)throw new Error("wrapper extension component id not set");this.kc.VV(this.h_t,t,s)}b_t(t){for(const[s,i]of t)this.VV(s,i)}gq(t,s){if(!this.h_t)throw new Error("wrapper extension component id not set");this.kc.gq(this.h_t,t,s)}yq(t,s){if(!this.h_t)throw new Error("wrapper extension component id not set");return this.kc.yq(this.h_t,t,s)}_8(){}v_t(){}x_t(){if(!this.RV){if(!this.w6)if(this.kc.DV()){const t=globalThis.NV,s=this.TB();this.w6=()=>{const i=performance.now();this._8(),t.OV(s,performance.now()-i)}}else this.w6=()=>this._8();this.kc.yf().addEventListener("tick",this.w6),this.RV=!0}}a_t(){this.RV&&(this.kc.yf().removeEventListener("tick",this.w6),this.RV=!1)}I_t(){return this.RV}G_t(){if(!this.kV){if(!this.S6)if(this.kc.DV()){const t=globalThis.NV,s=this.TB();this.S6=()=>{const i=performance.now();this.v_t(),t.OV(s,performance.now()-i)}}else this.S6=()=>this.v_t();this.kc.yf().addEventListener("tick2",this.S6),this.kV=!0}}u_t(){this.kV&&(this.kc.yf().removeEventListener("tick2",this.S6),this.kV=!1)}C_t(){return this.kV}__t(){return[]}ev(){return null}nv(t){}Sht(t){}Ght(t,s){}Mot(t,s,i){if(0===s)return;const e=this.Sht(t);if("number"!=typeof e)throw new Error("expected number");this.Ght(t,e+s,i)}A_t(t,s,i,e){}E_t(t,...s){t.call(this,...s)}D_t(t,...s){return t.call(this,...s)}zCt(){return null}e_t(t,s,i){if(!this.fi.N_t())return;const e=this.l_t(),n=Cw.Vn(Cw.Event,t,s);n.BQ=e,i&&Object.assign(n,i),e.dispatchEvent(n)}gb(){return!1}}}{const _w=self.Gs;_w.L_t=class extends _w.r_t{constructor(t,s){super(t,s),this.Qst=t.lj(),this.O_t=null,this.R_t=null}Yn(){if(this.O_t){const t=this.kc.yf();t.removeEventListener("renderercontextlost",this.O_t),t.removeEventListener("renderercontextrestored",this.R_t),this.O_t=null,this.R_t=null}this.Qst=null,super.Yn()}P_t(){this.k_t()}F_t(){}j_t(){}k_t(){if(this.O_t)return;this.O_t=()=>this.xK(),this.R_t=()=>this.z_t();const t=this.kc.yf();t.addEventListener("renderercontextlost",this.O_t),t.addEventListener("renderercontextrestored",this.R_t)}xK(){this.F_t()}z_t(){this.j_t()}lj(){return this.Qst}Rit(){return!1}Oit(){if(!this.Rit())throw new Error("original size not known");const t=this.B_t();if(t)return t.Bg()}kit(){if(!this.Rit())throw new Error("original size not known");const t=this.B_t();if(t)return t.Zg()}B_t(){return null}U_t(){const t=this.B_t();if(t){const s=t.lI();if(s)return[s.Bg(),s.Zg()]}return[100,100]}W_t(){const t=this.B_t();return t?t.tD():null}V_t(){const t=this.B_t();return t?t.Y_t():null}Q_t(){const t=this.B_t();return!!t&&t.J_t()}Lxt(t){const s=this.fi.lj();return[s.Wb(),s.Qb(),s.cY()]}i_t(t,s,i){}H_t(t,s){}q2(){return!0}}}{const Aw=self.Gs,Ew=Aw.Vn(Aw.Rect);Aw.q_t=class extends Aw.L_t{constructor(t,s){super(t,s),this.X_t=this.TB().KCt(this),this.Z_t=!0,this.K_t=!1,this.$_t=!1,this.tAt=-.2,this.sAt=Aw.Vn(Aw.Rect,0,0,-1,-1);const i=this.kc.Ij();this.iAt=i.DH(),this.eAt=i.NH(),this.nAt=-1,this.rAt=-1,this.hAt=!1,this.x_t()}Yn(){this.TB().$Ct(this.X_t),this.oAt("destroy"),this.X_t=-1,super.Yn()}AQ(){if(this.kc.vk())throw new Error("not valid in worker mode");return this.aAt("get-element")}oAt(t,s){s||(s={}),s.elementId=this.X_t,this.y_t(t,s)}aAt(t,s){return s||(s={}),s.elementId=this.X_t,this.M_t(t,s)}uAt(t,s){return s||(s={}),s.elementId=this.X_t,this.w_t(t,s)}lAt(t){t||(t={});const s=this.lj();t.elementId=this.X_t,t.isVisible=s.HU(),t.htmlIndex=s.cj().FH(),t.htmlZIndex=s.jH(),Object.assign(t,this.cAt()),this.Z_t=!!t.isVisible,this.M_t("create",t),this.fAt(!0)}BIt(t){t=!!t,this.Z_t!==t&&(this.Z_t=t,this.oAt("set-visible",{isVisible:t}))}_8(){this.fAt(!1)}dAt(){const t=this.kc.Ij().VH();return"Android"===Aw.Zs.Ks&&("scale-inner"===t||"scale-outer"===t||"crop"===t)}fAt(t){if(this.iH().YH())return;const s=this.lj(),i=s.cj(),e=s.pY();let[n,r]=i.LW(e.Za(),e.Ka()),[h,o]=i.LW(e.$a(),e.tu());const a=this.kc.Ij(),u=a.Nz(),l=a.Oz();if(!s.HU()||!i.HU())return void this.BIt(!1);if(!this.dAt()&&(h<=0||o<=0||n>=u||r>=l))return void this.BIt(!1);Ew.set(n,r,h,o);const c=a.DH(),f=a.NH(),d=i.FH(),p=s.jH();if(!t&&Ew.equals(this.sAt)&&this.iAt===c&&this.eAt===f&&this.nAt===d&&this.rAt===p)return void this.BIt(!0);this.sAt.m(Ew),this.iAt=c,this.eAt=f,this.nAt=d,this.rAt=p,this.BIt(!0);let m=null;this.$_t&&(m=i.QH()+this.tAt),this.aAt("update-position",{left:Math.round(this.sAt.Za()),top:Math.round(this.sAt.Ka()),width:Math.round(this.sAt.width()),height:Math.round(this.sAt.height()),htmlIndex:d,htmlZIndex:p,fontSize:m})}DQ(){this.aAt("focus",{focus:!0})}NQ(){this.aAt("focus",{focus:!1})}XCt(){this.K_t=!0}ZCt(){this.K_t=!1}QIt(){return this.K_t}OQ(t,s){this.oAt("set-css-style",{prop:Aw.So(t),val:s})}UIt(t,s){this.oAt("set-attribute",{name:t,val:s})}WIt(t){this.oAt("remove-attribute",{name:t})}pAt(){this.hAt||(this.hAt=!0,Promise.resolve().then((()=>{this.hAt=!1,this.oAt("update-state",this.cAt())})))}cAt(){}mAt(){return this.X_t}}}{const Dw=self.Gs,Nw=self.VQ;Dw.gAt=class extends Dw.Un{constructor(t){super(),this.kc=t.runtime,this.jc=t.id,this.Hn=t.name??"",this.yAt=Dw.Vn(Dw.Ol),this.wAt=Dw.Vn(Dw.Ol),this.ACt=t.ECt,this.PCt=t.kCt,this.MAt=null}Yn(){this.wAt.Yn(),this.yAt.Yn(),this.kc=null}Fj(){return this.kc}Qz(){return this.jc}_c(){return this.Hn}jCt(){}Svt(){return this.ACt}zCt(t=!1){let s=this.PCt;return t&&"function"!=typeof s&&this.Svt()>=2&&(s=globalThis.iq),s}SAt(t){this.yAt.Fl(t)}s8(){return this.yAt.jl()}v0(t){this.wAt.Fl(t)}G0(t){this.wAt.El(t)}NB(){return this.wAt.jl()}UCt(){const t=this.Svt();Dw.Vz.WCt(this,t);const s=this.zCt(!0);if(s){if(this.MAt=new s,!(this.MAt instanceof Nw))throw new TypeError("behavior class must derive from IBehavior")}else this.MAt=new Nw;Dw.Vz.VCt(t)}PQ(){return this.MAt}}}{const Lw=self.Gs;Lw.TAt=class extends Lw.Un{constructor(t){super(),this.kc=t.Fj(),this.nbt=t,this.Odt=t.BW(),this.bAt=t.kQ(),this.bAt.SAt(this.Odt)}Yn(){this.kc=null,this.nbt=null,this.Odt=null,this.bAt=null}jCt(){}zQ(){return this.nbt}BW(){return this.Odt}Fj(){return this.kc}kQ(){return this.bAt}}}{const Ow=self.Gs;Ow.vAt=class extends Ow.Un{constructor(t,s){super(),this.fut=t,this.QCt=s,this.fi=t.UQ(),this.kc=t.Fj(),this.nbt=t.zQ(),this.o_t=this.nbt.yxt(),this.RV=!1,this.kV=!1,this.pq=!1,this.qf=null}Yn(){this.a_t(),this.u_t(),this.xAt(),this.qf&&(this.qf.Yn(),this.qf=null),this.fut=null,this.fi=null,this.kc=null,this.nbt=null,this.o_t=null}kQ(){return this.nbt.kQ()}IAt(){return this.fut}UQ(){return this.fi}BW(){return this.fi.BW()}lj(){return this.fi.lj()}Fj(){return this.kc}zQ(){return this.nbt}yxt(){return this.o_t}l_t(){return this.fut.l_t()}vV(t){return this.kc.vV(t,this.fi,this.nbt)}c_t(t){return this.kc.c_t(t,this.fi,this.nbt)}Cj(t){return this.kc.Cj(t,this.fi,this.nbt)}GAt(){}_8(){}v_t(){}CAt(){}x_t(){this.RV||(this.kc.oq(this),this.RV=!0)}a_t(){this.RV&&(this.kc.aq(this),this.RV=!1)}I_t(){return this.RV}G_t(){this.kV||(this.kc.uq(this),this.kV=!0)}u_t(){this.kV&&(this.kc.lq(this),this.kV=!1)}C_t(){return this.kV}_At(){this.pq||(this.kc.cq(this),this.pq=!0)}xAt(){this.pq&&(this.kc.fq(this),this.pq=!1)}AAt(){return this.pq}__t(){return[]}m_t(t,s){this.kc.GV(this.QCt,t,s)}EAt(t,s){}ev(){return null}nv(t){}Sht(t){}Ght(t,s){}Mot(t,s){if(0===s)return;const i=this.Sht(t);if("number"!=typeof i)throw new Error("expected number");this.Ght(t,i+s)}A_t(t,s,i,e){}E_t(t,...s){t.call(this,...s)}D_t(t,...s){return t.call(this,...s)}zCt(){return null}e_t(t,s,i){if(!this.fut.N_t())return;const e=this.l_t(),n=Ow.Vn(Ow.Event,t,s);n.DAt=e,n.BQ=e.BQ,i&&Object.assign(n,i),e.dispatchEvent(n)}}}{let Rw=function(t){if(t!==kw)throw new Error("invalid internal API token")};0;const Pw=self.Gs;Pw.Dj={},Pw.Rut={};const kw=Pw.Cs();let Fw=[],jw=[],zw=[],Bw=null,Uw=null,Ww=null,Vw=null;const Yw=new Map,Qw=new Map;Pw.Vz=class extends Pw.Un{constructor(t,s){super(),this.kc=t,this.NAt=[],this.jTt=null,this.LAt=[],this.OAt=new Map,this.RAt=null,this.PAt=null,this.kAt=new Set(s)}FAt(t){const s=t[19],i=this.kc.USt(t[0]);if(!i)throw new Error("missing plugin");Pw.CGt(t,i,s);const e=s>=2?Pw.gCt:i,n=Pw.Vn(e,{runtime:this.kc,Jz:t[1],MCt:t[2],tB:t[5],iB:t[8],bCt:t[9],ICt:t[13],aB:t[14],Kz:t[17],nB:t[18],ECt:s,id:t[20],name:t[21],kCt:s>=2?i:null});n.jCt(),this.NAt.push(n),Yw.set(i,n)}jAt(){this.jTt=Pw.Vn(Pw.Dj.Ej,{runtime:this.kc,Jz:!0}),this.jTt.jCt()}zAt(t){const s=t[1],i=t[2],e=t[3],n=this.kc.USt(t[0]);if(!n)throw new Error("missing behavior");this.OAt.set(n,(()=>{const t=s>=2?Pw.gAt:n,r=Pw.Vn(t,{runtime:this.kc,id:i,name:e,ECt:s,kCt:s>=2?n:null});r.jCt(),this.LAt.push(r),Qw.set(n,r),!this.RAt&&Pw.Rut.BAt&&r instanceof Pw.Rut.BAt?this.RAt=r:!this.PAt&&Pw.Rut.UAt&&r instanceof Pw.Rut.UAt&&(this.PAt=r),r.UCt()}))}WAt(t){const s=this.OAt.get(t);s&&(s(),this.OAt.delete(t))}static WCt(t,s=1){if(Pw.Vz.WCt!==Bw)throw new Error("invalid method");1===s&&Fw.push(t),jw.push(t)}static VCt(t=1){if(Pw.Vz.VCt!==Uw)throw new Error("invalid method");1===t&&Fw.pop(),jw.pop()}static YW(){if(Pw.Vz.YW!==Ww)throw new Error("invalid method");if(0===Fw.length)throw new Error("no init object set");return Fw.at(-1)}static Wz(t){if(Pw.Vz.Wz!==Vw)throw new Error("invalid method");if(Rw(t),0===jw.length)throw new Error("no init object set");return jw.at(-1)}static VAt(t){zw.push(t)}static YAt(){zw.pop()}static TV(){if(0===zw.length)throw new Error("no init properties set");return zw.at(-1)}QAt(){for(const t of this.NAt)t.UCt()}static fB(t){return Yw.get(t)||null}static YQ(t){return Qw.get(t)||null}XZ(){return this.jTt}JAt(){return this.RAt}HAt(){return this.PAt}UV(t){return this.kAt.has(t)}},Bw=Pw.Vz.WCt,Uw=Pw.Vz.VCt,Ww=Pw.Vz.YW,Vw=Pw.Vz.Wz}{const Jw=self.Gs,Hw=new Set;Jw.qAt=class extends Jw.Un{constructor(){super(),this.XAt=0,this.fK="",this.dK=0,this.ZAt=0,this.KAt=0,this._y=0,this.Ay=0,this.$At=!1,this.tEt=!1,this.sEt=null,this.iEt="",this.UA=Jw.Vn(Jw.Rect),this.eEt=Jw.Vn(Jw.Cu),this.nEt="",this.rEt=new self.Pj(this),Hw.add(this)}Yn(){this.YA(),this.sEt&&0===this.sEt.CK()&&this.sEt.Yn(),this.sEt=null,Hw.delete(this),this.hEt()}static xK(){for(const t of Hw)t.iEt="",t.UA.set(0,0,0,0),t.eEt.Hu(t.UA)}oEt(t){this.fK=t[0],this.dK=t[1],this.ZAt=t[2],this.KAt=t[3],this._y=t[4],this.Ay=t[5],this.$At=t[6],this.tEt=!0}aEt(t,s,i){if(i=!!i,this.sEt)throw new Error("already loaded asset");this.fK=s;const e={kZ:i};return Jw.Xh(s)&&(e.FZ="remote"),this.kj(t,e),this.sEt.zZ()}uEt(t,s){if(this.sEt)throw new Error("already loaded asset");this.fK="",this.dK=s.size,this.sEt=Jw.Vn(Jw.jZ,t.nk(),{blob:s,size:this.dK,FZ:"local"})}lEt(t){if(t===this)throw new Error("cannot replace with self");this.XAt++,this.YA(),this.fK=t.fK,this.dK=t.dK,this.ZAt=t.ZAt,this.KAt=t.KAt,this._y=t._y,this.Ay=t.Ay,this.$At=t.$At,this.tEt=t.tEt,this.sEt=t.sEt,this.iEt=t.iEt,this.UA=t.UA,this.eEt=t.eEt,this.hEt()}WZ(){return this.fK}Nl(){return this.dK}cEt(){return this.ZAt}fEt(){return this.KAt}J_t(){return this.$At}Bg(){return this._y}Zg(){return this.Ay}dEt(){return this.sEt.Bg()}pEt(){return this.sEt.Zg()}kj(t,s){if(this.sEt)throw new Error("already got asset");s=Object.assign({},s,{url:this.WZ(),size:this.Nl()}),this.sEt=t.PZ(s)}yK(){return this.sEt&&this.sEt.yK()}async wX(t,s){if(!this.sEt)throw new Error("no asset");if(this.iEt)throw new Error("already loaded texture");const i=this.XAt;this.iEt="loading";const e=await this.sEt.wX(t,s);if(this.XAt!==i)return null;if(!e)return this.iEt="",null;this.iEt="loaded",this.tEt||(this._y=e.Bg(),this.Ay=e.Zg(),this.tEt=!0);const n=this.$At?this.Ay:this._y,r=this.$At?this._y:this.Ay;return this.UA.set(this.ZAt,this.KAt,this.ZAt+n,this.KAt+r),this.UA.wt(e.Bg(),e.Zg()),this.eEt.Hu(this.UA),this.$At&&this.eEt.tl(),e}YA(){this.iEt&&(this.sEt&&this.sEt.YA(),this.iEt="",this.UA.set(0,0,0,0),this.eEt.Hu(this.UA))}lI(){return this.sEt&&"loaded"===this.iEt?this.sEt.lI():null}tD(){return this.UA}Y_t(){return this.eEt}SH(){return this.rEt}mEt(){return this.sEt}async gEt(t){t||(t=await this.sEt._K());const s=Jw.lo(this._y,this.Ay),i=s.getContext("2d");return this.$At?(i.rotate(Math.PI/-2),i.translate(-this.Ay,0),i.drawImage(t,this.ZAt,this.KAt,this.Ay,this._y,0,0,this.Ay,this._y)):i.drawImage(t,this.ZAt,this.KAt,this._y,this.Ay,0,0,this._y,this.Ay),s}async yEt(t){if(this.nEt)return this.nEt;const s=await this.gEt(t),i=await Jw.co(s);return this.nEt=URL.createObjectURL(i),this.nEt}hEt(){this.nEt&&(URL.revokeObjectURL(this.nEt),this.nEt="")}}}{const qw=self.Gs;qw.wEt=class extends qw.Un{constructor(t){super(),this.Hn=t[0],this.MEt=t[1],this.qbt=!!t[2],this.Xot=t[3],this.SEt=t[4],this.TEt=!!t[5],this.f$=t[6],this.bEt=t[7].map((t=>qw.Vn(qw.vEt,t))),this.xEt=new self.ZQ(this)}static IEt(t,s){const i=qw.Vn(qw.wEt,[s,0,!1,0,0,!1,Math.floor(1e15*Math.random()),[]]);return i.bEt.push(qw.vEt.IEt(t)),i}Yn(){for(const t of this.bEt)t.Yn();qw.Mh(this.bEt)}GEt(t){for(const s of this.bEt)s.mJ().kj(t)}CEt(t,s){return Promise.all(this.bEt.map((i=>i.mJ().wX(t,s))))}_Et(){for(const t of this.bEt)t.mJ().YA()}_c(){return this.Hn}W0(){return this.f$}oJ(){return this.bEt.length}uJ(){return this.bEt}AEt(t){if((t=Math.floor(t))<0||t>=this.bEt.length)throw new RangeError("invalid frame");return this.bEt[t]}EEt(t,s){(s=Math.floor(s))<0?this.bEt.unshift(t):s>=this.bEt.length?this.bEt.push(t):this.bEt.splice(s,0,t)}DEt(t){if((t=Math.floor(t))<0||t>=this.bEt.length)throw new RangeError("invalid frame");this.bEt[t].Yn(),this.bEt.splice(t,1)}NEt(t){for(let s=0,i=this.bEt.length;s<i;++s)if(qw.Ze(this.bEt[s].AJ(),t))return s;return-1}LEt(t){if("string"==typeof t){const s=this.NEt(t);if(-1===s)throw new Error(`cannot find animation frame with tag ${t}`);return s}return t}KQ(){return this.MEt}tJ(){return this.qbt}iJ(){return this.Xot}nJ(){return this.SEt}hJ(){return this.TEt}OEt(){return this.xEt}}}{const Xw=self.Gs,Zw=(()=>{const t=atob("iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IArs4c6QAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAATSURBVBgZYxgFo2AUjIJRQFcAAAV4AAHcRQIbAAAAAElFTkSuQmCC"),s=new Uint8Array(t.length);for(let i=0,e=t.length;i<e;++i)s[i]=t.charCodeAt(i);return new Blob([s],{type:"image/png"})})();Xw.vEt=class extends Xw.Un{constructor(t){super(),this.REt=Xw.Vn(Xw.qAt),this.REt.oEt(t),this.PEt=t[7],this.kEt=Xw.Vn(Xw.Ca,t[8],t[9]),this.FEt=t[10].map((t=>Xw.Vn(Xw.jEt,this,t))),this.zEt=new Map;for(const t of this.FEt)this.zEt.set(t._c().toLowerCase(),t);this.BEt=null;const s=t[11];s.length>=6&&(this.BEt=Xw.Vn(Xw.ol,s)),this.Ew=t[12]?t[12]:"",this.UEt=new self.pJ(this)}static IEt(t){const s=Xw.Vn(Xw.vEt,["",0,0,0,100,100,!1,1,0,0,[],[],""]);return s.REt.uEt(t,Zw),s}Yn(){this.BEt&&(this.BEt.Yn(),this.BEt=null),this.REt.Yn(),this.REt=null}mJ(){return this.REt}gJ(){return this.PEt}eY(){return this.kEt.Na()}hY(){return this.kEt.Oa()}IJ(){return this.BEt}vJ(t){return this.zEt.get(t.toLowerCase())||null}bJ(t){return(t=Math.floor(t))<0||t>=this.FEt.length?null:this.FEt[t]}wJ(){return this.FEt.length}AJ(){return this.Ew}lJ(){return this.UEt}}}{const Kw=self.Gs;Kw.jEt=class extends Kw.Un{constructor(t,s){super(),this.WEt=t,this.Hn=s[0],this.VEt=Kw.Vn(Kw.Ca,s[1],s[2])}Yn(){}_c(){return this.Hn}Wb(){return this.VEt.Na()}Qb(){return this.VEt.Oa()}YEt(){return this.VEt}}}{const $w=globalThis.Gs,tM=globalThis.NV,sM=(globalThis.MB,globalThis.OB),iM=globalThis.XB;globalThis.assert;$w.Flt=class extends $w.Un{constructor(t,s,i){super();const e=t.USt(i[1]);this.kc=t,this.s_t=$w.Vz.fB(e),this.o_t=null,this.QEt=e.Instance,this.Aw=s,this.f$=i[11],this.Hn=i[0],this.GTt=this.kc.ugt(i[14]),this.JEt=!!i[9],this.HEt=!!i[2],this.qEt=!!i[10],this.XEt=i[3].map((s=>({KK:s[0],type:s[1],name:s[2],ZEt:t.ugt(s[3])}))),this.KEt=i[4],this.$Et=i[5],this.wCt=this.s_t.Zz(),this.tDt=$w.Vn($w.Event.yf),this.J$=null;const[n,r]=t.ak().fz();if(this.sDt=$w.Vn($w.iDt,n,r),this.eDt=!0,this.nDt=null,this.rDt=null,this.hDt=-1,this.oDt=null,this.aDt=null,this.uDt=null,this.lDt=null,this.cDt=null,this.fDt=!1,this.dDt=null,this.pDt=i[8].map((t=>$w.mDt.EI(this,t))),this.gDt=[],this.yDt=new Map,this.wDt=new Map,this.MDt=new Set,this.SDt=new Map,this.TDt=$w.Vn($w.Ldt,this),this.bDt=null,this.vDt=0,this.xDt=!1,this.dDt=null,this.REt=null,this.IDt=null,this.GDt=null,this.CDt=null,this._Dt=0,this.tvt=new Map,this.svt=new Map,this.NK=[],this.ADt=new Map,this.EDt=!0,this.s_t.eB()&&(this.J$=$w.Vn($w.H$,this,i[12])),i[6]&&(this.REt=$w.Vn($w.qAt),this.REt.oEt(i[6])),i[7]){this.IDt=i[7].map((t=>$w.Vn($w.wEt,t))),this.GDt=new Map,this.CDt=new Map;for(const t of this.IDt)this.GDt.set(t._c().toLowerCase(),t),this.CDt.set(t.W0(),t)}this.HEt?(this.nDt=[],this.rDt=new Set,this.hDt=this.kc.DDt()):(this.oDt=[],this.aDt=new Set,this.uDt=[],this.lDt=[],this.cDt=[]);const h=this.s_t.Svt();if(h<2&&(this.o_t=$w.Vn(e.NDt,this,i[15]),!(this.o_t instanceof $w.t_t)))throw new Error("v1 sdk type must derive from SDKTypeBase");let o;if(this.LDt=null,this.ODt=null,this.n4=$w.Vn($w.Event.yf),$w.Vz.WCt(this,h),h>=2?(o=e.NDt,o||(o=globalThis.yH)):o=this.o_t.zCt(),o&&!this.HEt){if(this.LDt=new o(h<2?this:null),h<2&&!(this.LDt instanceof sM))throw new TypeError("script interface class must derive from IObjectType");if(h>=2&&!(this.LDt instanceof globalThis.yH))throw new TypeError("script interface class must derive from ISDKObjectTypeBase")}else{const t=this.HEt?iM:sM;this.LDt=new t}if($w.Vz.VCt(h),i[13]){const t=i[13];if(t){const s=t[0],i=t[1],e=t[2];this.o_t.i_t(s,i,e)}}this.kc.RDt()&&!this.HEt&&!this.qEt&&this.wCt||this.jCt(),this.s_t.qz()&&(this.s_t.BCt(this),this.PDt(i)),this.kDt=null}static EI(t,s,i){return $w.Vn($w.Flt,t,s,i)}Yn(){if(this.tDt.Yn(),this.tDt=null,this.REt&&(this.REt.Yn(),this.REt=null),this.IDt){for(const t of this.IDt)t.Yn();$w.Mh(this.IDt),this.GDt.clear(),this.CDt.clear()}this.kDt=null,this.TDt.Yn(),this.TDt=null,this.tvt.clear(),this.svt.clear(),this.dDt=null,this.kc=null}FDt(t){for(let s=1,i=t.length;s<i;++s){const i=this.kc.f0(t[s]);this.nDt.push(i),this.rDt.add(i),i.oDt.push(this),i.aDt.add(this)}}jDt(t){this.fDt=!0,this.dDt=t}KW(){return this.fDt}E4(){return this.dDt}zDt(){let t=0;if(!this.HEt)for(const s of this.oDt)for(const i of s.BDt()){const s=i._c().toLowerCase();this.yDt.set(s,i),this.wDt.set(s,t),this.gDt.push(i),++t}for(const s of this.BDt()){const i=s._c().toLowerCase();this.yDt.set(i,s),this.wDt.set(i,t),this.gDt.push(s),++t}for(const t of this.gDt)this.MDt.add(t.kQ().constructor);if(!this.HEt&&this.oDt.length){const t=this.kc.UDt();$w.Th(this.uDt,t,0),$w.Th(this.lDt,t,0),$w.Th(this.cDt,t,0);const s=[];let i=0,e=0,n=0;for(const t of this.oDt){const r=t.ibt();this.uDt[r]=i,i+=t.WDt(),this.lDt[r]=e,e+=t.VDt(),this.cDt[r]=n,n+=t.YDt();const h=t.eU();if(h&&this.J$)for(const t of h.nU())s.push(t.QDt(this.J$))}this.J$&&this.J$.JDt(s)}}PDt(t){const s=$w.$i(t[17])?t[17]:this.kc.HDt(),i=$w.Vn($w.Instance,{runtime:this.kc,objectType:this,uid:s});i.qDt(t[16],[]),this.kc.XDt(s,i),this.NK.push(i)}yxt(){return this.o_t}ZDt(){return this.qEt}yf(){return this.tDt}jCt(){this.HEt||(this.o_t?this.o_t.jCt():this.LDt.wH())}KDt(){return this._Dt>0}async L4(t){this.HEt||(this._Dt++,1===this._Dt&&(this.o_t?await this.o_t.L4(t):await this.LDt.TH(this.kc.Ij().$Dt())))}z4(){if(!this.HEt){if(this._Dt--,this._Dt<0)throw new Error("released textures too many times");0===this._Dt&&(this.o_t?this.o_t.z4():this.LDt.bH(this.kc.Ij().$Dt()))}}P4(){if(this.HEt)throw new Error("not applicable to family");this.o_t?this.o_t.P4():this.LDt.vH()}async a5(t){this.HEt||(this.o_t?await this.o_t.a5(t):await this.LDt.xH(this.kc.Ij().$Dt()))}Fj(){return this.kc}TB(){return this.s_t}tNt(){return this.QEt}_c(){return this.Hn}ugt(){return this.GTt}$P(){return this.Aw}W0(){return this.f$}P0(){return this.HEt}b0(){return this.JEt}Zz(){return this.wCt}ibt(){return this.hDt}BDt(){return this.pDt}VDt(){return this.KEt}sNt(t){return t&&this.MDt.has(t)}WDt(){return this.XEt.length}iNt(){return this.XEt.map((t=>t.KK))}eNt(t){return this.XEt.findIndex((s=>s.KK===t))}wit(t){return this.XEt.findIndex((s=>s.name===t))}nNt(){return this.XEt.map((t=>t.name))}rNt(){return this.XEt.map((t=>t.ZEt))}Sit(t){if((t=Math.floor(t))<0||t>=this.XEt.length)throw new RangeError("invalid instance variable index");return this.XEt[t].type}Mit(t){if((t=Math.floor(t))<0||t>=this.XEt.length)throw new RangeError("invalid instance variable index");return this.XEt[t].name}YDt(){return this.$Et}hNt(){return this.gDt}$nt(t){return this.yDt.get(t.toLowerCase())||null}bit(t){const s=this.wDt.get(t.toLowerCase());return void 0===s?-1:s}eU(){return this.J$}eB(){return this.s_t.eB()}oNt(){return this.J$&&this.J$.aNt()}Zgt(){return this.TDt}LB(){return this.TDt.LB()}mJ(){return this.REt}m0(t){this.bDt=t}p0(){return this.bDt}g0(t){this.vDt=t}uNt(){return this.vDt}lNt(){return this.IDt}cNt(){return this.IDt.length}JB(){return this.oDt}vxt(t){return this.aDt.has(t)}$B(){return this.nDt}sU(t){return this.rDt.has(t)}obt(t){return this.lDt[t]}sbt(t){return this.uDt[t]}lTt(t){this.SDt.set(t.mTt().toLowerCase(),t)}cTt(t){return!!this.TTt(t)}TTt(t){const s=this.SDt.get(t.toLowerCase());return s&&s.Il()?s:null}fNt(){return this.IDt}dNt(t){if(!this.IDt)throw new Error("no animations");return this.GDt.get(t.toLowerCase())||null}pNt(t){if(!this.IDt)throw new Error("no animations");return this.CDt.get(t)||null}mNt(t){if(this.dNt(t))throw new Error(`animation name '${t}' already exists`);const s=$w.wEt.IEt(this.Fj(),t);return this.IDt.push(s),this.GDt.set(s._c().toLowerCase(),s),this.CDt.set(s.W0(),s),s}gNt(t){const s=this.dNt(t);if(!s)throw new Error(`animation name '${t}' does not exist`);if(1===this.IDt.length)throw new Error("cannot remove last animation");const i=this.IDt.indexOf(s);this.IDt.splice(i,1),this.GDt.delete(s._c().toLowerCase()),this.CDt.delete(s.W0()),s.Yn()}yNt(){if(!this.IDt)throw new Error("no animations");return this.IDt[0]}wNt(){return this.yNt().AEt(0)}MNt(){if(this.IDt){const t=this.wNt().mJ();return[t.Bg(),t.Zg()]}return this.REt?[this.REt.Bg(),this.REt.Zg()]:[100,100]}wB(){if(!this.s_t.qz())throw new Error("not a single-global plugin");return this.NK[0]}NB(){return this.NK}*vB(){yield*this.NK}*DB(){yield*this.NK,yield*this.kc.CIt(this)}PB(){return this.NK.length}v0(t){this.NK.push(t)}SNt(){this.EDt=!0}m5(){if(!this.EDt||this.HEt)return;const t=this.NK;let s=0;for(let i=t.length;s<i;++s)t[s].TNt(s);const i=this.kc.bNt();for(const t of i)t.BW()===this&&t.TNt(s++);this.EDt=!1}vNt(t){const s=this.NK;if(t<s.length)return s[t];t-=s.length;const i=this.kc.bNt();for(const s of i)if(s.BW()===this){if(0===t)return s;--t}return null}lIt(t){if(t&&t.KW()&&t.BW()!==this)for(const s of t.$W())if(s.BW()===this)return s;const s=this.LB().NB();return s.length?s[0]:null}EB(t){const s=this.LB().NB();return s.length>0?s[t.iV()%s.length]:null}*LIt(t,s){const i=this.LB().NB(),e=i.length,n=s.LB(),r=s.LB().NB(),h=r.length;let o=t.iV();!s.P0()&&n.Qdt()||(o=r.indexOf(t));const a=Math.ceil(e/h),u=e%h;let l=0,c=0;0===u||o<u?(l=o*a,c=a):(l=u*a+(o-u)*(a-1),c=a-1);for(let t=l,s=l+c;t<s;++t)yield i[t]}Nvt(t){this.o_t?.Nvt(t)}LSt(){if(!this.fDt||this.HEt)return;this.m5();const t=this.LB(),s=t.tpt(),i=t.Qdt(),e=this.kc.$mt(),n=e&&e.Yk()&&e.Yk().upt();for(const e of this.dDt.tU()){if(e===this)continue;e.m5();const r=e.LB();if(r.$dt(i),!i){const i=r.tpt();$w.Mh(i);for(const t of s)i.push(e.vNt(t.iV()));if(n){const s=t.spt(),i=r.spt();$w.Mh(i);for(const t of s)i.push(e.vNt(t.iV()))}}}}kvt(t,s){for(const i of this.E4().tU()){const e=i.LB();t?$w.wh(e.spt(),s):$w.wh(e.tpt(),s)}}xNt(){return this.sDt}INt(t){this.eDt=!!t}GNt(){if(this.eDt&&this.wCt){for(const t of this.NK)t.lj().CNt();for(const t of this.kc.bNt())t.BW()===this&&t.lj().CNt();this.eDt=!1}}_Nt(t,s,i){if(s){const i=this.ADt.get(s);i&&(i.delete(t),0===i.size&&this.ADt.delete(s))}if(i){let s=this.ADt.get(i);s||(s=new Set,this.ADt.set(i,s)),s.add(t)}}*ANt(){if(this.P0()){const t=new Set;for(const s of this.nDt)for(const i of s.ANt())t.add(i);yield*t.values()}else for(const t of this.ADt.keys())t.Qn()||(yield t)}Gvt(){return this.tvt||(this.tvt=new Map),this.tvt}Cvt(){return this.svt||(this.svt=new Map),this.svt}ENt(){return this.sNt($w.Rut.BAt)}DNt(){return this.sNt($w.Rut.UAt)}NNt(){return this.sNt($w.Rut.LNt)}S0(){return this.sNt($w.Rut.ONt)}M3(){const t={instances:this.NK.map((t=>t.ev()))};return this.tvt&&this.tvt.size&&(t.ex=$w.wo(this.tvt)),t}S3(t,s){this.tvt&&(this.tvt.clear(),this.tvt=null);const i=t.ex;i&&(this.tvt=$w.Mo(i));const e=this.NK,n=t.instances;for(let t=0,s=Math.min(e.length,n.length);t<s;++t)e[t].nv(n[t]);for(let t=n.length,s=e.length;t<s;++t)this.kc.JW(e[t]);for(let t=e.length,i=n.length;t<i;++t){const i=n[t];let e=null;if(this.Zz()&&(e=this.kc.UF().S4(i.w.l),!e))continue;const r=this.kc.T0(this.bDt||this,e,!1,0,0,!0);r.nv(i),s&&s.add(r)}this.kDt=n,this.SNt()}RNt(){return this.kDt}PNt(){this.kDt=null}kNt(){for(let t=0,s=this.NK;t<s;++t)this.NK[t].kNt()}mB(){return this.LDt}Rk(){return this.n4}FNt(){return this.ODt}kB(t){this.ODt=t}HZ(t){const s=this.kc,i=s.DV()&&!s.jk().WB();i&&tM.z5(),this.n4.dispatchEvent(t),i&&tM.B5()}}}{const eM=self.Gs;eM.jNt=class extends eM.Un{constructor(t,s){super(),this.kc=t,this.zNt=s;for(const t of this.zNt)t.jDt(this)}Yn(){this.kc=null}Fj(){return this.kc}A4(){return this.zNt}tU(){return this.zNt}y5(){return this.zNt.some((t=>t.Zz()))}}}{const nM=self.Gs,rM=self.NV,hM=(self.zW,nM.Vz),oM=[];let aM=0;const uM=new WeakMap,lM=new WeakMap;nM.Instance=class extends nM.Un{constructor(t){if(nM.Vz!==hM)throw new Error("invalid addon manager");super(),this.kc=t.runtime,this.BNt=t.objectType,this.Qst=null,this.UNt=null,this.WNt=null,this.VNt=0,this.YNt=t.uid,this.QNt=aM++,this.Bvt=0,this.JNt=null;const s=nM.Rh(t.tags);s.length>0&&(this.JNt=new Set(s)),this.HNt=oM,this.qNt=oM;const i=this.BNt.hNt();i.length>0&&(this.qNt=i.map(((t,s)=>nM.Vn(nM.XNt,{runtime:this.kc,FQ:t,BQ:this,index:s})))),this.ZNt=this.BNt.KW()?[]:null,this.KNt=-1,this.tDt=null;const e=this.TB();if(e.gb()&&(this.Bvt|=4),e.Zz())if(this.Qst=nM.Vn(nM.$Nt,this,t.ZV),t.tLt)this.Qst.sLt(t.tLt);else{this.Qst.iLt();const[t,s]=this.BNt.MNt();this.Qst.vE(t,s),this.BW().oNt()&&this.Qst.XV().eLt()}t.nLt?this.rLt(t.nLt):this.hLt()}Yn(){if(this.WNt&&(this.WNt.QW(),this.WNt=null),this.qNt.length>0){for(const t of this.qNt)t.Yn();nM.Mh(this.qNt)}this.UNt&&(this.UNt.Yn(),this.UNt=null);const t=uM.get(this);t&&(t.clear(),uM.delete(this));const s=lM.get(this);s&&(s.clear(),lM.delete(this)),this.ZNt&&nM.Mh(this.ZNt),this.tDt&&(this.tDt.Yn(),this.tDt=null),this.JNt&&this.JNt.clear(),this.JNt=null,this.kc=null,this.BNt=null,this.HNt.length>0&&nM.Mh(this.HNt),this.Qst&&(this.Qst.Yn(),this.Qst=null)}rLt(t){t.length>0&&(this.HNt=[],nM.xh(this.HNt,t))}hLt(){const t=this.BNt.WDt();if(0===t)return;this.HNt=[];const s=[0,0,""];for(let i=0;i<t;++i)this.HNt.push(s[this.BNt.Sit(i)])}qDt(t,s){if(this.UNt)throw new Error("already got sdk instance");for(let t=0,i=this.qNt.length;t<i;++t)this.qNt[t].qDt(s?s[t]:null);if(this.TB().Svt()<2){if(this.UNt=nM.Vn(this.BNt.tNt(),this,t),!(this.UNt instanceof nM.r_t))throw new Error("sdk type must derive from SDKInstanceBase");!this.TB().Zz()&&this.BNt.FNt()&&this.hj()}else{const s=this.TB().zCt();this.oLt(s.Instance,t)}}EQ(){return this.UNt??this.WNt}lj(){return this.Qst}Fj(){return this.kc}wF(){return this.KNt}rV(){const t=this.KNt;return-1===t?this.Fj().wF():t}MF(t){((t=+t)<0||!isFinite(t))&&(t=0),this.KNt=t,this.BW().oNt()&&this.kc.aLt(this,!0)}oV(){this.KNt=-1,this.BW().oNt()&&this.kc.aLt(this,!1)}o3(){return this.kc.uLt(this)}yf(){return this.tDt||(this.tDt=nM.Vn(nM.Event.yf)),this.tDt}Nv(t){this.UNt?this.UNt.Nv(t):this.WNt.AH(this.kc.Ij().$Dt())}jCt(t){this.UNt.jCt(t)}lLt(){this.Bvt|=2}cLt(){return!!(2&this.Bvt)}fLt(){this.Bvt|=1}YH(){return!!(1&this.Bvt)}gb(){return!!(4&this.Bvt)||this.UNt.gb()}dLt(){this.Bvt|=32}Z2(){return!!(32&this.Bvt)}pLt(){return!!(8&this.Bvt)}mLt(t){t?this.Bvt|=8:this.Bvt&=-9}gLt(){return!!(16&this.Bvt)}yLt(t){t?this.Bvt|=16:this.Bvt&=-17}wLt(){return!!(64&this.Bvt)}MLt(t){t?this.Bvt|=64:this.Bvt&=-65}SLt(t,s){t<<=16,s?this.Bvt|=t:this.Bvt&=~t}TLt(t){return!!(this.Bvt&t<<16)}B_t(){return this.UNt.B_t()}U_t(){return this.UNt.U_t()}W_t(){return this.UNt.W_t()}V_t(){return this.UNt.V_t()}Q_t(){return this.UNt.Q_t()}Lxt(t){return this.UNt.Lxt(t)}BW(){return this.BNt}q2(){return this.UNt.q2()}_It(t){return t.P0()?t.sU(this.BW()):this.BW()===t}bLt(t,s,i){const e=(s,i)=>{const e=i||s.BW(),n=t.get(e);n?n.add(s):t.set(e,new Set([s]))};if(e(this,s),this.KW())for(const t of this.$W())e(t);if(i)for(const t of this.UY())e(t)}vLt(){if(!this.TB().oB())throw new Error("object does not support scene graph")}JY(){return null!==this.OY()}OY(){const t=this.lj();if(!t)return null;const s=t.OY();return s?s.iH():null}PY(){const t=this.lj();if(!t)return null;const s=t.PY();return s?s.iH():null}*kY(){const t=this.lj();if(t)for(const s of t.kY())yield s.iH()}xLt(t){if(!t)return!1;for(const s of this.children())if(s===t)return!0;return!1}v3(){const t=this.lj();return!!t&&t.v3()}ILt(t){const s=this.lj();if(!s)return[];const i=t._c();return s.I5().map((t=>t.iH())).filter((t=>t.BW()._c()===i))}I5(){const t=this.lj();return t?t.I5().map((t=>t.iH())):[]}*children(){const t=this.lj();if(t)for(const s of t.children())yield s.iH()}*UY(){const t=this.lj();if(t)for(const s of t.UY())yield s.iH()}jY(){const t=this.lj();return t?t.jY():0}GLt(){return[...this.kY()].length}NIt(){const t=this.lj();return t?t.NIt():0}BY(t){const s=this.lj();if(!s)return null;const i=s.BY(t);return i?i.iH():null}CLt(){const t=this.lj();if(!t)return NaN;const s=t.OY();return s?s._Lt(t):NaN}ALt(t){for(const s of this.lj().I5())if(s.iH().tV()===t)return!0;return!1}VY(t,s){this.vLt(),t.vLt(),this.lj().VY(t.lj(),s||{})}YY(t){const s=this.lj();s&&s.YY(t.lj())}fQ(){const t=this.lj();return!!t&&t.fQ()}n5(){const t=this.lj();if(!t)return;const s=t.ELt();if(s)for(const t of s){const s=this.kc.rj(t[2]);if(s){const i=t[3];this.VY(s,{qY:!!(1&i),ZY:!!(i>>1&1),$Y:!!(i>>2&1),sQ:!!(i>>3&1),eQ:!!(i>>4&1),cQ:!!(i>>5&1),rQ:!!(i>>6&1),oQ:!!(i>>7&1),uQ:!!(i>>8&1)})}}}r5(t,s){const i=t.get(this);if(i)for(const t of i.sceneGraphJson.children){const i=s.get(t.index);if(!i)continue;const e=t.flags;this.VY(i,{qY:!!(1&e),ZY:!!(e>>1&1),$Y:!!(e>>2&1),sQ:!!(e>>3&1),eQ:!!(e>>4&1),cQ:!!(e>>5&1),rQ:!!(e>>6&1),oQ:!!(e>>7&1),uQ:!!(e>>8&1)})}}nV(){const t=this.kc.DLt();return t?t.zlt(this):""}KW(){return null!==this.ZNt}NLt(){nM.Mh(this.ZNt)}p5(t){this.ZNt.push(t)}XW(){return this.ZNt}LLt(t){return!!this.OLt(t)}OLt(t){const s=this.$W();if(null===s||0===s.length)return!1;for(const i of s)if(i.BW()===t)return i;return null}$W(){return this.ZNt}Fwt(){for(const t of this.$W())t.BW().LB().ipt(t)}Lvt(){for(const t of this.$W())t.BW().LB().Zdt(t)}Ovt(t){for(const s of this.$W())s.BW().LB().tpt()[t]=s}Pvt(){for(const t of this.$W())t.BW().LB().Kdt(t)}Rvt(t){for(const s of this.$W())s.BW().LB().spt()[t]=s}TB(){return this.BNt.TB()}TNt(t){this.VNt=t}iV(){return this.BNt.m5(),this.VNt}tV(){return this.YNt}RLt(t){this.YNt=t}PLt(){return this.QNt}kLt(t){t?this.cV(new Set(t)):this.JNt=null}cV(t){if(0===t.size)this.JNt=null;else{this.JNt?this.JNt.clear():this.JNt=new Set;for(const s of t)this.JNt.add(s)}}uV(){return this.JNt??new Set}eGt(){return Array.from(this.uV()).join(" ")}hGt(t){t=Math.floor(t);for(const s of this.uV()){if(0===t)return s;--t}return""}Knt(){return this.qNt}FLt(t){if(!t)return null;for(const s of this.qNt)if(s.kQ()instanceof t)return s;return null}jLt(t){if(!t)return null;const s=this.FLt(t);return s?s.EQ():null}Znt(t){const s=this.qNt;for(let i=0,e=s.length;i<e;++i)if(s[i].zQ().W0()===t)return i;return-1}zLt(){return this.HNt}nNt(){return this.BNt.nNt()}BLt(){return this.HNt.length}Aht(t){t|=0;const s=this.HNt;if(t<0||t>=s.length)throw new RangeError("invalid instance variable");return s[t]}$Tt(t){return this.HNt[t]}ULt(t){const s=this.HNt[t];return 0===this.BNt.Sit(t)?!!s:s}Eht(t,s){t|=0;const i=this.HNt;if(t<0||t>=i.length)throw new RangeError("invalid instance variable");switch(this.BNt.Sit(t)){case 0:i[t]=s?1:0;break;case 1:i[t]="number"==typeof s?s:parseFloat(s);break;case 2:i[t]="string"==typeof s?s:s.toString();break;default:throw new Error("unknown instance variable type")}}Sot(t,s){if(0===s)return;t|=0;const i=this.HNt;if(t<0||t>=i.length)throw new RangeError("invalid instance variable");const e=i[t];if("number"!=typeof e)throw"boolean"==typeof e?new Error("can not set offset of boolean variable"):"string"==typeof e?new Error("can not set offset of string variable"):new Error("unknown instance variable type");i[t]+="number"==typeof s?s:parseFloat(s)}Gvt(){let t=uM.get(this);return t||(t=new Map,uM.set(this,t),t)}Cvt(){let t=lM.get(this);return t||(t=new Map,lM.set(this,t),t)}WLt(t){const s=this.BW();if(s.Rk().bf(t))return!0;for(const i of s.JB())if(i.Rk().bf(t))return!0;return!!this.kc.Rk().bf(t)}UB(t=void 0){const s=t??new Set;if(s.has(this))return;s.add(this);const i=this.lj();if(i&&i.v3())for(const t of this.UY())if(s.add(t),t.KW())for(const i of t.$W())s.add(i);if(this.KW())for(const t of this.$W())t.UB(s);if(!t){for(const t of s.values())t.h5();this.o5()}}VLt(){this.BNt.FNt()&&this.hj();for(const t of this.qNt)t.GAt()}YLt(){this.VLt()}h5(){if(this.VLt(),this.WLt("instancecreate")){const t=this.BW(),s=new nM.Event("instancecreate");s.BQ=this.hj(),t.HZ(s);for(const i of t.JB())i.HZ(s);this.kc.HZ(s)}this.kc.vV(this.TB().xyt().Aj.uGt,this,null)}o5(){if(this.TB().oB()){if(this.HZ(new nM.Event("hierarchyready")),this.WLt("hierarchyready")){const t=this.BW(),s=new nM.Event("hierarchyready");s.BQ=this.hj(),t.HZ(s);for(const i of t.JB())i.HZ(s);this.kc.HZ(s)}this.kc.vV(this.TB().xyt().Aj.IIt,this,null)}}QLt(){this.kc.vV(this.TB().xyt().Aj.lGt,this,null)}JLt(t){if(this.WNt){const s=new nM.Event("destroy");s.HLt=t,this.HZ(s)}if(!this.WLt("instancedestroy"))return;const s=this.BW(),i=new nM.Event("instancedestroy");i.BQ=this.hj(),i.HLt=t,s.HZ(i);for(const t of s.JB())t.HZ(i);this.kc.HZ(i)}qLt(){return this.UNt?this.UNt.__t():this.WNt.FV()}ev(t="full",s=null){const i={};"full"===t?i.uid=this.tV():i.c3=!0;const e=this.uV();if(e.size>0&&(i.tags=Array.from(e)),"visual-state"!==t){const s=uM.get(this);if(s&&s.size&&(i.ex=nM.wo(s)),-1!==this.wF()&&(i.mts=this.wF()),this.BNt.WDt()>0){const t={},s=this.BNt.iNt();for(let i=0,e=this.HNt.length;i<e;++i)t[s[i].toString()]=this.HNt[i];i.ivs=t}if(this.qNt.length){const s={};for(const i of this.qNt){const e=i.ev(t);e&&(s[i.zQ().W0().toString()]=e)}i.behs=s}}this.Qst&&(i.w=this.Qst.M3(t,s));const n=this.UNt?this.UNt.ev():this.WNt.jV();return n&&(i.data=n),i}A6(t="full",s=null){this.Qst&&this.Qst.A6(t)}D6(t,s="full",i=null){this.Qst&&this.Qst.D6(t,s,i)}XLt(t,s="full",i=null){this.Qst&&this.Qst.XLt(t,s,i)}kNt(){this.TB().Zz()&&this.Qst.kNt()}nv(t,s="full",i=null){if("full"===s)this.YNt=t.uid;else if(!t.c3)return;if(this.kLt(t.tags),"visual-state"!==s){let s=uM.get(this);s&&(s.clear(),uM.delete(this));const i=t.ex;i&&(s=nM.Mo(i),uM.set(this,s)),this.KNt=t.hasOwnProperty("mts")?t.mts:-1;const e=t.ivs;if(e)for(const[t,s]of Object.entries(e)){const i=parseInt(t,10),e=this.BNt.eNt(i);if(e<0||e>=this.HNt.length)continue;let n=s;null===n&&(n=NaN),this.HNt[e]=n}}if(this.TB().Zz()){const e=t.w;if(e){const t=e.l;if(this.Qst.cj().W0()!==t){const i=this.Qst.cj(),e=i.QF().S4(t);e?(this.Qst.mj(e),i.G0(this,!0),e.v0(this,!0),e.gj(this),this.Qst.KV()):"full"===s&&this.kc.JW(this)}this.Qst.S3(e,s,i)}}if("visual-state"!==s){const i=t.behs;if(i)for(const[t,e]of Object.entries(i)){const i=parseInt(t,10),n=this.Znt(i);n<0||n>=this.qNt.length||this.qNt[n].nv(e,s)}}const e=t.data;e&&(this.UNt?this.UNt.nv(e,s):this.WNt.zV(e))}ZLt(t){if(this.Qst.cj().W0()===t)return;const s=this.Qst.cj(),i=s.QF().S4(t);i&&(this.Qst.mj(i),s.G0(this,!0),i.v0(this,!0),i.gj(this),this.Qst.KV())}hj(){return this.WNt||this.oLt()}N_t(){return!!this.WNt}oLt(t,s){const i=this.Qst?t?self.IH:self.IQ:t?self.mV:self.zW,e=t||this.UNt.zCt(),n=this.BNt.FNt(),r=n||e||i,h=this.TB().Svt();if(nM.Vz.WCt(this,h),nM.Vz.VAt(s),this.WNt=new r,nM.Vz.YAt(),nM.Vz.VCt(h),e&&!(this.WNt instanceof i))throw new TypeError(`script interface class '${e.name}' does not extend the right base class '${i.name}'`);if(n){const t=e||i;if(!(this.WNt instanceof t))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class - check it extends the right class, e.g. globalThis.InstanceType.MyObjectName`)}return this.WNt}UW(t){if(0===this.HNt.length)return;const s={},i=this.BNt.rNt();for(let t=0,e=i.length;t<e;++t)s[i[t]]={configurable:!1,enumerable:!0,get:nM.Instance.prototype.ULt.bind(this,t),set:nM.Instance.prototype.Eht.bind(this,t)};const e=Object.create(Object.prototype,s);t.KLt={value:e,writable:!1}}WW(t){const s=this.qNt;if(0===s.length)return;const i={};for(const t of s)i[t.zQ().ugt()]={value:t.l_t(),writable:!1};const e=Object.create(Object.prototype,i);t.xwt={value:e,writable:!1}}HZ(t){if(!this.N_t())return;const s=this.hj();t.BQ=s;const i=this.kc,e=i.DV()&&!i.jk().WB();e&&rM.z5(),s.dispatchEvent(t),e&&rM.B5()}}}{const cM=self.Gs,fM=new Map;cM.C5=class extends cM.Un{constructor(t){super(),this.cv=t,this.Vwt=null,this.$Lt=[],this.tOt=t.Bg(),this.sOt=t.Zg(),this.iOt=1,this.eOt=1,this.nOt=0,this.rOt=1,this.hOt=t.$N(),this.oOt=null,this.aOt=null,this.uOt=NaN,this.lOt=!1,this.G3=NaN,this.C3=NaN,this.cOt=s=>{if(s.BQ!==this.Vwt.iH())return;t.Fj().yf().removeEventListener("instancecreate",this.cOt);const i=this.Vwt.iH().EQ();this.lOt=!!i.Rit(),this.G3=this.lOt?i.Oit():NaN,this.C3=this.lOt?i.kit():NaN}}Yn(){this.Vwt=null,this.oOt=null,this.aOt=null,this.uOt=NaN,this.lOt=!1,this.G3=NaN,this.C3=NaN,cM.Mh(this.$Lt)}fOt(t){if(this.rOt=this.cv.$N(),this.hOt=this.rOt,this.Vwt=t,this.nOt=t?t.lU():0,this.Vwt){const t=this.cv.Fj();if(this.Vwt.iH().TB().Svt()<2){const s=this.Vwt.iH().EQ();s?(this.lOt=!!s.Rit(),this.G3=this.lOt?s.Oit():NaN,this.C3=this.lOt?s.kit():NaN):this.Vwt.iH().YH()||t.yf().addEventListener("instancecreate",this.cOt)}else this.lOt=!1,this.G3=NaN,this.C3=NaN}else this.lOt=!1,this.G3=NaN,this.C3=NaN}OY(){return this.Vwt}v3(){return this.$Lt.length>0}I5(){return this.$Lt}dOt(){this.v3()&&1!==this.$Lt.length&&(this.aOt?this.$Lt.sort(((t,s)=>{const i=this.aOt.get(t.iH()),e=this.aOt.get(s.iH());return cM.$i(i)&&cM.$i(e)?i-e:0})):this.$Lt.sort(((t,s)=>{const i=t.urt().pOt(),e=s.urt().pOt();return cM.$i(i)&&cM.$i(e)?i-e:0})))}pOt(){return this.uOt}mOt(){return this.iOt}gOt(t){this.iOt=t}yOt(){return this.eOt}wOt(t){this.eOt=t}qht(){return this.hOt}sIt(){return this.rOt}MOt(t){this.rOt=t}art(){return 0===this.tOt?Number.EPSILON:this.tOt}drt(){return 0===this.sOt?Number.EPSILON:this.sOt}SOt(){if(this.cv.tQ()){const t=this.Vwt;let s=t.Bg(),i=t.urt().art();return 0===s&&(s=Number.EPSILON),i===Number.EPSILON&&s===Number.EPSILON?1:i===Number.EPSILON&&s!==Number.EPSILON&&this.lOt?1+s/this.G3:s/i}return 1}TOt(){if(this.cv.iQ()){const t=this.Vwt;let s=t.Zg(),i=t.urt().drt();return 0===s&&(s=Number.EPSILON),i===Number.EPSILON&&s===Number.EPSILON?1:i===Number.EPSILON&&s!==Number.EPSILON&&this.lOt?1+s/this.C3:s/i}return 1}bOt(){return 0}vOt(){return{sw:this.tOt,sh:this.sOt,sx:this.iOt,sy:this.eOt,psa:this.nOt,oo:this.rOt,so:this.hOt,pi:this.cv.iH().CLt()}}M3(t,s=null){const i=this.vOt();return s&&s.selfOnly?Object.assign(i,{p:null,c:[]}):Object.assign(i,{p:this.xOt(t),c:this.IOt(t)})}GOt(t){let s="";return t.XY()&&(s+="x"),t.KY()&&(s+="y"),t.tQ()&&(s+="w"),t.iQ()&&(s+="h"),t.nQ()&&(s+="a"),t.hQ()&&(s+="z"),t.fQ()&&(s+="d"),t.aQ()&&(s+="o"),t.lQ()&&(s+="v"),s}xOt(t){return this.Vwt?!this.Vwt.iH()||this.Vwt.iH().YH()?null:this.COt(this.Vwt,this.cv,t):null}IOt(t){return this.$Lt.map((s=>this.COt(s,s,t))).filter((t=>t))}COt(t,s,i){const e=t.iH();if(e&&e.YH())return null;const n={};return n.uid=e.tV(),n.f=this.GOt(s),n.offsets=s._Ot(),n.data=cM.C5.AOt(e),n.oci=e.BW().$P(),"state"===i?(n.inst=e.ev("full",{selfOnly:!0}),n.instIndex=NaN):(n.instIndex=e.BW().NB().indexOf(e),n.inst=null),n}S3(t){this.tOt=t.sw,this.sOt=t.sh,this.iOt=t.sx,this.eOt=t.sy,this.nOt=t.psa,this.rOt=t.oo,this.hOt=t.so,this.uOt=cM.$i(t.pi)?t.pi:NaN}EOt(t,s,i,e){if(!t&&!s)if(e?.MGt){if(this.oOt)for(const t of this.oOt)t.YH()||t.JY()||t.Fj().JW(t)}else if(this.oOt)for(const t of this.oOt)if(i.c&&i.c.length){if(!i.c.some((s=>s.uid===t.tV())))continue;t.YH()||t.JY()||t.Fj().JW(t)}this.oOt=t,this.aOt=s}DOt(t){const s=this.cv.Fj();return fM.has(t)?fM.get(t):s.rj(t)}D6(t,s){const i=this.cv,e=i.Fj(),n=s?.NOt??new Set;if(t.p&&!this.Vwt){const r=t.p.uid,h=this.DOt(r);if(h){const r=h.lj();h.xLt(i.iH())?this.Vwt=r:(h.ALt(i.iH().tV())?(e.JW(i.iH()),e.LOt(i.iH().tV()),fM.delete(i.iH().tV())):h.VY(i.iH(),this.OOt(t.p.f)),n.has(i)||(i.ROt(t.p.offsets),this.POt(h,t.p,s),this.kOt(h,h.tV(),i.Fj(),s)),n.add(i),h.lj().urt().dOt())}else if(cM.$i(t.p.oci)){const n=e.jB(e.f0(t.p.oci),i.cj(),0,0,!0);if(n){const r=this.FOt(t.p,e);r&&n.nv(r);const h=n.lj(),o=!!s?.MGt;h.cj().zB(n,!1,o),n.VY(i.iH(),this.OOt(t.p.f)),fM.set(n.tV(),n),this.kOt(n,n.tV(),e,s),n.lj().urt().dOt()}}}const r=[];for(const s of t.c){const t=s.uid,i=this.DOt(t);i&&r.push(i)}let h=0;for(const o of t.c){const a=o.uid,u=this.DOt(a);if(u){if(this.oOt){if(this.oOt.includes(u)){const e=u;if(e.BW()!==u.BW()){h++;continue}if(e.YH()){h++;continue}const o=t.c[h];if(!s?.MGt&&this.jOt(e,r,i)){if(i.iH().BY(h)){const r=e.BW().$P(),a=o.oci,u=i.iH().BY(h).BW().$P();if(r!==a||a!==u){this.zOt(t.c,i,n,s);break}this.BOt(h,o,i,n,s)}else this.BOt(h,o,i,n,s);h++;continue}if(e.JY()&&e.OY()!==i.iH()){const t=this.UOt(o,s);this.WOt(t,o,n,s),h++;continue}this.WOt(e.lj(),o,n,s,!0),h++;continue}if(this.oOt[h]){const e=this.oOt[h];if(e.BW()!==u.BW()){h++;continue}if(e.YH()){h++;continue}const o=t.c[h];if(!s?.MGt&&this.jOt(e,r,i)){if(i.iH().BY(h)){const r=e.BW().$P(),a=o.oci,u=i.iH().BY(h).BW().$P();if(r!==a||a!==u){this.zOt(t.c,i,n,s);break}this.BOt(h,o,i,n,s)}else this.BOt(h,o,i,n,s);h++;continue}if(e.JY()&&e.OY()!==i.iH()){const t=this.UOt(o,s);this.WOt(t,o,n,s),h++;continue}this.WOt(e.lj(),o,n,s,!0),h++;continue}}const e=u.BW();if(this.VOt(r,e)===i.iH().ILt(e).length){for(const t of i.iH().I5()){if(t.BW()!==e)continue;const i=t.lj();if(i&&!n.has(i)){n.add(i),i.ROt(o.offsets),this.POt(t,o,s);break}}h++;continue}if(u.JY()&&u.OY()!==i.iH()){const t=this.UOt(o,s);this.WOt(t,o,n,s),h++;continue}this.WOt(u.lj(),o,n,s)}else if(this.oOt&&this.oOt[h]){const a=this.oOt[h],u=e.f0(this.YOt(o));if(a.BW()!==u){h++;continue}if(a.YH()){h++;continue}const l=t.c[h];if(!s?.MGt&&this.jOt(a,r,i)){if(i.iH().BY(h)){const e=a.BW().$P(),r=l.oci,o=i.iH().BY(h).BW().$P();if(e!==r||r!==o){this.zOt(t.c,i,n,s);break}this.BOt(h,l,i,n,s)}else this.BOt(h,l,i,n,s);h++;continue}if(a.JY()&&a.OY()!==i.iH()){const t=this.UOt(l,s);this.WOt(t,l,n,s),h++;continue}this.WOt(a.lj(),l,n,s)}else{const t=this.UOt(o,s);this.WOt(t,o,n,s)}h++}}zOt(t,s,i,e){const n=s.Fj();for(const t of s.iH().children())t&&!t.YH()&&(n.JW(t),n.LOt(t.tV()),fM.delete(t.tV()));this.oOt&&(this.oOt=[]),this.aOt&&(this.aOt=new WeakMap),Object.assign({},e,{assignZIndex:!1});for(const s of t){const t=this.UOt(s,e);this.WOt(t,s,i,e),this.oOt.push(t.iH()),this.aOt.set(t.iH(),this.oOt.length-1)}s.urt().dOt()}jOt(t,s,i){const e=t.BW();return this.VOt(s,e)===i.iH().ILt(e).length}BOt(t,s,i,e,n){const r=i.iH().BY(t);if(!r)return;const h=r.lj();h&&(e.has(h)||(h.ROt(s.offsets),this.POt(r,s,n)),e.add(h))}OOt(t){const s={};return s.qY=t.includes("x"),s.ZY=t.includes("y"),s.$Y=t.includes("w"),s.sQ=t.includes("h"),s.eQ=t.includes("a"),s.rQ=t.includes("z"),s.cQ=t.includes("d"),s.oQ=t.includes("o"),s.uQ=t.includes("v"),s}YOt(t){return cM.$i(t.oci)?t.oci:t[1]}UOt(t,s){if(!cM.$i(t.oci))return;const i=this.cv,e=i.Fj();let n;const r=!s.hasOwnProperty("createHierarchy")||s.createHierarchy;if(n=t.data?e.T0(t.data,i.cj(),!1,0,0,!1,r):e.jB(e.f0(t.oci),i.cj(),0,0,r),!n)return;const h=this.FOt(t,e);h&&n.nv(h);const o=n.lj(),a=!!s?.MGt;return o.cj().zB(n,!0,a),o}kOt(t,s,i,e){if(this.DOt(s)&&!e?.MGt){const e=this.DOt(s);e!==t&&i.JW(e)}i.LOt(s),i.XDt(s,t)}WOt(t,s,i,e,n=!0){const r=this.cv,h=r.VY(t,this.OOt(s.f));h&&n?(i.has(t)||(t.ROt(s.offsets),this.POt(t.iH(),s,e)),i.add(t)):h&&(fM.set(t.iH().tV(),t.iH()),this.kOt(t.iH(),s.uid,r.Fj(),e)),this.dOt()}POt(t,s,i){let e=this.FOt(s,this.cv.Fj());if(!e)return;const n=!i.hasOwnProperty("clearChildren")||i.clearChildren,r=!i.hasOwnProperty("assignZIndex")||i.assignZIndex,h=t.Fj();if(fM.set(t.tV(),t),e=JSON.parse(JSON.stringify(e)),n&&t.tV()!==e.uid){for(const s of t.children())s&&!s.YH()&&(h.JW(s),h.LOt(s.tV()),fM.delete(s.tV()));if(e.w?.sgi&&e.w.sgi.c?.length)for(const s of e.w.sgi.c){const e=Object.assign({},i,{clearChildren:!1,createHierarchy:!1}),n=this.UOt(s,e);fM.set(n.iH().tV(),n.iH()),t.VY(n.iH(),this.OOt(s.f)),n.ROt(s.offsets),this.POt(n.iH(),s,e)}}const o=e.w?.zi,a=e.w?.l;e.w=null,t.nv(e),i?.MGt||(cM.$i(o)&&r&&t.lj().D0(o),cM.$i(a)&&t.ZLt(a)),this.kOt(t,e.uid,h,i)}VOt(t,s){return t.filter((t=>t.BW()._c()===s._c())).length}FOt(t,s){if(cM.$i(t.instIndex)){const i=s.f0(t.oci).RNt();return i?i[t.instIndex]:null}return cM.ae(t.inst)?JSON.parse(t.inst):t.inst?t.inst:void 0}static AOt(t){let s=t.lj().cj().y0(t.tV());if(!s)return null;s=JSON.parse(JSON.stringify(s));const i=[];for(const s of[...t.I5()]){const t=s.lj();i.push([t.QF().W0(),t.cj().$P(),s.tV(),cM.C5.G5(t),s.BW().KW()?1:0,t.fj(),cM.C5.AOt(s)])}return cM.ve(s[0][14])?s[0][14][1]=i:(s[0][14]=[],s[0][14][0]=cM.C5.QOt(),s[0][14][1]=i,s[0][14][2]=t.lj().fj()),s}static G5(t){let s=0;return s|=Number(t.lQ())<<8,s|=Number(t.aQ())<<7,s|=Number(t.hQ())<<6,s|=Number(t.fQ())<<5,s|=Number(t.nQ())<<4,s|=Number(t.iQ())<<3,s|=Number(t.tQ())<<2,s|=Number(t.KY())<<1,s|=0|Number(t.XY()),s}static QOt(t){let s=0;return s|=256,s|=128,s|=64,s|=32,s|=16,s|=8,s|=4,s|=2,s|=1,511}static JOt(){fM.clear()}}}{const dM=self.Gs,pM=self.hs,mM=(pM.ys,pM.ws,dM.Vn(dM.Rect)),gM=dM.Vn(dM.Cu),yM=dM.Vn(dM.Event,"bboxchange",!1),wM=dM.Vn(dM.vo,0,0,0,0),MM=dM.Vn(dM.ol),SM=dM.Vn(dM.vo,1,1,1,1),TM=dM.Vn(dM.Rect,0,0,-1,-1),bM=dM.Vn(dM.Rect,0,0,-1,-1),vM=new Set(["absolute","relative"]),xM=[];let IM=!0;const GM=new WeakMap,CM=new WeakMap;dM.$Nt=class extends dM.Un{constructor(t,s){super(),this.fi=t,this.Odt=t.BW(),this.kc=t.Fj(),this.HOt=s,this.Odt._Nt(this,null,s),this.qOt=-1,this.XOt=-1,this.Bvt=196635,this.Odt.TB().sB()&&(this.Bvt|=128),this._a=NaN,this.Aa=NaN,this.Eb=NaN,this.ZOt=NaN,this.KOt=NaN,this.Yx=NaN,this.Co=NaN,this.$Ot=NaN,this.tRt=NaN,this.sRt=NaN,this.iRt=NaN,this.eRt=dM.Vn(dM.Rect),this.nRt=dM.Vn(dM.Cu),this.rRt=bM,this.hRt=TM,this.oRt=null,this.aRt=null,this.uRt=null,this.Ab=SM,this.lRt=SM,this.cRt=null,this.fRt=null,this.fi.BW().oNt()&&(this.fRt=dM.Vn(dM.dRt,this.fi,this)),this.pRt=null,this.oOt=null,this.aOt=null,this.mRt=-1,this.gRt=null}fLt(){this.Bvt|=256}Yn(){if(this.Odt._Nt(this,this.HOt,null),this.cRt&&(this.kc.lb()._S(this.cRt),this.cRt=null),this.oRt=null,this.aRt&&(this.aRt.yRt.Yn(),this.aRt=null),this.uRt&&(this.uRt.clear(),this.uRt=null),this.gQ(),this.fRt&&this.fRt.Yn(),this.JY()&&this.OY().YY(this),this.v3()){const t=[...this.I5()];for(const s of t)this.YY(s)}this.wRt(),this.MRt(),GM.delete(this),CM.delete(this),this.fi=null,this.Odt=null,this.kc=null,this.HOt=null}sLt(t){if(IM=!1,this.$V(t[0],t[1]),this.qb(t[2]),this.vE(t[3],t[4]),this.Yx=0,this.sB()?this.uU(t[6]):this.Co=0,wM.ya(t[7]),this.SRt(wM),this.nY(t[8]),this.oY(t[9]),this.Nb(t[10]),this.fRt&&this.fRt.TRt(t[12]),t[14]&&GM.set(this,{bRt:t[14][1],vRt:t[14][2]}),t[15]){const s=t[15];this.pQ(s[0],s[1]);const i=this.TQ(),e=s[2];for(let t=0,s=e.length;t<s;++t){const s=e[t];for(let e=0,n=s.length;e<n;++e){const n=s[e],r=i.Ev(e,t);r.Vb(n[0]),r.Jb(n[1]),r.qb(n[2]),r.Zb(n[3]),r.$b(n[4])}}}if(t[16]){const s=t[16][0],i=t[16][1],e=!!i,n=!e,r=this.kc.DLt();e&&r&&r.jlt(this.iH(),i),n&&r&&r.jlt(this.iH(),s)}IM=!0,this.xRt()}iLt(){this._a=0,this.Aa=0,this.Eb=0,this.ZOt=0,this.KOt=0,this.Yx=0,this.Co=0,this.$Ot=0,this.tRt=1,this.sRt=0,this.iRt=0,this.xRt()}Fj(){return this.kc}BW(){return this.Odt}iH(){return this.fi}IRt(){return this.nQ()?this.GRt(this.OY().CRt()-this.pRt.bOt()):0}Vb(t){if(t=+t,this.XY()){const s=this.pRt,i=t-this.Wb(),e=-this.IRt();0===e?this._a+=i/s.SOt():(this._a+=Math.cos(e)*i/s.SOt(),this.KY()&&(this.Aa+=Math.sin(e)*i/s.TOt()))}else this._a=t}Rht(t,s=!1){t=+t,s?this._a+=t:this.XY()?this.Vb(this.Wb()+t):this._a+=t}Wb(){if(this.XY()){let t=this._a;const s=this.pRt,i=this.OY(),e=this.IRt();return 0===e?t*=s.SOt():(t=t*s.SOt()*Math.cos(e),this.KY()&&(t-=this.Aa*s.TOt()*Math.sin(e))),i.Wb()+t}return this._a}Jb(t){if(t=+t,this.KY()){const s=this.pRt,i=t-this.Qb(),e=-this.IRt();0===e?this.Aa+=i/s.TOt():(this.XY()&&(this._a-=Math.sin(e)*i/s.SOt()),this.Aa+=Math.cos(e)*i/s.TOt())}else this.Aa=t}Pht(t,s=!1){t=+t,s?this.Aa+=t:this.KY()?this.Jb(this.Qb()+t):this.Aa+=t}Qb(){if(this.KY()){let t=this.Aa;const s=this.pRt,i=this.OY(),e=this.IRt();return 0===e?t*=s.TOt():(t=t*s.TOt()*Math.cos(e),this.XY()&&(t+=this._a*s.SOt()*Math.sin(e))),i.Qb()+t}return this.Aa}$V(t,s){if(t=+t,s=+s,this._Rt()){const i=this.XY(),e=this.KY(),n=this.pRt,r=t-this.Wb(),h=s-this.Qb(),o=-this.IRt();if(0===o)i?this._a+=r/n.SOt():this._a=t,e?this.Aa+=h/n.TOt():this.Aa=s;else{const a=Math.sin(o),u=Math.cos(o);i?this._a+=e?(u*r-a*h)/n.SOt():u*r/n.SOt():this._a=t,e?this.Aa+=i?(a*r+u*h)/n.TOt():u*h/n.TOt():this.Aa=s}}else this._a=t,this.Aa=s}ARt(){return[this.Wb(),this.Qb()]}sY(t,s){t=+t,s=+s,this._Rt()?this.$V(this.Wb()+t,this.Qb()+s):(this._a+=t,this.Aa+=s)}Dxt(t,s){return this.Wb()===t&&this.Qb()===s}qb(t){if(t=+t,this.hQ()&&(t-=this.OY().Hb()),this.Eb===t)return;this.Eb=t,this.ERt();const s=this.cj();0!==this.Eb&&s.A0(),s.gj(this)}ERt(){if(this.xRt(),this.v3()){const t=this.I5();for(let s=0,i=t.length;s<i;s++){const i=t[s];i.hQ()&&i.ERt()}}}Kht(t){this.qb(this.Hb()+t)}Hb(){return this.hQ()?this.OY().Hb()+this.Eb:this.Eb}cY(){return this.cj().Hb()+this.Hb()}Rit(){return this.iH().TB().Svt()<2&&this.iH().EQ().Rit()}Hg(t){if(t=+t,this.tQ()){const s=this.Bg();0===s?this.ZOt=Number.EPSILON:this.ZOt*=t/s}else this.ZOt=t;this.DRt()}xy(t,s){t=+t,s?this.ZOt+=t:this.tQ()?this.Hg(this.Bg()+t):this.ZOt+=t,this.DRt()}Bg(){if(this.tQ()){const t=this.OY(),s=t.Bg();return t.urt().art()===Number.EPSILON?(this.urt().art()+s)*this.ZOt:s*this.ZOt}return this.ZOt}Ug(t){if(t=+t,this.iQ()){const s=this.Zg();0===s?this.KOt=Number.EPSILON:this.KOt*=t/s}else this.KOt=t;this.DRt()}Uht(t,s){t=+t,s?this.KOt+=t:this.iQ()?this.Ug(this.Zg()+t):this.KOt+=t,this.DRt()}Zg(){if(this.iQ()){const t=this.OY(),s=t.Zg();return t.urt().drt()===Number.EPSILON?(this.urt().drt()+s)*this.KOt:s*this.KOt}return this.KOt}vE(t,s){if(t=+t,s=+s,this.tQ()){const s=this.Bg();0===s?this.ZOt=Number.EPSILON:this.ZOt*=t/s}else this.ZOt=t;if(this.iQ()){const t=this.Zg();0===t?this.KOt=Number.EPSILON:this.KOt*=s/t}else this.KOt=s;this.DRt()}Nl(){return[this.Bg(),this.Zg()]}X2(){return this.Yx}NRt(t){if(t<0)throw new RangeError("invalid depth");this.Yx=t}LRt(){if(this.JY()){const t=this.pRt;return Math.min(t.SOt(),t.TOt())}return 1}sB(){return!!(128&this.Bvt)}uU(t){t=+t,this.sB()&&(this.nQ()&&(t-=this.OY().lU()),t=dM.Zn(t),this.Co!==t&&(this.Co=t,this.DRt()))}Wht(t){0!==(t=+t)&&this.sB()&&(this.Co=dM.Zn(this.Co+t),this.DRt())}DRt(){if(this.Bvt|=262144,this.v3()){const t=this.I5();for(let s=0,i=t.length;s<i;s++)t[s].DRt()}}lU(){return this.nQ()&&this.sB()?this.GRt(dM.Zn(this.OY().CRt()+this.Co)):this.Co}CRt(){return this.nQ()&&this.sB()?dM.Zn(this.OY().CRt()+this.Co):this.Co}GRt(t){return this.tQ()&&this.PY().Bg()<0&&(t=dM.Zn(dM.dr(t,this.PY().lU()+Math.PI))),this.iQ()&&this.PY().Zg()<0&&(t=dM.dr(t,this.PY().lU())),t}ORt(){const t=this.OY();return!!(this.tQ()&&t.Bg()<0)||!!(this.iQ()&&t.Zg()<0)}RRt(){const t=this.OY();return!!(this.tQ()&&t.Bg()<0&&this.iQ()&&t.Zg()<0)}PRt(){const t=this.Bvt;if(!(262144&t))return;const s=this.lU();this.$Ot=Math.sin(s),this.tRt=Math.cos(s),this.Bvt=-262145&t}Pxt(){return this.PRt(),this.$Ot}Rxt(){return this.PRt(),this.tRt}nY(t){this.sRt=+t}Xht(t){this.sRt+=+t}eY(){return this.sRt}oY(t){this.iRt=+t}Zht(t){this.iRt+=+t}hY(){return this.iRt}SRt(t){this.Ab.equals(t)||(this.Ab===SM?(this.Ab=dM.Vn(dM.vo,t),this.lRt=dM.Vn(dM.vo,t),this.lRt.Xo()):t.Qo(1,1,1,1)?(this.Ab=SM,this.lRt=SM):(this.Ab.set(t),this.lRt.set(t),this.lRt.Xo()),this.xRt())}sL(t){if(t=dM.Xn(+t,0,1),this.aQ()){if(this.urt().sIt()===t)return;this.urt().MOt(t),t=this.$N()}else if(this.Ab.a===t)return;this.kRt(t)}FRt(){if(!this.v3())return;const t=this.I5();for(let s=0,i=t.length;s<i;s++){const i=t[s];i.kRt(i.$N())}}kRt(t){wM.Po(this.Ab),wM.a=t,this.SRt(wM),this.FRt()}Qht(t){this.aQ()?this.sL(this.urt().sIt()+t):this.sL(this.$N()+t)}$N(){return this.aQ()?this.OY().$N()*this.urt().sIt():this.Ab.a}TY(t){this.Ab.Vo(t)||(wM.Po(t),wM.a=this.$N(),this.SRt(wM))}Cht(t,s,i){wM.Ao(t,s,i),this.TY(wM)}jRt(t,s,i){0===t&&0===s&&0===i||(wM.Po(this.Ab),wM.r+=t,wM.g+=s,wM.b+=i,this.TY(wM))}SY(){return this.Ab}X$(){return this.lRt}fQ(){return!!(512&this.Bvt)}zRt(t){this.BRt(512,t)}XY(){return!!(1024&this.Bvt)}URt(t){this.BRt(1024,t)}KY(){return!!(2048&this.Bvt)}_Rt(){return!!(3072&this.Bvt)}WRt(t){this.BRt(2048,t)}tQ(){return!!(4096&this.Bvt)}VRt(t){this.BRt(4096,t)}iQ(){return!!(8192&this.Bvt)}YRt(t){this.BRt(8192,t)}nQ(){return!!(16384&this.Bvt)}QRt(t){this.BRt(16384,t)}hQ(){return!!(32768&this.Bvt)}JRt(t){this.BRt(32768,t)}aQ(){return!!(4194304&this.Bvt)}HRt(t){this.BRt(4194304,t)}lQ(){return!!(8388608&this.Bvt)}qRt(t){this.BRt(8388608,t)}XRt(){this.Bvt&=-12647937}VY(t,s){if(t===this)return!1;if(t.JY())return!1;if(this.ZRt(t))return!1;if(this.KRt(t))return!1;const i=t.Wb(),e=t.Qb(),n=t.Bg(),r=t.Zg(),h=t.lU(),o=t.Hb(),a=t.$N();t.$Rt(this),t.URt(s.qY),t.WRt(s.ZY),t.VRt(s.$Y),t.YRt(s.sQ),t.QRt(s.eQ),t.JRt(s.rQ),t.HRt(s.oQ),t.qRt(s.uQ),t.zRt(s.cQ);const u=i-this.Wb(),l=e-this.Qb(),c=-this.lU(),f=Math.cos(c),d=Math.sin(c);if(s.qY&&(s.eQ?t._a=u*f-l*d:t._a=u,s.$Y)){const s=this.Bg()/this.pRt.art();0!==s&&(t._a/=s)}if(s.ZY&&(s.eQ?t.Aa=u*d+l*f:t.Aa=l,s.sQ)){const s=this.Zg()/this.pRt.drt();0!==s&&(t.Aa/=s)}if(s.$Y){const s=this.Bg();0===s||s===Number.EPSILON?(t.ZOt=1,t.pRt.gOt(1)):(t.ZOt=n/this.Bg(),t.pRt.gOt(t.ZOt))}if(s.sQ){const s=this.Zg();0===s||s===Number.EPSILON?(t.KOt=1,t.pRt.wOt(1)):(t.KOt=r/this.Zg(),t.pRt.wOt(t.KOt))}return s.eQ&&(t.Co=h-this.lU()),s.rQ&&(t.Eb=o-this.Hb()),s.oQ&&t.pRt.MOt(a),s.uQ&&t.QU(this.HU()),this.tPt(t),this.KV(),this.FRt(),!0}YY(t){if(t.OY()!==this)return;const s=t.Wb(),i=t.Qb(),e=t.Bg(),n=t.Zg(),r=t.lU(),h=t.Hb(),o=t.$N();t.$Rt(null),t.XRt(),t.$V(s,i),t.vE(e,n),t.uU(r),t.qb(h),t.sL(o),this.sPt(t),this.KV()}iPt(){return this.mRt}ePt(){this.nPt();const t=[...this.children()];for(const s of t)this.YY(s);const s=this.OY();s&&s.YY(this),this.XRt()}nPt(){if(this.rPt(),!this.oOt){const t=[...this.children()];t.length&&(this.oOt=[],this.aOt=new WeakMap);let s=0;for(const i of t){const t=i.iH();this.oOt.push(t),this.aOt.set(t,s),s++}}const t=this.OY();t&&t.nPt()}rPt(){if(-1!==this.mRt)return;const t=[...this.kY()];this.mRt=t.length;for(const s of t)s.rPt();const s=[...this.children()];for(const t of s)t.rPt()}MRt(){this.oOt&&(this.oOt.length=0),this.oOt=null,this.aOt=null;const t=this.OY();t&&t.MRt(),this.mRt=-1}JY(){return null!==this.OY()}OY(){const t=this.pRt;return null!==t?t.OY():null}PY(){let t=this;for(;t.JY();)t=t.OY();return t}*kY(){let t=this.OY();for(;t;)yield t,t=t.OY()}xLt(t){return this.I5().includes(t)}v3(){const t=this.pRt;return null!==t&&t.v3()}I5(){const t=this.pRt;return null!==t?t.I5():xM}children(){return this.I5()}*UY(){for(const t of this.children())yield t,yield*t.UY()}jY(){return this.I5().length}NIt(){return[...this.UY()].length}BY(t){const s=this.I5();return(t=Math.floor(+t))<0||t>=s.length?null:s[t]}_Lt(t){if(!t)return NaN;const s=this.I5();if(!s)return NaN;for(let i=0;i<s.length;i++)if(t===s[i])return i;return NaN}hPt(t){this.pRt||(this.pRt=dM.Vn(dM.C5,this)),t&&this.pRt.fOt(t)}urt(){return this.pRt}wRt(){this.pRt&&(this.pRt.Yn(),this.pRt=null)}$Rt(t){t?(t.hPt(null),this.hPt(t)):(this.pRt&&this.pRt.fOt(null),this.v3()||this.wRt())}KRt(t){if(!this.JY())return!1;const s=this.OY();return s===t||s.KRt(t)}ZRt(t){if(this.xLt(t))return!0;for(const s of this.I5())if(s.ZRt(t))return!0;return!1}tPt(t){this.pRt.I5().push(t)}sPt(t){const s=this.pRt.I5(),i=s.indexOf(t);-1!==i&&s.splice(i,1),0!==s.length||this.JY()||this.wRt(),t.v3()||t.wRt()}ELt(){const t=GM.get(this);return t?t.bRt:null}oPt(){const t=GM.get(this);return t?t.vRt:NaN}b3(){const t=CM.get(this);return dM.$i(t)?t:NaN}aPt(t){CM.set(this,t)}uPt(){this.BRt(524288,!0),this.xRt()}xRt(){if(!IM)return;const t=this.kc.lb();let s;this.cRt&&t._S(this.cRt),s=524288&this.Bvt?t.lS()||"<point>":t.oS()||"<default>",this.cRt=t.xS(s,this.xW(),this.lRt,this.Hb())}n3(){return this.cRt}J0(){return this.Ab===SM}Nb(t){if((t|=0)<0||t>31)throw new RangeError("invalid blend mode");this.xW()!==t&&(this.Bvt=-2080374785&this.Bvt|t<<26,this.xRt())}xW(){return(2080374784&this.Bvt)>>26}mj(t,s){const i=s&&this.HOt!==t;i&&this.C0(),this.Odt._Nt(this,this.HOt,t),this.HOt=t,i&&this.lPt(),0!==this.Hb()&&this.HOt.A0()}cj(){return this.HOt}QF(){return this.cj().QF()}D0(t){this.qOt=0|t}fj(){return this.HOt.V1(),this.qOt}H1(t){this.XOt=0|t}jH(){return this.HOt.Q1(),this.XOt}AK(){return this.qOt}BRt(t,s){s?this.Bvt|=t:this.Bvt&=~t}HU(){return!!(1&this.Bvt)}QU(t){if(this.BRt(1,t),this.v3())for(const s of this.I5())s.lQ()&&s.QU(t)}DY(){return!!(8&this.Bvt)}NY(t){t=!!t,this.DY()!==t&&(this.BRt(8,t),t?this.KV():this.cPt())}fPt(t,s){if(this.BRt(32,t),this.uRt&&this.uRt.clear(),s.trim()){this.uRt||(this.uRt=new Set);for(const t of s.split(" "))t&&this.uRt.add(t.toLowerCase())}else this.uRt=null}dPt(t){const s=!!(32&this.Bvt),i=this.uRt;if(!t||!i)return!s;for(const e of i)if(t.has(e))return s;return!s}KV(){if(this.Bvt|=65554,this.Odt.INt(!0),this.kc.yj(),this.HOt.a0()&&(this.dY(this.eRt,this.nRt,!0),this.Bvt&=-3,this.lPt()),4&this.Bvt&&this.fi.yf().dispatchEvent(yM),null!==this.pRt){const t=this.pRt.I5();for(let s=0,i=t.length;s<i;++s)t[s].KV()}}dY(t,s,i){const e=this.Wb(),n=this.Qb(),r=this.Bg(),h=this.Zg(),o=this.lU();t.Wa(e-this.sRt*r,n-this.iRt*h,r,h),i&&this.SQ()&&this.pPt(t),0===o?s.Hu(t):(t.offset(-e,-n),s.Xu(t,this.Pxt(),this.Rxt()),s.offset(e,n),s.Zu(t)),t.normalize()}mPt(){const t=this.Bvt;2&t&&(this.dY(this.eRt,this.nRt,!0),this.Bvt=-3&t)}pY(){return this.mPt(),this.eRt}gY(){return this.mPt(),this.nRt}gPt(t){const s=this.Wb(),i=this.Qb(),e=Math.round(s)-s,n=Math.round(i)-i;return 0===e&&0===n?t:(gM.m(t),gM.offset(e,n),gM)}yPt(t){this.eRt.m(t),this.nRt.Hu(this.eRt),this.Bvt&=-3,this.CNt(),this.lPt()}wPt(t){this.BRt(4,t)}MPt(){return!!(4&this.Bvt)}Y2(t,s,i){return s&&0!==this.X2()?this.H2(this.cj().J2()):0===this.Hb()||i?t.Tu(this.pY()):this.SPt()}SPt(){const t=this.cj(),s=this.cY();return!(s>=t.f1())&&(t.l1(s,mM),mM.Tu(this.pY()))}H2(t){const s=this.pY(),i=s.Za(),e=s.$a(),n=s.Ka(),r=s.tu(),h=this.cY(),o=h+this.X2();return t.Hw(i,n,h,e,r,o)}wY(){const t=this.cj();if(t.C1())return this.H2(t.J2());{const s=t.QF();return this.Y2(t.AW(),s.V2(),s.kU())}}s3(t){this.BRt(1048576,t)}t3(t){this.BRt(2097152,t)}TPt(){return!!(1048576&this.Bvt)}bPt(){return!!(2097152&this.Bvt)}vPt(t){this.oRt=t,this.xPt(),this.SQ()&&(this.gRt.IPt=null)}GPt(){return this.oRt}CPt(){return null!==this.oRt||this.SQ()}_Pt(){return this.APt(this.Bg(),this.Zg(),this.lU(),this.Pxt(),this.Rxt())}EPt(t,s,i){let e=0,n=1;return 0!==i&&(e=Math.sin(i),n=Math.cos(i)),this.APt(t,s,i,e,n)}APt(t,s,i,e,n){let r=this.aRt;null===r&&(r={yRt:dM.Vn(dM.ol),width:NaN,height:NaN,angle:NaN},this.aRt=r);const h=r.yRt;if(r.width===t&&r.height===s&&r.angle===i)return h;const o=this.oRt;if(this.SQ()){const i=this.eY(),r=this.hY(),a=this.TQ();let u=this.gRt.IPt;u||(o?(MM.m(o),MM.offset(i,r)):MM.ml(),u=a.Ov(MM),this.gRt.IPt=u),a.Rv(u,h),h.offset(-i,-r),h.Ml(t,s,e,n)}else o?(h.m(o),h.Ml(t,s,e,n)):h.wl(this.gY(),-this.Wb(),-this.Qb());return r.width=t,r.height=s,r.angle=i,h}xPt(){this.DPt(!0);const t=this.aRt;null!==t&&(t.width=NaN)}pQ(t,s){if(t=Math.floor(t),s=Math.floor(s),!this.iH().TB().uB())throw new Error("object does not support mesh");this.gQ(),this.gRt={NPt:dM.Vn(dM.Pw.av,t,s),LPt:dM.Vn(dM.Pw.av,t,s),IPt:null}}SQ(){return null!==this.gRt}TQ(){if(!this.SQ())throw new Error("no mesh");return this.gRt.NPt}OPt(){if(!this.SQ())throw new Error("no mesh");return this.gRt.LPt}RPt(t){this.BRt(65536,t)}PPt(){return!!(65536&this.Bvt)}DPt(t){this.BRt(131072,t)}kPt(){return!!(131072&this.Bvt)}pPt(t){const s=this.gRt.NPt,i=Math.min(s.xv(),0),e=Math.min(s.Iv(),0),n=Math.max(s.Gv(),1),r=Math.max(s.Cv(),1),h=t.width(),o=t.height();t.offsetLeft(i*h),t.offsetTop(e*o),t.ou((n-1)*h),t.au((r-1)*o),this.Yx=s._v()}gQ(){this.gRt&&(this.gRt.NPt.Yn(),this.gRt.LPt.Yn(),this.gRt=null,this.xPt())}wQ(t,s,i){t=Math.floor(t),s=Math.floor(s);const e=i.mode||"absolute";if(!vM.has(e))throw new Error("invalid mode");const n="relative"===e;let r=i.x,h=i.y;const o=i.mW;let a="number"==typeof i.bQ?i.bQ:n?0:-1,u="number"==typeof i.vQ?i.vQ:n?0:-1;if(!this.SQ())return!1;const l=this.TQ(),c=l.Ev(t,s);if(null===c)return!1;let f=!1;return"number"==typeof o&&c.Hb()!==o&&(c.qb(o),f=!0),n&&(r+=t/(l.Mv()-1),h+=s/(l.Sv()-1)),-1!==a||n?(n&&(a+=t/(l.Mv()-1)),a=dM.Xn(a,0,1)):a=c.Xb(),-1!==u||n?(n&&(u+=s/(l.Sv()-1)),u=dM.Xn(u,0,1)):u=c.Kb(),c.Wb()===r&&c.Qb()===h&&c.Xb()===a&&c.Kb()===u?f:(c.Vb(r),c.Jb(h),c.Zb(a),c.$b(u),this.xPt(),!0)}cLt(){return this.fi.cLt()}LY(t,s){return!!this.pY().vu(t,s)&&!!this.gY().vu(t,s)&&(this.cLt()?this.fi.EQ().H_t(t,s):!this.CPt()||this._Pt().vu(t-this.Wb(),s-this.Qb()))}FPt(){return!!(16&this.Bvt)}CNt(){if(!this.FPt()||!this.DY()||256&this.Bvt)return;const t=this.pY(),s=this.Odt.xNt(),i=this.rRt;if(mM.set(s.JK(t.Za()),s.HK(t.Ka()),s.JK(t.$a()),s.HK(t.tu())),i.equals(mM))return;const e=this.fi;i===bM?(s.qK(e,null,mM),this.rRt=dM.Vn(dM.Rect,mM)):(s.qK(e,i,mM),i.m(mM)),this.Bvt&=-17}jPt(){this.Bvt|=16}cPt(){const t=this.rRt;t!==bM&&(this.Odt.xNt().qK(this.fi,t,null),this.rRt=bM)}lPt(){const t=this.cj();if(!t.a0()||256&this.Bvt)return;const s=t.q0(),i=this.pY(),e=this.hRt;if(mM.set(s.JK(i.Za()),s.HK(i.Ka()),s.JK(i.$a()),s.HK(i.tu())),e.equals(mM))return;const n=this.fi;e===TM?(s.qK(n,null,mM),this.hRt=dM.Vn(dM.Rect,mM)):(s.qK(n,e,mM),e.m(mM)),t.X0()}C0(){const t=this.hRt;t!==TM&&(this.cj().q0().qK(this.fi,t,null),this.hRt=TM)}Y1(){return this.hRt}vY(){const t=this.fi,s=this.HOt,i=s.pj();i.length&&i.at(-1)===t||(s.G0(t,!1),s.v0(t,!1),this.kc.yj())}IY(){const t=this.fi,s=this.HOt,i=s.pj();i.length&&i[0]===t||(s.G0(t,!1),s.I0(t,!1),this.kc.yj())}CY(t){const s=this.fi,i=this.HOt;if(i.QF()!==t.QF())throw new Error("layer from different layout");t!==i&&(i.G0(s,!0),this.mj(t),t.v0(s,!0),this.kc.yj())}AY(t,s){const i=this.fi;let e=!1;const n=this.HOt;if(t.tV()===i.tV())return;const r=t.lj();if(!r)throw new Error("expected world instance");const h=r.cj();n.$P()!==h.$P()&&(n.G0(i,!0),this.mj(h),h.v0(i,!0),e=!0);const o=h.Z1(i,t,!!s);(e||o)&&this.kc.yj()}XV(){return this.fRt}zPt(t){this.BRt(64,t)}h2(){return!!(64&this.Bvt)}M3(t,s=null){const i={x:this.Wb(),y:this.Qb(),w:this.Bg(),h:this.Zg(),l:this.cj().W0(),zi:this.fj()};0!==this.Hb()&&(i.ze=this.Hb()),0!==this.lU()&&(i.a=this.CRt()),this.J0()||(i.c=this.Ab.toJSON()),.5!==this.eY()&&(i.oX=this.eY()),.5!==this.hY()&&(i.oY=this.hY()),0!==this.xW()&&(i.bm=this.xW()),this.HU()||(i.v=this.HU()),this.DY()||(i.ce=this.DY()),this.MPt()&&(i.be=this.MPt()),this.fRt&&(i.fx=this.fRt.M3());const e=!!(32&this.Bvt);return e&&(i.sfi=e),this.uRt&&(i.sft=[...this.uRt].join(" ")),this.pRt&&"visual-state"!==t&&(i.sgi=this.pRt.M3(t,s),GM.has(this)&&(i.sgcd=GM.get(this).bRt,i.sgzid=GM.get(this).vRt)),this.SQ()&&(i.mesh=this.TQ().ev()),i}_Ot(){return{x:this._a,y:this.Aa,z:this.Eb,w:this.ZOt,h:this.KOt,a:this.Co,sgi:this.urt()?this.urt().vOt():null}}ROt(t){t&&(this._a=t.x,this.Aa=t.y,this.Eb=t.z,this.ZOt=t.w,this.KOt=t.h,this.Co=t.a,t.sgi&&this.urt()&&this.urt().S3(t.sgi),this.DRt(),this.KV())}kNt(){this.MRt(),this.ePt(),this.hPt(null),this.pRt&&this.pRt.EOt(this.oOt,this.aOt)}A6(t){"visual-state"!==t&&this.ePt()}D6(t,s="full",i=null){if(t.hasOwnProperty("sgi")&&"visual-state"!==s){if(256&this.Bvt)return;this.pRt.D6(t.sgi,i)}}XLt(t,s="full",i=null){if("visual-state"!==s)if(256&this.Bvt)this.MRt();else{if(t.hasOwnProperty("sgi"))this.pRt.EOt(null,null,t.sgi,i);else if(i?.MGt&&this.oOt)for(const t of this.oOt)t.YH()||this.kc.JW(t);this.MRt(),this.KV()}}S3(t,s,i=null){if(IM=!1,this.Vb(t.x),this.Jb(t.y),this.Hg(t.w),this.Ug(t.h),this.D0(t.zi),this.qb(t.hasOwnProperty("ze")?t.ze:0),this.uU(t.hasOwnProperty("a")?t.a:0),t.hasOwnProperty("c")?wM.ya(t.c):t.hasOwnProperty("o")?(wM.Po(this.Ab),wM.a=t.o):wM._o(1,1,1,1),this.SRt(wM),this.nY(t.hasOwnProperty("oX")?t.oX:.5),this.oY(t.hasOwnProperty("oY")?t.oY:.5),this.Nb(t.hasOwnProperty("bm")?t.bm:0),this.QU(!t.hasOwnProperty("v")||t.v),this.NY(!t.hasOwnProperty("ce")||t.ce),this.wPt(!!t.hasOwnProperty("be")&&t.be),this.fPt(!!t.hasOwnProperty("sfi")&&t.sfi,t.hasOwnProperty("sft")?t.sft:""),this.fRt&&t.hasOwnProperty("fx")&&this.fRt.S3(t.fx),t.hasOwnProperty("sgi")&&"visual-state"!==s){this.hPt(null);const s=this.pRt,i=t.sgi;s.S3(i),s.EOt(this.oOt,this.aOt),this.BPt(t.sgcd,t.sgzid)}if(t.hasOwnProperty("mesh")){const s=t.mesh;this.pQ(s.cols,s.rows),this.TQ().nv(s)}else this.gQ();this.KV(),IM=!0,this.xRt(),"visual-state"!==s&&this.kc.UPt(this.iH(),t)}BPt(t,s){t&&dM.$i(s)&&GM.set(this,{bRt:t,vRt:s})}}}{const _M=self.Gs;_M.mDt=class extends _M.Un{constructor(t,s){super();const i=t.Fj(),e=i.USt(s[1]);i.WPt().WAt(e),this.kc=i,this.Odt=t,this.bAt=_M.Vz.YQ(e),this.o_t=null,this.VPt=null,this.QEt=e.Instance,this.f$=s[2],this.Hn=s[0],this.GTt=this.kc.ugt(s[3]);const n=this.bAt.Svt();if(n<2&&(this.o_t=_M.Vn(e.NDt,this),!(this.o_t instanceof _M.TAt)))throw new Error("v1 sdk type must derive from SDKBehaviorBase");if(_M.Vz.WCt(this,n),n>=2){const t=e.NDt??globalThis.eq;if(this.VPt=new t,!(this.VPt instanceof globalThis.eq))throw new Error("script interface class must derive from ISDKBehaviorTypeBase")}else this.VPt=new globalThis.WQ;_M.Vz.VCt(n),this.jCt()}static EI(t,s){return _M.Vn(_M.mDt,t,s)}Yn(){this.kc=null,this.bAt=null,this.o_t&&(this.o_t.Yn(),this.o_t=null),this.QEt=null}yxt(){return this.o_t}jCt(){this.o_t?this.o_t.jCt():this.VPt&&this.VPt.wH()}Fj(){return this.kc}BW(){return this.Odt}kQ(){return this.bAt}tNt(){return this.QEt}_c(){return this.Hn}W0(){return this.f$}jQ(){return this.VPt}ugt(){return this.GTt}}}{const AM=self.Gs,EM=self.RQ;AM.XNt=class extends AM.Un{constructor(t){super(),this.kc=t.runtime,this.nbt=t.FQ,this.bAt=this.nbt.kQ(),this.fi=t.BQ,this.Aw=t.index,this.UNt=null,this.WNt=null,this.bAt.v0(this.fi)}Yn(){this.WNt&&(this.WNt.QW(),this.WNt=null),this.bAt.G0(this.fi),this.UNt&&(this.UNt.Yn(),this.UNt=null),this.kc=null,this.nbt=null,this.bAt=null,this.fi=null}qDt(t){if(this.UNt)throw new Error("already got sdk instance");if(this.kQ().Svt()<2){if(this.UNt=AM.Vn(this.nbt.tNt(),this,t),!(this.UNt instanceof AM.vAt))throw new Error("v1 sdk type must derive from SDKBehaviorInstanceBase")}else{const s=this.kQ().zCt();this.UCt(s.Instance,t)}}EQ(){return this.UNt??this.WNt}UQ(){return this.fi}Fj(){return this.kc}zQ(){return this.nbt}kQ(){return this.bAt}dht(){return this.Aw}GAt(){this.UNt?this.UNt.GAt():this.WNt.hq()}EAt(t,s){this.UNt&&this.UNt.EAt(t,s)}qLt(){return this.UNt?this.UNt.__t():this.WNt.FV()}ev(t="full"){return this.UNt?this.UNt.ev(t):this.WNt.jV(t)}nv(t,s="full"){if(this.UNt)return this.UNt.nv(t,s);this.WNt.zV(t,s)}static YPt(t,s,i){const e=globalThis.nq;let n,r;n=s instanceof e?t.vU(s):s.IAt(),r=i instanceof e?t.vU(i):i.IAt();const h=n.UQ(),o=r.UQ(),a=h.BW().$P(),u=o.BW().$P();if(a!==u)return a-u;const l=h.PLt(),c=o.PLt();return l!==c?l-c:n.dht()-r.dht()}UCt(t,s){const i=EM,e=t??this.UNt.zCt(),n=e||i,r=this.kQ().Svt();if(AM.Vz.WCt(this,r),AM.Vz.VAt(s),this.WNt=new n,AM.Vz.YAt(),AM.Vz.VCt(r),e&&!(this.WNt instanceof i))throw new TypeError(`script interface class '${e.name}' does not extend the right base class '${i.name}'`);return this.WNt}l_t(){return this.WNt||this.UCt()}N_t(){return!!this.WNt}}}{const DM=self.Gs;DM.H$=class extends DM.Un{constructor(t,s){super(),this.cv=t,this.QPt=[],this.JPt=[],this.HPt=new Map,this.qPt=[],this.XPt=[],this.ZPt=new Set,this.$T=!0;for(const t of s){const s=DM.Vn(DM.KPt,this,t,this.QPt.length);this.QPt.push(s),this.HPt.set(s._c().toLowerCase(),s),t.length>=3&&this.qPt.push(this.$Pt(s,t[2]))}this.Fj().tkt(this)}Yn(){this.Fj().skt(this);for(const t of this.XPt)t.Yn();DM.Mh(this.XPt),DM.Mh(this.QPt),DM.Mh(this.JPt),this.HPt.clear(),DM.Mh(this.qPt),this.cv=null}ikt(t){this.ZPt.add(t)}ekt(t){this.ZPt.delete(t)}nkt(t){t.tS()&&(this.XPt=this.QPt.map((t=>{const s=t.EG();return s.rkt()>0?DM.Vn(DM.Pw.hkt,s):null})),this.okt());for(const s of this.ZPt)s.nkt(t)}JDt(t){if(t.length){this.QPt=t.concat(this.QPt);for(const s of t)this.HPt.set(s._c().toLowerCase(),s);for(let t=0,s=this.QPt.length;t<s;++t)this.QPt[t].F0(t)}}$Pt(t,s){t.akt(s[0]);const i=s.slice(1);for(let t=0,s=i.length;t<s;++t){const s=i[t];if(Array.isArray(s)){const e=DM.Vn(DM.vo);e.ya(s),i[t]=e}}return i}Tv(){return this.cv}Fj(){return this.cv.Fj()}HQ(){DM.Mh(this.JPt);let t=!0;for(const s of this.QPt)s.Awt()&&(this.JPt.push(s),s.EG().yb()||(t=!1));this.$T=t}nU(){return this.QPt}aNt(){return this.QPt.length>0}srt(t){return this.HPt.get(t.toLowerCase())||null}ukt(t){if((t=Math.floor(+t))<0||t>=this.QPt.length)throw new RangeError("invalid effect type index");return this.QPt[t]}QQ(t){return this.ukt(t).Awt()}JQ(t,s){this.ukt(t).akt(s)}H0(){return this.JPt}h2(){return this.JPt.length>0}yb(){return this.$T}trt(t){return this.qPt[t]}K$(t){return t<this.XPt.length?this.XPt[t]:this.qPt[t]}qQ(t,s){if(t<0||t>=this.qPt.length)return null;const i=this.qPt[t];return s<0||s>=i.length?null:i[s]}XQ(t,s,i){if(t<0||t>=this.qPt.length)return!1;const e=this.qPt[t];if(s<0||s>=e.length)return!1;const n=e[s];if(n instanceof DM.vo){if(n.Vo(i))return!1;n.Po(i)}else{if(n===i)return!1;e[s]=i}return t<this.XPt.length&&this.XPt[t].lkt(s,i),!0}okt(){const t=this.qPt,s=this.XPt;for(let i=0,e=Math.min(t.length,s.length);i<e;++i){const e=s[i],n=t[i];for(let t=0,s=n.length;t<s;++t)e.lkt(t,n[t])}}static ckt(t){return t&&t instanceof DM.vo?{t:"color",v:t.toJSON()}:t}static fkt(t){if(null===t)return NaN;if("object"==typeof t){if("color"===t.t){const s=DM.Vn(DM.vo);return s.ya(t.v),s}throw new Error("invalid effect parameter type")}return t}static dkt(t){return t.map(DM.H$.ckt)}static pkt(t){return t.map(DM.H$.fkt)}ev(){return this.QPt.map((t=>({name:t._c(),active:t.Awt(),params:DM.H$.dkt(this.qPt[t.$P()])})))}nv(t){for(const s of t){const t=this.srt(s.name);t&&(t.akt(s.active),this.qPt[t.$P()]=DM.H$.pkt(s.params))}this.HQ(),this.okt()}}}{const NM=self.Gs;NM.KPt=class extends NM.Un{constructor(t,s,i){super(),this.J$=t,this.jc=s[0],this.Hn=s[1],this.Aw=i,this.Gb=null,this.kf=!0}Yn(){this.J$=null,this.Gb=null}QDt(t){const s=NM.Vn(NM.KPt,t,[this.jc,this.Hn],-1);return s.Gb=this.Gb,s.kf=this.kf,s}nkt(t){const s=t.hS(this.jc);if(!s)throw new Error("failed to find shader program '"+this.jc+"'");this.Gb=s}eU(){return this.J$}_c(){return this.Hn}F0(t){this.Aw=t}$P(){return this.Aw}Tv(){return this.J$.Tv()}Fj(){return this.J$.Fj()}akt(t){this.kf=!!t}Awt(){return this.kf}EG(){return this.Gb}mkt(){const t=[];for(let s=0,i=this.Gb.DG();s<i;++s){const i=this.Gb.NG(s);if("float"===i||"percent"===i)t.push(0);else{if("color"!==i)throw new TypeError("unknown effect parameter type");t.push(NM.Vn(NM.vo,1,1,1,1))}}return t}}}{const LM=self.Gs;LM.dRt=class extends LM.Un{constructor(t,s){super(),this.fi=t,this.gkt=s,this.J$=t.BW().eU(),this.ykt=!0,this.t0=!0,this.wkt=!1,this.Mkt=!1,this.Skt=!1,this.Tkt=!1,this.qP=LM.Vn(LM.Pw.jO,t.Fj().Ij().q$(),{_O:(t,s)=>{const i=s.BP(),e=i.lj();t.Lb(e.X$()),t.US(e.cY()),i.Nv(t),t.US(0)},AO:t=>{const s=t.W_t(),[i,e]=t.U_t();return{LP:s,OP:i,RP:e}},EO:t=>this.K$(t)}),this.bkt=[],this.JPt=[],this.$T=!0,this.qPt=[],this.XPt=[],this.nkt(t.Fj().lb());for(let t=0,s=this.J$.nU().length;t<s;++t)this.bkt.push(!0);this.HQ(),this.J$.ikt(this)}Yn(){this.J$.ekt(this);for(const t of this.XPt)t&&t.Yn();LM.Mh(this.XPt),this.qP.Yn(),this.qP=null,LM.Mh(this.bkt),LM.Mh(this.JPt),LM.Mh(this.qPt),this.fi=null,this.J$=null}nkt(t){t.tS()&&(this.XPt=this.J$.nU().map((t=>{const s=t.EG();return s.rkt()>0?LM.Vn(LM.Pw.hkt,s):null})))}TRt(t){let s=0;for(const i of t)this.qPt.push(this.$Pt(s,i)),++s;this.okt(),this.HQ()}$Pt(t,s){this.bkt[t]=s[0];const i=s.slice(1);for(let t=0,s=i.length;t<s;++t){const s=i[t];if(Array.isArray(s)){const e=LM.Vn(LM.vo);e.ya(s),i[t]=e}}return i}eLt(){for(const t of this.J$.nU())this.qPt.push(t.mkt());this.okt()}Tv(){return this.cv}eU(){return this.J$}KP(){return this.Q0(),this.qP}Fj(){return this.fi.Fj()}HQ(){LM.Mh(this.JPt);const t=this.gkt,s=this.J$.nU(),i=this.JPt,e=this.bkt;let n=!0;for(let t=0,r=s.length;t<r;++t)if(e[t]){const e=s[t];i.push(e),e.EG().yb()||(n=!1)}this.$T=n,t.zPt(!!i.length),this.ykt=!0}Q0(){const t=this.fi,s=this.gkt,i=s.J0(),e=t.TB().rB(),n=0!==s.lU()||0!==s.cj().lU()||s.Bg()<0||s.Zg()<0,r=t.Q_t(),h=t.gb();(this.ykt||i!==this.t0||e!==this.wkt||n!==this.Mkt||r!==this.Skt||h!==this.Tkt||this.qP.DR())&&(this.qP.NR(this.JPt.map((t=>t.EG())),{NO:this.JPt.map((t=>t.$P())),LO:!i||h,RO:e,PO:r,kO:n}),this.ykt=!1,this.t0=i,this.wkt=e,this.Mkt=n,this.Skt=r,this.Tkt=h)}H0(){return this.JPt}trt(t){return this.qPt[t]}K$(t){return t<this.XPt.length?this.XPt[t]:this.qPt[t]}qQ(t,s){if(t<0||t>=this.qPt.length)return null;const i=this.qPt[t];return s<0||s>=i.length?null:i[s]}XQ(t,s,i){if(t<0||t>=this.qPt.length)return!1;const e=this.qPt[t];if(s<0||s>=e.length)return!1;const n=e[s];if(n instanceof LM.vo){if(n.Vo(i))return!1;n.Po(i)}else{if(n===i)return!1;e[s]=i}return t<this.XPt.length&&this.XPt[t].lkt(s,i),!0}okt(){const t=this.qPt,s=this.XPt;for(let i=0,e=s.length;i<e;++i){const e=s[i],n=t[i];for(let t=0,s=n.length;t<s;++t)e.lkt(t,n[t])}}yb(){return this.$T}vkt(){return this.JPt.some((t=>t.EG().Sb()))}QQ(t){return this.bkt[t]}JQ(t,s){this.bkt[t]=!!s}nU(){return this.J$.nU()}M3(){return this.J$.nU().map((t=>({name:t._c(),active:this.bkt[t.$P()],params:LM.H$.dkt(this.qPt[t.$P()])})))}S3(t){for(const s of t){const t=this.J$.srt(s.name);t&&(this.bkt[t.$P()]=s.active,this.qPt[t.$P()]=LM.H$.pkt(s.params))}this.HQ(),this.okt()}}}{const OM=self.Gs,RM=[],PM=[],kM=[],FM=OM.Vn(OM.ol),jM=OM.Vn(OM.ol),zM=OM.Vn(OM.Cu),BM=OM.Vn(OM.Rect),UM=OM.Vn(OM.Rect);let WM=null,VM=null,YM=null;OM.xkt=class extends OM.Un{constructor(t){super(),this.kc=t,this.Ikt=0,this.Gkt=0,this.Ckt=[],this._kt=0,this.Akt=0,this.Ekt=0,this.Dkt=0,this.Nkt=new self.ez(this)}Yn(){this.kc=null}Fj(){return this.kc}hk(){return this.Nkt}Lkt(){this.Akt=this._kt,this._kt=0,this.Dkt=this.Ekt,this.Ekt=0}Okt(){return this.Akt}Rkt(){return this.Dkt}Pkt(t,s){const i=t.lj(),e=s.lj();i&&e&&i.DY()&&e.DY()&&this.Ckt.push([t,s])}MIt(t,s,i){for(const[e,n]of this.Ckt){let r=null;if(t===e)r=n;else{if(t!==n)continue;r=e}r._It(s)&&(i.includes(r)||i.push(r))}}SIt(t,s){if(!this.Ckt.length)return!1;for(const[i,e]of this.Ckt)if(t===i&&s===e||t===e&&s===i)return!0;return!1}kkt(){OM.Mh(this.Ckt)}rz(t,s){if(!t||!s||t===s)return!1;const i=t.lj(),e=s.lj();if(!i.DY()||!e.DY())return!1;this._kt++;const n=i.cj(),r=e.cj();return n.z1(r)?this.Fkt(i,e):this.jkt(i,e)}Fkt(t,s){if(!t.pY().Tu(s.pY()))return!1;if(this.Ekt++,!t.gY().$u(s.gY()))return!1;if(t.cLt()&&s.cLt())return!1;if(t.cLt())return this.zkt(t,s);if(s.cLt())return this.zkt(s,t);if(!t.CPt()&&!s.CPt())return!0;const i=t._Pt(),e=s._Pt();return i.Sl(e,s.Wb()-t.Wb(),s.Qb()-t.Qb())}jkt(t,s){const i=t.cLt(),e=s.cLt();if(i&&!e)return this.Bkt(t,s);if(e&&!i)return this.Bkt(s,t);if(e||i)return!1;{const i=t.cj(),e=s.cj();FM.m(t._Pt()),jM.m(s._Pt());const n=FM.fl();for(let s=0,e=n.length;s<e;s+=2){const e=s+1,r=n[s],h=n[e],[o,a]=i.LW(r+t.Wb(),h+t.Qb());n[s]=o,n[e]=a}const r=jM.fl();for(let t=0,i=r.length;t<i;t+=2){const i=t+1,n=r[t],h=r[i],[o,a]=e.LW(n+s.Wb(),h+s.Qb());r[t]=o,r[i]=a}return FM.gl(),jM.gl(),this.Ekt++,FM.Sl(jM,0,0)}}Bkt(t,s){const i=t.cj(),e=s.cj();WM||(WM=OM.Vn(OM.ol)),VM||(VM=OM.Vn(OM.Rect)),YM||(YM=OM.Vn(OM.Cu));const n=s.Wb(),r=s.Qb(),[h,o]=e.LW(n,r),[a,u]=i.DW(h,o),l=a-n,c=u-r;if(VM.m(s.pY()),VM.offset(l,c),!t.pY().Tu(VM))return!1;if(YM.m(s.gY()),YM.offset(l,c),this.Ekt++,!t.gY().$u(YM))return!1;WM.m(s._Pt());const f=WM.fl();for(let t=0,s=f.length;t<s;t+=2){const s=t+1;f[t]+=l,f[s]+=c}return WM.gl(),this.zkt(t,s,a,u,WM,VM,YM)}zkt(t,s,i,e,n,r,h){const o=void 0!==r?r:s.pY(),a=t.Wb(),u=t.Qb(),l=t.iH().EQ(),c=void 0!==i?i:s.Wb(),f=void 0!==e?e:s.Qb(),d=s.CPt(),p=void 0!==h?h:s.gY(),m=PM;l.Ukt(o,m);for(let t=0,i=m.length;t<i;++t){const i=m[t],e=i.Wkt();if(this._kt++,o.bu(e,a,u)&&(zM.Hu(e),zM.offset(a,u),zM.$u(p)))if(d){const t=void 0!==n?n:s._Pt();let r=c,h=f;void 0!==n&&(r=s.Wb(),h=s.Qb());const o=i.Vkt();if(o){if(this.Ekt++,o.Sl(t,r-(a+e.Za()),h-(u+e.Ka())))return OM.Mh(m),!0}else if(FM.wl(zM,0,0),FM.Sl(t,r,h))return OM.Mh(m),!0}else{const t=i.Vkt();if(!t)return OM.Mh(m),!0;if(FM.wl(p,0,0),t.Sl(FM,-(a+e.Za()),-(u+e.Ka())))return OM.Mh(m),!0}}return OM.Mh(m),!1}Ykt(t,s,i){const e=t.LB(),n=this.kc.Yk();if(!n)throw new Error("cannot call outside event");const r=n.upt(),h=new OM.Qkt;if(e.Qdt()){i||(e.$dt(!1),OM.Mh(e.tpt())),r&&OM.Mh(e.spt());for(const n of t.NB()){const t=n.lj(),o=t.cj();let a=!1;if(h.XU(o)&&t.wY()&&(a=s.some((([s,i])=>{const[e,n]=h.DW(o,s,i,t.cY());return t.LY(e,n)}))),a){if(i)return!1;e.Zdt(n)}else r&&e.Kdt(n)}}else{let t,o=!1;r&&!n.KMt(this.kc.tgt())?this.kc.bxt()&&!e.spt().length&&e.tpt().length?t=e.tpt():(t=e.spt(),o=!0):t=e.tpt();let a=0;for(let n=0,u=t.length;n<u;++n){const u=t[n],l=u.lj(),c=l.cj();let f=!1;if(h.XU(c)&&l.wY()&&(f=s.some((([t,s])=>{const[i,e]=h.DW(c,t,s,l.cY());return l.LY(i,e)}))),f){if(i)return!1;o?e.Zdt(u):t[a++]=u}else o?t[a++]=u:r&&e.Kdt(u)}i||(t.length=a)}return t.LSt(),h.Yn(),!!i||e.Jdt()}Jkt(t,s){if(!t)return!0;for(const i of s.ANt())if(!t.z1(i))return!1;return!0}Txt(t,s,i,e){if(s.P0())for(const n of s.$B())this.Jkt(t,n)?(n.GNt(),n.xNt().XK(i,e)):OM.Nn(e,n.NB());else this.Jkt(t,s)?(s.GNt(),s.xNt().XK(i,e)):OM.Nn(e,s.NB())}mz(t,s,i,e){for(const n of s)this.Txt(t,n,i,e)}Hkt(t,s,i){const e=this.kc.JAt();e&&this.mz(t,e.s8(),s,i)}qkt(t,s,i){const e=this.kc.HAt();e&&this.mz(t,e.s8(),s,i)}dPt(t,s){return t.pLt()&&(!s||s.lj().dPt(t.Gvt().get("solidTags")))}az(t){const s=t.lj();this.Hkt(s.cj(),s.pY(),RM);for(const s of RM)if(this.dPt(s,t)&&this.rz(t,s))return OM.Mh(RM),s;return OM.Mh(RM),null}Xkt(t,s){this.Hkt(null,t,RM);for(const i of RM)if(this.dPt(i,s)&&this.Zkt(t,i))return OM.Mh(RM),i;return OM.Mh(RM),null}Kkt(t,s){let i=null;s&&(i=kM,OM.Mh(i));const e=t.lj();this.qkt(e.cj(),e.pY(),RM);for(const e of RM)if(e.gLt()&&this.rz(t,e)){if(!s)return OM.Mh(RM),e;i.push(e)}return OM.Mh(RM),i}$kt(t,s,i,e,n){e=e||50;const r=t.lj(),h=r.Wb(),o=r.Qb();for(let a=0;a<e;++a)if(r.$V(h+s*a,o+i*a),r.KV(),!this.rz(t,n))return!0;return r.$V(h,o),r.KV(),!1}tFt(t,s,i,e,n,r){e=e||50;const h=t.lj(),o=h.Wb(),a=h.Qb();let u=null,l=null;for(let c=0;c<e;++c)if(h.$V(o+s*c,a+i*c),h.KV(),!this.rz(t,u))if(u=this.az(t),u)l=u;else if(n&&(u=r?this.rz(t,r)?r:null:this.Kkt(t),u&&(l=u)),!u)return l&&this.sFt(t,s,i,l,16,!0),!0;return h.$V(o,a),h.KV(),!1}iFt(t,s,i,e){e=e||50;const n=t.lj(),r=n.Wb(),h=n.Qb();let o=null,a=null;for(let u=0;u<e;++u)for(let e=0;e<2;++e){const l=2*e-1;if(n.$V(r+s*u*l,h+i*u*l),n.KV(),!this.rz(t,o)){if(o=this.az(t),!o)return a&&this.sFt(t,s*l,i*l,a,16,!0),!0;a=o}}return n.$V(r,h),n.KV(),!1}sFt(t,s,i,e,n,r){let h=2,o=!1,a=!1;const u=t.lj();let l=u.Wb(),c=u.Qb();for(;h<=n;){const n=1/h;h*=2,u.sY(s*n*(o?1:-1),i*n*(o?1:-1)),u.KV(),this.rz(t,e)||r&&this.az(t)?(o=!0,a=!0):(o=!1,a=!1,l=u.Wb(),c=u.Qb())}a&&(u.$V(l,c),u.KV())}eFt(t,s=100){let i=0;const e=t.lj(),n=e.Wb(),r=e.Qb();let h=0,o=this.az(t);if(!o)return!0;for(;i<=s;){let s=0,a=0;switch(h){case 0:s=0,a=-1,i++;break;case 1:s=1,a=-1;break;case 2:s=1,a=0;break;case 3:s=1,a=1;break;case 4:s=0,a=1;break;case 5:s=-1,a=1;break;case 6:s=-1,a=0;break;case 7:s=-1,a=-1}if(h=(h+1)%8,e.$V(Math.floor(n+s*i),Math.floor(r+a*i)),e.KV(),!this.rz(t,o)&&(o=this.az(t),!o))return!0}return e.$V(n,r),e.KV(),!1}nFt(t,s,i,e){const n=t.lj(),r=n.Wb(),h=n.Qb(),o=Math.max(10,OM.ir(s,i,r,h)),a=OM.nr(s,i,r,h),u=e||this.az(t);if(!u)return OM.Zn(a+Math.PI);let l=u,c=0,f=0;const d=OM.Kn(5);let p;for(p=1;p<36;++p){const r=a-p*d;if(n.$V(s+Math.cos(r)*o,i+Math.sin(r)*o),n.KV(),!this.rz(t,l)&&(l=e?null:this.az(t),!l)){c=r;break}}for(36===p&&(c=OM.Zn(a+Math.PI)),l=u,p=1;p<36;++p){const r=a+p*d;if(n.$V(s+Math.cos(r)*o,i+Math.sin(r)*o),n.KV(),!this.rz(t,l)&&(l=e?null:this.az(t),!l)){f=r;break}}if(36===p&&(f=OM.Zn(a+Math.PI)),n.$V(r,h),n.KV(),f===c)return f;const m=OM.rr(f,c)/2;let g;g=OM.ar(f,c)?OM.Zn(c+m+Math.PI):OM.Zn(f+m);const y=Math.cos(a),w=Math.sin(a),M=Math.cos(g),S=Math.sin(g),T=y*M+w*S,b=y-2*T*M,v=w-2*T*S;return OM.nr(0,0,b,v)}rFt(t,s,i,e,n){if(!n)return!1;const r=n.lj();return!!r.DY()&&(this._kt++,BM.set(Math.min(t,i),Math.min(s,e),Math.max(t,i),Math.max(s,e)),!!r.pY().Tu(BM)&&(n.cLt()?this.hFt(t,s,i,e,n,r):(this.Ekt++,!!r.gY().Ku(t,s,i,e)&&(!r.CPt()||r._Pt().Ku(r.Wb(),r.Qb(),t,s,i,e)))))}hFt(t,s,i,e,n,r){const h=r.Wb(),o=r.Qb(),a=n.EQ(),u=PM;UM.set(t,s,i,e),UM.normalize(),a.Ukt(UM,u);for(let n=0,r=u.length;n<r;++n){const r=u[n],a=r.Wkt();if(this._kt++,BM.bu(a,h,o)&&(zM.Hu(a),zM.offset(h,o),zM.Ku(t,s,i,e))){const n=r.Vkt();if(!n)return OM.Mh(u),!0;if(this.Ekt++,n.Ku(h+a.Za(),o+a.Ka(),t,s,i,e))return OM.Mh(u),!0}}return OM.Mh(u),!1}Zkt(t,s){if(!s)return!1;const i=s.lj();if(!i.DY())return!1;if(this._kt++,!i.pY().Tu(t))return!1;if(s.cLt())return this.oFt(t,s,i);if(this.Ekt++,zM.Hu(t),!i.gY().$u(zM))return!1;if(!i.CPt())return!0;const e=FM;e.Hu(t,i.Wb(),i.Qb());const n=i._Pt();return e.Sl(n,0,0)}oFt(t,s,i){const e=i.Wb(),n=i.Qb(),r=s.EQ(),h=PM;r.Ukt(t,h);for(let s=0,i=h.length;s<i;++s){const i=h[s],r=i.Wkt();if(this._kt++,t.bu(r,e,n)){const s=i.Vkt();if(!s)return OM.Mh(h),!0;if(this.Ekt++,FM.Hu(t,0,0),s.Sl(FM,-(e+r.Za()),-(n+r.Ka())))return OM.Mh(h),!0}}return OM.Mh(h),!1}aFt(t,s){if(!t)return;const i=t.lj();i.DY()&&(this._kt++,i.pY().Tu(s.rect)&&(t.cLt()?this.uFt(t,i,s):(this.Ekt++,i.CPt()?s.lFt(t,i.Wb(),i.Qb(),i._Pt()):s.cFt(t,i.gY()))))}uFt(t,s,i){const e=s.Wb(),n=s.Qb(),r=PM;t.EQ().Ukt(i.rect,r);for(let h=0,o=r.length;h<o;h++){const o=r[h],a=o.Wkt();if(this._kt++,i.rect.bu(a,e,n)){const r=o.Vkt();this.Ekt++,r?i.lFt(t,e+a.Za(),n+a.Ka(),r):i.fFt(t,s.Wb(),s.Qb(),a)}}OM.Mh(r)}lz(t,s){if(t===this.Ikt&&s===this.Gkt)return;this.Ikt=t,this.Gkt=s;const i=this.kc.R0();for(const e of i)if(e.Zz()){for(const t of e.DB())t.lj().cPt();e.xNt().dFt(t,s),e.INt();for(const t of e.DB()){const s=t.lj();s.jPt(),s.CNt()}}}fz(){return[this.Ikt,this.Gkt]}pFt(t,s){this.Ikt=t,this.Gkt=s}}}{const QM=self.Gs;QM.iDt=class extends QM.Un{constructor(t,s){super(),this.WK=t,this.VK=s,this.YK=QM.Vn(QM.Gl)}Yn(){this.YK.Yn(),this.YK=null}dFt(t,s){if(!this.YK.Al())throw new Error("grid not empty");this.WK=t,this.VK=s}QK(t,s,i){let e=this.YK.Ys(t,s);return e||(i?(e=QM.Vn(QM.mFt,this,t,s),this.YK.Set(t,s,e),e):null)}JK(t){const s=Math.floor(t/this.WK);return isFinite(s)?s:0}HK(t){const s=Math.floor(t/this.VK);return isFinite(s)?s:0}qK(t,s,i){if(s)for(let e=s.Za(),n=s.$a();e<=n;++e)for(let n=s.Ka(),r=s.tu();n<=r;++n){if(i&&i.vu(e,n))continue;const s=this.QK(e,n,!1);s&&(s.Xf(t),s.Al()&&this.YK.El(e,n))}if(i)for(let e=i.Za(),n=i.$a();e<=n;++e)for(let n=i.Ka(),r=i.tu();n<=r;++n)s&&s.vu(e,n)||this.QK(e,n,!0).jK(t)}XK(t,s){let i=this.JK(t.Za());const e=this.HK(t.Ka()),n=this.JK(t.$a()),r=this.HK(t.tu());if(isFinite(n)&&isFinite(r))for(;i<=n;++i)for(let t=e;t<=r;++t){const e=this.QK(i,t,!1);e&&e.BK(s)}}}}{const JM=self.Gs;JM.mFt=class extends JM.Un{constructor(t,s,i){super(),this.DK=t,this._a=s,this.Aa=i,this.NK=JM.Vn(JM.Ol)}Yn(){this.NK.Yn(),this.NK=null,this.DK=null}Al(){return this.NK.Al()}jK(t){this.NK.Fl(t)}Xf(t){this.NK.El(t)}BK(t){JM.Nn(t,this.NK.jl())}}}{const HM=self.Gs,qM=1e-6;HM.gFt=class{constructor(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.dx=0,this.dy=0,this.rect=new HM.Rect,this.yFt=2,this.wFt=null,this.MFt=0,this.SFt=0,this.TFt=0,this.bFt=0,this.vFt=0,this.St=0,this.xFt=1,this.IFt=0,this.GFt=1,this.CFt=0}_Ft(){return this.yFt<1.000001}Ff(){this.yFt=2}Set(t,s,i,e){return this.x1=t,this.y1=s,this.x2=i,this.y2=e,this.dx=i-t,this.dy=e-s,this.rect.set(t,s,i,e),this.rect.normalize(),this.yFt=2,this.wFt=null,this.MFt=0,this.SFt=0,this.TFt=0,this.bFt=0,this.vFt=0,this.St=0,this.xFt=1,this.IFt=0,this.GFt=1,this.CFt=0,this}AFt(){if(!1===this._Ft())return;const t=this.dx*this.yFt,s=this.dy*this.yFt,i=HM.tr(t,s),e=t/i,n=s/i;this.St=i-qM,this.bFt=this.x1+e*this.St,this.vFt=this.y1+n*this.St,this.MFt=Math.atan2(this.TFt,this.SFt)+Math.PI/2,this.xFt=Math.cos(this.MFt),this.IFt=Math.sin(this.MFt);const r=e*this.xFt+n*this.IFt;if(this.GFt=e-2*this.xFt*r,this.CFt=n-2*this.IFt*r,r>0){const t=Math.PI;this.MFt=HM.Zn(this.MFt+t),this.xFt=-this.xFt,this.IFt=-this.IFt}}EFt(t,s,i,e,n){const r=HM.Jr(this.x1,this.y1,this.x2,this.y2,s,i,e,n);r>=0&&r<this.yFt&&(this.yFt=r,this.wFt=t.tV(),this.SFt=s-e,this.TFt=i-n)}fFt(t,s,i,e){const n=s+e.Za(),r=s+e.$a(),h=i+e.Ka(),o=i+e.tu();this.EFt(t,n,h,r,h),this.EFt(t,r,h,r,o),this.EFt(t,r,o,n,o),this.EFt(t,n,o,n,h)}cFt(t,s){const i=s.Fr(),e=s.jr(),n=s.zr(),r=s.Br(),h=s.Ur(),o=s.Wr(),a=s.Vr(),u=s.Yr();this.EFt(t,i,e,n,r),this.EFt(t,n,r,h,o),this.EFt(t,h,o,a,u),this.EFt(t,a,u,i,e)}lFt(t,s,i,e){const n=e.fl();for(let e=0,r=n.length;e<r;e+=2){const h=(e+2)%r,o=n[e]+s,a=n[e+1]+i,u=n[h]+s,l=n[h+1]+i;this.EFt(t,o,a,u,l)}}}}{const XM=self.Gs;XM.Qkt=class{constructor(){this.DFt=new Map}Yn(){for(const t of this.DFt.values())t.NFt._l();this.DFt.clear()}LFt(t){let s=this.DFt.get(t);return void 0===s&&(s={qU:null,NFt:new XM.Gl},this.DFt.set(t,s)),s}XU(t){const s=this.LFt(t);return null===s.qU&&(s.qU=t.iW()),s.qU}DW(t,s,i,e){if(0!==e)return t.DW(s,i,e);const n=this.LFt(t);let r=n.NFt.Ys(s,i);return void 0===r&&(r=t.DW(s,i,e),n.NFt.Set(s,i,r)),r}}}{const ZM=self.Gs,KM=new Set(["off","crop","scale-inner","scale-outer","letterbox-scale","letterbox-integer-scale"]),$M=new Set(["high","low"]),tS=self.hs,sS=tS.fs,iS=(tS.ys,sS.create()),eS=ZM.Vn(ZM.Cu),nS=ZM.Vn(ZM.Rect);ZM.OFt=class extends ZM.Un{constructor(t){super(),this.kc=t,this.RFt=[],this.PFt=!1,this.kFt=null,this.FFt=null,this.jFt=null,this.zFt="high-performance",this.BFt=!1,this.UFt="auto",this.WFt=0,this.VFt=0,this.YFt="",this.QFt=0,this.JFt=0,this.HFt=0,this.qFt=0,this.XFt=0,this.ZFt=0,this.eM="normalized",this.KFt=0,this.$Ft=1,this.tjt=1e4,this.LM=!0,this.sjt=0,this.lR=0,this.cR=0,this.ijt="letterbox-scale",this.ejt="letterbox-scale",this.njt=0,this.rjt=0,this.hjt=sS.create(),this.ojt="high",this.ajt=this.ojt,this.ujt=!1,this.ljt=[],this.cjt=new Set,this.fjt=self.C3_Shaders,this.djt=ZM.Vn(ZM.Pw.pO,{lO:()=>[this.I2(),this.G2()],cO:()=>this.pjt(),fO:t=>this.mjt(t),getTime:()=>this.Fj().fF(),dO:()=>this.Fj().yj()}),this.gjt=0,this.yjt=0,this.wjt=NaN,this.Mjt=null,this.Sjt=new Map,this.Tjt=NaN,this.bjt=new Map,this.vjt="",this.xjt=1,this.Ijt=ZM.Vn(ZM.Rect),this.Gjt="",this.Cjt=null,this._jt=null,this.Ajt=0,this.Ejt=0,this.Djt=-1,this.Njt=0,this.Ljt=t=>this.Njt=t.progress,this.Ojt=null,this.Rjt={Pjt:null,kjt:null,Fjt:null},this.jjt=0,this.zjt=0,this.Bjt=0,this.Ujt="fade-in",this.Wjt=null,this.Vjt=new Promise((t=>this.Wjt=t))}Yjt(t){this.zFt=t}Qjt(t){this.PFt=!!t}Jjt(t){this.eM=t}Hjt(){return this.eM}qjt(t){this.KFt=t}Xjt(t,s){this.$Ft=t,this.tjt=s}Zjt(t){this.BFt=!!t}Kjt(t){this.UFt=t}async lo(t){let s=t.canvas;this.RFt.push({canvas:s,$jt:null}),this.kc.GV("runtime","window-resize",(t=>this.tzt(t))),this.kc.GV("runtime","fullscreenchange",(t=>this.szt(t))),this.kc.GV("runtime","fullscreenerror",(t=>this.izt(t))),s.addEventListener("webglcontextlost",(t=>this.ezt(t))),s.addEventListener("webglcontextrestored",(t=>this.nzt(t))),this.ujt=!!t.isFullscreen,this.YFt=t.cssDisplayMode;const i=navigator.gpu&&this.PFt;let e=!1;if(i)try{await this.rzt(!0)}catch(t){this.hzt("WebGPU",t),this.FFt=null}if(!this.lb())try{await this.ozt(!0)}catch(t){this.hzt("WebGL",t),this.kFt=null}if(this.lb()||(e=!0),!this.lb()&&i)try{await this.rzt(!1)}catch(t){this.hzt("WebGPU",t),this.FFt=null}if(!this.lb())try{await this.ozt(!1)}catch(t){this.hzt("WebGL",t),this.kFt=null}const n=this.lb();if(!n)throw new Error("failed to acquire a renderer - check WebGL or WebGPU is supported");n.OT(e),this.FFt&&(this.FFt.azt=()=>this.uzt(),this.FFt.lzt=()=>this.czt()),"normalized"===this.eM?n.XM():(n.ZM(),n.HM(this.KFt)),this.vE(t.windowInnerWidth,t.windowInnerHeight,!0),await this.nkt()}hzt(t,s){s&&"string"==typeof s.message&&s.message.startsWith("renderer-unavailable")||console.error(`Error creating ${t} renderer: `,s)}async rzt(t){const s={Xw:this.$Ft,Zw:this.tjt};let i=!0;"no"===this.UFt?i=!1:"auto"===this.UFt&&(i=ZM.Zs.ri);const e={powerPreference:this.zFt,depth:this.kc.G1(),failIfMajorPerformanceCaveat:t,fzt:this.kc.R2(),dzt:this.kc.pzt(),ND:this.kc.mzt(),gzt:i};this.FFt=ZM.Vn(ZM.Pw.yzt,s),await this.FFt.EI(this.RFt[0].canvas,e)}async ozt(t){const s={alpha:!0,powerPreference:this.zFt,DD:"xbox-uwp-webview2"!==this.kc.Tz(),depth:this.kc.G1(),ND:this.kc.mzt(),failIfMajorPerformanceCaveat:t,Xw:this.$Ft,Zw:this.tjt};this.BFt&&(s.LD=1),this.kFt=ZM.Vn(ZM.Pw.PD,this.RFt[0].canvas,s),await this.kFt.FM()}async wzt(){if(this.fjt){const t=[];for(const[s,i]of Object.entries(this.fjt)){i.src=i.Mzt;const e=ZM.Pw.Szt.KG(this.FFt.Tzt());t.push(this.FFt.jN(Object.assign({CI:e,name:s},i)))}await Promise.all(t)}}async bzt(){if(this.fjt){const t=[];for(const[s,i]of Object.entries(this.fjt)){let e;if(i.vzt&&this.kFt.gx()>=2)i.src=i.vzt,e=ZM.Pw.II.$G();else{if(!i.xzt)throw new Error(`shader '${s}' does not support WebGL 1`);i.src=i.xzt,e=ZM.Pw.II.KG()}t.push(this.kFt.jN(Object.assign({CI:e,name:s},i)))}await Promise.all(t),this.kFt.zN(),this.kFt.aS()}this.kFt.$L()&&(this.Mjt=ZM.Vn(ZM.Pw.TD,this.kFt))}async nkt(){this.FFt?await this.wzt():this.kFt&&await this.bzt();const t=this.lb();t.NT(this.LM),t.$L()&&(this.wjt=0);for(const s of this.kc.Izt()){for(const i of s.nU())i.nkt(t);s.nkt(t),s.HQ()}this.jFt=new self.Bq(this.kc,t)}Yn(){this.kc=null,this.kFt=null,this.RFt.length=0}vk(){return this.kc.vk()}tzt(t){const s=this.kc;if(s.Gzt())return;const i=t.devicePixelRatio;this.vk()&&(self.devicePixelRatio=i),s.Czt(i),this.ujt=!!t.isFullscreen,this.YFt=t.cssDisplayMode,this.vE(t.innerWidth,t.innerHeight),s.yj();const e=new ZM.Event("window-resize");e.data=t,s.yf().Cf(e);const n=new ZM.Event("resize");n._zt=this.Nz(),n.Azt=this.Oz(),n.Ezt=this.Pz(),n.Dzt=this.Fz(),s.HZ(n),this.kc.aj()?.l3(),s.DV()&&(s.Bgt()||self.NV.Nzt())&&s.UR()}szt(t){this.ujt=!!t.isFullscreen,this.vE(t.innerWidth,t.innerHeight,!0),this.kc.yj()}izt(t){this.ujt=!!t.isFullscreen,this.vE(t.innerWidth,t.innerHeight,!0),this.kc.yj()}vE(t,s,i=!1){if(t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid size");if(this.WFt===t&&this.VFt===s&&!i)return;this.WFt=t,this.VFt=s;const e=this.Lzt();"letterbox-scale"===e?this.Ozt(t,s):"letterbox-integer-scale"===e?this.Rzt(t,s):"off"===e?this.Pzt(t,s):this.kzt(t,s),this.Fzt(e);for(const{canvas:t}of this.RFt)t.width=this.HFt,t.height=this.qFt;this.kc.zc("canvas","update-size",{marginLeft:this.XFt,marginTop:this.ZFt,styleWidth:this.QFt,styleHeight:this.JFt,displayScale:this.QH()});const n=this.lb();n.vE(this.HFt,this.qFt,!0);for(const t of this.ljt)n.JL(t);ZM.Mh(this.ljt),this.jzt();const r=this.kc.YF();r.i6(),r.e6()}jzt(){this.lb().$M(this.hjt,this.I2()/this.G2())}C2(){return this.hjt}Ozt(t,s){const i=this.kc.jz(),e=this.kc.Ik(),n=this.kc.Ck(),r=e/n;if(t/s>r){const i=s*r;this.QFt=Math.round(i),this.JFt=s,this.XFt=Math.floor((t-this.QFt)/2),this.ZFt=0}else{const i=t/r;this.QFt=t,this.JFt=Math.round(i),this.XFt=0,this.ZFt=Math.floor((s-this.JFt)/2)}this.HFt=Math.round(this.QFt*i),this.qFt=Math.round(this.JFt*i),this.kc.zzt(e,n)}Rzt(t,s){const i=this.kc.jz();1!==i&&(t+=1,s+=1);const e=this.kc.Ik(),n=this.kc.Ck(),r=e/n;let h;h=t/s>r?s*r*i/e:t/r*i/n,h>1?h=Math.floor(h):h<1&&(h=1/Math.ceil(1/h)),this.HFt=Math.round(e*h),this.qFt=Math.round(n*h),this.QFt=this.HFt/i,this.JFt=this.qFt/i,this.XFt=Math.max(Math.floor((t-this.QFt)/2),0),this.ZFt=Math.max(Math.floor((s-this.JFt)/2),0),this.kc.zzt(e,n)}kzt(t,s){const i=this.kc.jz();this.QFt=t,this.JFt=s,this.HFt=Math.round(this.QFt*i),this.qFt=Math.round(this.JFt*i),this.XFt=0,this.ZFt=0;const e=this.QH();this.kc.zzt(this.QFt/e,this.JFt/e)}Pzt(t,s){const i=this.kc.jz();this.QFt=this.kc.d1(),this.JFt=this.kc.m1(),this.HFt=Math.round(this.QFt*i),this.qFt=Math.round(this.JFt*i),this.Bzt()?(this.XFt=Math.floor((t-this.QFt)/2),this.ZFt=Math.floor((s-this.JFt)/2)):(this.XFt=0,this.ZFt=0),this.kc.zzt(this.kc.d1(),this.kc.m1())}Fzt(t){if("high"===this.ojt)this.lR=this.HFt,this.cR=this.qFt,this.ajt="high";else{let s,i;if("off"===this.Lzt()?(s=this.kc.d1(),i=this.kc.m1()):(s=this.kc.Ik(),i=this.kc.Ck()),this.HFt<s||this.qFt<i)this.lR=this.HFt,this.cR=this.qFt,this.ajt="high";else if(this.lR=s,this.cR=i,this.ajt="low","scale-inner"===t){const t=s/i,e=this.WFt/this.VFt;e<t?this.lR=this.cR*e:e>t&&(this.cR=this.lR/e)}else if("scale-outer"===t){const t=s/i,e=this.WFt/this.VFt;e>t?this.lR=this.cR*e:e<t&&(this.cR=this.lR/e)}}}Fj(){return this.kc}Uzt(){return this.RFt[0].canvas}q$(){return this.djt}Bzt(){return this.ujt}Wzt(){return this.YFt}Vzt(t){if(!KM.has(t))throw new Error("invalid fullscreen mode");this.ijt=t;const s=this.kc.YF();s.i6(),s.e6()}VH(){return this.ijt}Yzt(t){if(!KM.has(t))throw new Error("invalid fullscreen mode");this.ejt=t;const s=this.kc.YF();s.i6(),s.e6()}Qzt(){return this.ejt}Lzt(){return this.Bzt()?this.Qzt():this.VH()}Jzt(t){if(!$M.has(t))throw new Error("invalid fullscreen scaling quality");this.ojt=t,this.kc.YF().i6()}Hzt(){return this.ojt}P2(){return this.ajt}static qzt(t){switch(t){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw new Error("invalid fullscreen mode")}}DH(){return this.WFt}NH(){return this.VFt}I2(){return this.lR}G2(){return this.cR}NT(t){this.LM=!!t}Xzt(t){this.sjt=t}IK(){return this.sjt}Zzt(){return this.lb().KE()}ezt(t){console.log("[Construct] WebGL context lost"),t.preventDefault(),this.ljt=[],this.cjt.clear(),this.djt.Ob(),this.kFt.Ob(),this.kc.U4()}uzt(){console.log("[Construct] WebGPU device lost"),this.ljt=[],this.cjt.clear(),this.djt.Ob(),this.kc.U4()}async nzt(t){await this.kFt.Rb(),await this.nkt(),await this.kc.Kzt(),console.log("[Construct] WebGL context restored")}async czt(){await this.nkt(),await this.kc.Kzt(),console.log("[Construct] WebGPU device restored")}$zt(){return this.kFt}tBt(){return this.FFt}lb(){return this.FFt||this.kFt}$Dt(){return this.jFt}xz(){let t="";return t=this.kc.tBt()?"webgpu":"webgl"+this.kc.$zt().gx(),this.kc.lb().RT()&&(t+="-software"),t}Gz(){return this.kc.tBt()?this.kc.tBt().sBt():this.kc.$zt().hO()}jW(){return"low"===this.ajt?1/this.kc.jz():this.QH()}QH(){const t=this.Lzt();if("off"===t||"crop"===t)return 1;const s=this.kc.Ik(),i=this.kc.Ck(),e=s/i,n=this.HFt/this.qFt;return"scale-inner"!==t&&n>e||"scale-inner"===t&&n<e?this.JFt/i:this.QFt/s}a3(){return"low"===this.P2()?1:this.QH()}h3(){return"low"===this.P2()?1:this.kc.jz()}iBt(t,s){this.njt=t,this.rjt=s}GX(t,s,i,e=!0){s=s||this.lR,i=i||this.cR;const n=s/2+this.njt,r=i/2+this.rjt;if(e){let e=this.C2();s===this.lR&&i===this.cR||(t.$M(iS,s/i),e=iS),t.UN(e)}const h=t.eS(n,r,t.zM(i),n,r,0,i);t.HN(h)}eBt(t,s=!0){const i=this.Nz(),e=this.Oz(),n=i/2,r=e/2;s&&t.UN(this.C2());const h=t.eS(n,r,t.zM(e),n,r,0,e);t.HN(h)}Pz(){return this.HFt}Fz(){return this.qFt}Nz(){return this.QFt}Oz(){return this.JFt}_z(){return this.XFt}Ez(){return this.ZFt}x4(){return this.RFt.length}nBt(){return"undefined"!=typeof OffscreenCanvas&&this.Uzt()instanceof OffscreenCanvas&&("Chromium"!==ZM.Zs.ei||ZM.Zs.ii>=124)}async J4(t,s=!1){if(t<1)throw new Error("invalid HTML layer count");if(this.RFt.length===t)return;const i={count:t,layersDomState:this.kc.YF().UF().U0().filter((t=>t.$U())).map((t=>t.X1())),immediate:s,marginLeft:this.XFt,marginTop:this.ZFt,styleWidth:this.QFt,styleHeight:this.JFt};let e;if(e=this.vk()?await this.kc.Mj("canvas","set-html-layer-count",i):self.c3_runtimeInterface._OnSetHTMLLayerCount(i),t<this.RFt.length)this.RFt.length=t;else for(const t of e.addedCanvases){t.width=this.HFt,t.height=this.qFt;const s=this.nBt()?"bitmaprenderer":"2d",i=t.getContext(s);if(!i)throw new Error(`failed to acquire '${s}' canvas context`);this.RFt.push({canvas:t,$jt:i})}this.kc.yj()}P5(t){if(t>=this.RFt.length)return;const s=this.Uzt(),i=this.RFt[t].$jt;this.nBt()?i.transferFromImageBitmap(s.transferToImageBitmap()):(i.globalCompositeOperation="copy",i.drawImage(s,0,0))}F2(t){t.depth=this.kc.G1();const s=this.ljt,i=s.findIndex((s=>s.MI(t)));let e;return-1!==i?(e=s[i],s.splice(i,1)):e=this.lb().UL(t),this.cjt.add(e),e}Z$(t){if(!this.cjt.has(t))throw new Error("render target not in use");this.cjt.delete(t),this.ljt.push(t)}pjt(){const t={Wv:this.kc._k()};return"low"===this.P2()&&(t.width=this.I2(),t.height=this.G2()),this.F2(t)}mjt(t){this.Z$(t)}*rBt(){for(const t of this.kc.YF().K5())for(const s of t.MU()){const t=this.Sjt.get(s);t&&(yield t)}}D2(t){if(!this.lb().$L())return null;let s=this.Sjt.get(t);return s||(s={ZV:t,name:t._c(),hBt:ZM.Vn(ZM.Pw.TD,this.kFt),oBt:0,aBt:0,uBt:0},this.Sjt.set(t,s)),s.hBt}lBt(){const t=this.lb();if(t.$L()&&0===this.yjt){this.yjt=t.ET(),this.Tjt=NaN;for(const t of this.rBt())t.oBt=NaN}}cBt(){this.kFt&&this.kFt.$L()&&this.fBt(),this.FFt&&this.FFt.$L()&&this.dBt()}fBt(){if(isNaN(this.Tjt)&&(this.Tjt=this.Mjt._D(this.gjt,this.yjt),!isNaN(this.Tjt))){if(this.kc.DV())for(const t of this.rBt())if(t.oBt=t.hBt._D(this.gjt,this.yjt),isNaN(t.oBt))return;if(this.Mjt.AD(this.yjt),this.wjt=Math.min(this.Tjt,1),this.kc.DV()){const t=new Map;for(const s of this.rBt())s.hBt.AD(this.yjt),s.aBt=Math.min(s.oBt,1),t.set(s.ZV,s.aBt);for(const s of this.rBt()){const i=s.ZV,e=(t.get(i)||0)-i.UU().reduce(((s,i)=>s+(t.get(i)||0)),0);s.uBt=ZM.Xn(e,0,1)}const s=this.kc.UF(),i=this.wjt-s.U0().reduce(((s,i)=>s+(t.get(i)||0)),0);self.NV.pBt(ZM.Xn(i,0,1),this.wjt,[...this.rBt()])}this.gjt=this.yjt,this.yjt=0}}mBt(){return this.Mjt}dBt(){if(0===this.yjt)return;for(let t=this.gjt;t<this.yjt;++t){const s=this.bjt.get(t);if(s&&!s.lD())return}const t=this.kc.UF(),s=ZM.bo(t.w4()+1,0);let i=0;for(let t=this.gjt;t<this.yjt;++t){const e=this.bjt.get(t);if(!e)continue;const n=e.cD();let r=BigInt(0),h=BigInt(0);const o=BigInt(0);for(let t=0,i=Math.min(s.length,n.length/2);t<i;++t){const i=n[2*t],e=n[2*t+1];i!==o&&(r===o||i<r)&&(r=i),e>h&&(h=e);const a=Number(e-i)/1e9;s[t]+=a}i+=Number(h-r)/1e9}if(this.wjt=ZM.Xn(i,0,1),this.kc.DV()){const i=t.MU(),e=new Map;for(let t=0,n=Math.min(i.length,s.length-1);t<n;++t){const n=s[t+1];e.set(i[t],n)}const n=[],r=new Map;for(const[t,s]of e){const i=[...t.VU()].reduce(((t,s)=>t+(e.get(s)||0)),0);r.set(t,i),n.push({name:t._c(),uBt:ZM.Xn(s,0,1),aBt:ZM.Xn(i,0,1)})}const h=this.wjt-t.U0().reduce(((t,s)=>t+(r.get(s)||0)),0);self.NV.pBt(ZM.Xn(h,0,1),this.wjt,n)}for(let t=this.gjt;t<this.yjt;++t)this.bjt.delete(t);this.gjt=this.yjt,this.yjt=0}gBt(t){this.bjt.set(this.FFt.ET(),t)}CF(){return this.wjt}Gj(t,s,i,e,n,r){return this.vjt=t,this.xjt=s,this.Ijt.Wa(i,e,n,r),this.Cjt||(this.Cjt=new Promise((t=>{this._jt=t}))),this.Cjt}yBt(){if(!this.vjt)return;let t=this.Uzt();const s=this.Ijt,i=ZM.Xn(Math.floor(s.Za()),0,t.width),e=ZM.Xn(Math.floor(s.Ka()),0,t.height);let n=s.width();n=0===n?t.width-i:ZM.Xn(Math.floor(n),0,t.width-i);let r=s.height();if(r=0===r?t.height-e:ZM.Xn(Math.floor(r),0,t.height-e),(0!==i||0!==e||n!==t.width||r!==t.height)&&n>0&&r>0){const s=ZM.lo(n,r);s.getContext("2d").drawImage(t,i,e,n,r,0,0,n,r),t=s}ZM.co(t,this.vjt,this.xjt).then((t=>{this.Gjt&&URL.revokeObjectURL(this.Gjt),this.Gjt=URL.createObjectURL(t),this.Cjt=null,this._jt(t)})),this.vjt="",this.xjt=1}wBt(){return this.Gjt}MBt(t){t?this.Ajt++:this.Ajt--}SBt(){return this.Ajt>0}TBt(t){const s=this.lb();if(2===t)this.Ojt=ZM.Vn(ZM.Pw.UT,this.lb()),this.Ojt.$A("Arial"),this.Ojt.tE(16),this.Ojt.pE("center"),this.Ojt.gE("center"),this.Ojt.vE(300,200);else if(0===t){const t=this.kc.bBt();t&&t.wX(s).catch((t=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",t)))}else 4===t&&(this.vBt("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIxNzAwLjc5MDA0cHgiIGhlaWdodD0iMTcwMC43OTAwNHB4IiB2aWV3Qm94PSIyODcgMzE3IDExMjUgMTEyNSINCgkgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTcwMC43OTAwNCAxNzAwLjc5MDA0IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJsb2dvIj4NCgk8Zz4NCgkJPGc+DQoJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0ZGRkZGRiIgZD0iTTM1NC45Nzc1NCwxMTk1LjYyMzA1DQoJCQkJYzExLjM4NDc3LDAsMjIuMDEyNywzLjIzNzMsMzEuMDE3NTgsOC44Mzc4OWMxLjk0NjI5LDEuMjEwOTQsMi41ODQ5NiwzLjc0OTAyLDEuNDM4NDgsNS43MzQzOGwtNC45MzI2Miw4LjU0MTk5DQoJCQkJYy0zLjI3ODMyLDUuNjc5NjktMTAuMDMzMiw4LjM3Njk1LTE2LjMxNzM4LDYuNTAwOThjLTIuNzY0NjUtMC44MjUyLTUuNjkzMzYtMS4yNjg1NS04LjcyNjU2LTEuMjY4NTUNCgkJCQljLTE2LjgyOTEsMC0zMC40NzI2NiwxMy42NDM1NS0zMC40NzI2NiwzMC40NzI2NmMwLDE2LjgyODEzLDEzLjY0MzU1LDMwLjQ3MjY2LDMwLjQ3MjY2LDMwLjQ3MjY2DQoJCQkJYzMuMDMzMiwwLDUuOTYxOTEtMC40NDMzNiw4LjcyNjU2LTEuMjY4NTVjNi4yOTQ5Mi0xLjg3OTg4LDEzLjAzMzIsMC44MTE1MiwxNi4zMTczOCw2LjUwMDk4bDQuOTMxNjQsOC41NDE5OQ0KCQkJCWMxLjE0NzQ2LDEuOTg4MjgsMC41MTA3NCw0LjUyMzQ0LTEuNDM4NDgsNS43MzQzOGMtOS4wMDM5MSw1LjYwMTU2LTE5LjYzMTg0LDguODM3ODktMzEuMDE2Niw4LjgzNzg5DQoJCQkJYy0zMi40ODUzNSwwLTU4LjgxOTM0LTI2LjMzNDk2LTU4LjgxOTM0LTU4LjgxOTM0QzI5Ni4xNTgyLDEyMjEuOTU3MDMsMzIyLjQ5MjE5LDExOTUuNjIzMDUsMzU0Ljk3NzU0LDExOTUuNjIzMDUNCgkJCQlMMzU0Ljk3NzU0LDExOTUuNjIzMDV6IE03MDMuMjE0ODQsMTI1OS4xNzU3OGMtMTQuNTU5NTctOS44MTczOC0yMC4yMDMxMy0yMC4wMzIyMy0yMC4yMDMxMy0zMy4wODAwOA0KCQkJCWMwLTE4LjQ4OTI2LDE1LjcxNDg0LTI5Ljc2MzY3LDM4LjI2NjYtMjkuNzYzNjdjOS42NTcyMywwLDE4LjcyMTY4LDIuNTQyOTcsMjYuNTU5NTcsNi45OTQxNA0KCQkJCWMyLjA0OTgsMS4xNjQwNiwyLjc2MTcyLDMuNzgzMiwxLjU4MzAxLDUuODI0MjJsLTMuNDE3OTcsNS45MTk5MmMtMy4yNDcwNyw1LjYyNDAyLTkuOTA4Miw4LjMzMTA1LTE2LjE1MzMyLDYuNTQ4ODMNCgkJCQljLTIuNzIzNjMtMC43NzYzNy01LjU5ODYzLTEuMTkyMzgtOC41NzEyOS0xLjE5MjM4Yy0xMC40OTAyMywwLTExLjU5ODYzLDkuNTc2MTctNC44NTc0MiwxNC4xMjMwNWwyMy42ODY1MiwxNS45NzY1Ng0KCQkJCWM5Ljk5MDIzLDYuNzM4MjgsMTUuODk1NTEsMTcuMDY2NDEsMTUuODk1NTEsMjguNzE4NzVjMCwxOC43ODYxMy0xNS4wMDY4NCwzMy4zMDc2Mi0zOC4yNjc1OCwzMy4zMDc2Mg0KCQkJCWMtOS41MjI0NiwwLTE4LjU4Nzg5LTEuOTU3MDMtMjYuODE1NDMtNS40OTAyM2MtNy43ODEyNS0zLjMzOTg0LTEwLjkzMzU5LTEyLjc4MjIzLTYuNjk3MjctMjAuMTE4MTZsMy40ODczLTYuMDQxOTkNCgkJCQljMS4yMTM4Ny0yLjA5OTYxLDMuOTMxNjQtMi43NTk3Nyw1Ljk3NDYxLTEuNDU2MDVjNi44NTkzOCw0LjM4MjgxLDE2LjQ5MDIzLDcuNTk0NzMsMjQuNzU4NzksNy41OTQ3Mw0KCQkJCWMxMC41NDU5LDAsMTEuMzI4MTMtOS45NTg5OCwzLjc2NzU4LTE1LjA1NzYyTDcwMy4yMTQ4NCwxMjU5LjE3NTc4TDcwMy4yMTQ4NCwxMjU5LjE3NTc4eiBNOTg0LjYzMDg2LDEyMDIuMDAwOTgNCgkJCQljMC0yLjM0NzY2LDEuOTAzMzItNC4yNTE5NSw0LjI1MTk1LTQuMjUxOTVoOS45MjE4OGM3LjgyNzE1LDAsMTQuMTcyODUsNi4zNDU3LDE0LjE3Mjg1LDE0LjE3MzgzdjU3LjQwMTM3DQoJCQkJYzAsOC42MTAzNSw2Ljk4MDQ3LDE1LjU5MDgyLDE1LjU5MDgyLDE1LjU5MDgyczE1LjU5MDgyLTYuOTgwNDcsMTUuNTkwODItMTUuNTkwODJ2LTU3LjQwMTM3DQoJCQkJYzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTcyODUtMTQuMTczODNoOS45MjA5YzIuMzQ4NjMsMCw0LjI1MTk1LDEuOTA0Myw0LjI1MTk1LDQuMjUxOTV2NjcuMzIzMjQNCgkJCQljMCwyNC4yNjU2My0xOS42NzA5LDQzLjkzNzUtNDMuOTM2NTIsNDMuOTM3NXMtNDMuOTM3NS0xOS42NzE4OC00My45Mzc1LTQzLjkzNzVWMTIwMi4wMDA5OEw5ODQuNjMwODYsMTIwMi4wMDA5OHoNCgkJCQkgTTQ2Ni44NjkxNCwxMTk1LjYyMzA1YzMyLjQ4NDM4LDAsNTguODE4MzYsMjYuMzMzOTgsNTguODE4MzYsNTguODE5MzRjMCwzMi40ODQzOC0yNi4zMzM5OCw1OC44MTkzNC01OC44MTgzNiw1OC44MTkzNA0KCQkJCWMtMzIuNDg2MzMsMC01OC44MTkzNC0yNi4zMzQ5Ni01OC44MTkzNC01OC44MTkzNEM0MDguMDQ5OCwxMjIxLjk1NzAzLDQzNC4zODI4MSwxMTk1LjYyMzA1LDQ2Ni44NjkxNCwxMTk1LjYyMzA1DQoJCQkJTDQ2Ni44NjkxNCwxMTk1LjYyMzA1eiBNNDY2Ljg2OTE0LDEyMjUuMDMzMmMtMTYuMjQzMTYsMC0yOS40MTAxNiwxMy4xNjY5OS0yOS40MTAxNiwyOS40MDkxOA0KCQkJCXMxMy4xNjY5OSwyOS40MDgyLDI5LjQxMDE2LDI5LjQwODJjMTYuMjQxMjEsMCwyOS40MDgyLTEzLjE2NjAyLDI5LjQwODItMjkuNDA4MlM0ODMuMTEwMzUsMTIyNS4wMzMyLDQ2Ni44NjkxNCwxMjI1LjAzMzINCgkJCQlMNDY2Ljg2OTE0LDEyMjUuMDMzMnogTTU1Ni43MzI0MiwxMzExLjEzNDc3Yy0yLjM0NzY2LDAtNC4yNTE5NS0xLjkwMjM0LTQuMjUxOTUtNC4yNXYtOTQuOTYxOTENCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzM4My0xNC4xNzM4M2gzLjk1ODk4YzQuNjI1LDAsOC45NTg5OCwyLjI1Njg0LDExLjYxMTMzLDYuMDQ1OWw0MS4xMjIwNyw1OC43NDcwN3YtNTAuNjE5MTQNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2g5LjkyMTg4YzIuMzQ3NjYsMCw0LjI1MTk1LDEuOTA0Myw0LjI1MTk1LDQuMjUxOTV2OTQuOTYwOTQNCgkJCQljMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3MzgzLDE0LjE3Mjg1aC0zLjk1ODk4Yy00LjYyNSwwLTguOTU4OTgtMi4yNTU4Ni0xMS42MTEzMy02LjA0NDkybC00MS4xMjIwNy01OC43NDYwOXY1MC42MTgxNg0KCQkJCWMwLDcuODI5MS02LjM0NTcsMTQuMTcyODUtMTQuMTcyODUsMTQuMTcyODVINTU2LjczMjQyTDU1Ni43MzI0MiwxMzExLjEzNDc3eiBNMTIxNS4wMjA1MSwxMjExLjkyMjg1DQoJCQkJYzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTcyODUtMTQuMTczODNoNTAuMzE1NDNjMi4zNDg2MywwLDQuMjUxOTUsMS45MDQzLDQuMjUxOTUsNC4yNTE5NXY1LjY2OTkyDQoJCQkJYzAsNy44MjcxNS02LjM0NTcsMTQuMTcyODUtMTQuMTcyODUsMTQuMTcyODVoLTYuMDI0NDF2NzUuMTE4MTZjMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3Mjg1LDE0LjE3Mjg1aC05LjkyMTg4DQoJCQkJYy0yLjM0ODYzLDAtNC4yNTE5NS0xLjkwMjM0LTQuMjUxOTUtNC4yNXYtODUuMDQxMDJoLTE1Ljk0NDM0Yy0yLjM0ODYzLDAtNC4yNTE5NS0xLjkwMzMyLTQuMjUxOTUtNC4yNTE5NVYxMjExLjkyMjg1DQoJCQkJTDEyMTUuMDIwNTEsMTIxMS45MjI4NXogTTc3Ni40NDkyMiwxMjExLjkyMjg1YzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTczODMtMTQuMTczODNoNTAuMzE0NDUNCgkJCQljMi4zNDk2MSwwLDQuMjUxOTUsMS45MDQzLDQuMjUxOTUsNC4yNTE5NXY1LjY2OTkyYzAsNy44MjcxNS02LjM0NTcsMTQuMTcyODUtMTQuMTcxODgsMTQuMTcyODVoLTYuMDI1Mzl2NzUuMTE4MTYNCgkJCQljMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3Mjg1LDE0LjE3Mjg1aC05LjkyMDljLTIuMzQ5NjEsMC00LjI1MTk1LTEuOTAyMzQtNC4yNTE5NS00LjI1di04NS4wNDEwMmgtMTUuOTQ1MzENCgkJCQljLTIuMzQ3NjYsMC00LjI1MTk1LTEuOTAzMzItNC4yNTE5NS00LjI1MTk1VjEyMTEuOTIyODVMNzc2LjQ0OTIyLDEyMTEuOTIyODV6IE05MjkuNjA0NDksMTI3Mi4wMjI0NmwyNi45NTgwMSwzMi4xMjc5Mw0KCQkJCWMyLjMxNDQ1LDIuNzU3ODEsMC4zNDM3NSw2Ljk4NDM4LTMuMjU2ODQsNi45ODQzOGgtMTkuNzA1MDhjLTQuMTg5NDUsMC04LjE2NTA0LTEuODUxNTYtMTAuODU3NDItNS4wNjA1NWwtMjIuNjgxNjQtMjcuMDMxMjUNCgkJCQl2MjcuODQxOGMwLDIuMzQ3NjYtMS45MDMzMiw0LjI1LTQuMjUxOTUsNC4yNWgtOS45MjA5Yy03LjgyNzE1LDAtMTQuMTcyODUtNi4zNDM3NS0xNC4xNzI4NS0xNC4xNzI4NXYtODUuMDM5MDYNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2gyOS43NjM2N2MyMi43MDAyLDAsNDEuMTAyNTQsMTcuMTMzNzksNDEuMTAyNTQsMzguMjY4NTUNCgkJCQlDOTU2Ljc1NDg4LDEyNTIuNTkwODIsOTQ1LjQzNjUyLDEyNjYuNzAyMTUsOTI5LjYwNDQ5LDEyNzIuMDIyNDZMOTI5LjYwNDQ5LDEyNzIuMDIyNDZ6IE05MDAuMDYxNTIsMTIyMS44NDM3NXYzMi41OTg2M2g4LjUwMzkxDQoJCQkJYzEwLjk1ODk4LDAsMTkuODQyNzctNy4yOTc4NSwxOS44NDI3Ny0xNi4yOTg4M2MwLTkuMDAxOTUtOC44ODM3OS0xNi4yOTk4LTE5Ljg0Mjc3LTE2LjI5OThIOTAwLjA2MTUyTDkwMC4wNjE1MiwxMjIxLjg0Mzc1eg0KCQkJCSBNMTE1OC4zNTkzOCwxMTk1LjYyMzA1YzExLjM4NDc3LDAsMjIuMDEyNywzLjIzNzMsMzEuMDE3NTgsOC44Mzc4OWMxLjk0NzI3LDEuMjEwOTQsMi41ODQ5NiwzLjc0OTAyLDEuNDM4NDgsNS43MzQzOA0KCQkJCWwtNC45MzI2Miw4LjU0MTk5Yy0zLjI3ODMyLDUuNjc5NjktMTAuMDMzMiw4LjM3Njk1LTE2LjMxNzM4LDYuNTAwOThjLTIuNzY0NjUtMC44MjUyLTUuNjkzMzYtMS4yNjg1NS04LjcyNTU5LTEuMjY4NTUNCgkJCQljLTE2LjgyOTEsMC0zMC40NzI2NiwxMy42NDM1NS0zMC40NzI2NiwzMC40NzI2NmMwLDE2LjgyODEzLDEzLjY0MzU1LDMwLjQ3MjY2LDMwLjQ3MjY2LDMwLjQ3MjY2DQoJCQkJYzMuMDMyMjMsMCw1Ljk2MDk0LTAuNDQzMzYsOC43MjU1OS0xLjI2ODU1YzYuMjk1OS0xLjg3OTg4LDEzLjAzMzIsMC44MTE1MiwxNi4zMTgzNiw2LjUwMDk4bDQuOTMwNjYsOC41NDE5OQ0KCQkJCWMxLjE0NzQ2LDEuOTg4MjgsMC41MTA3NCw0LjUyMzQ0LTEuNDM3NSw1LjczNDM4Yy05LjAwNDg4LDUuNjAxNTYtMTkuNjMyODEsOC44Mzc4OS0zMS4wMTc1OCw4LjgzNzg5DQoJCQkJYy0zMi40ODUzNSwwLTU4LjgxOTM0LTI2LjMzNDk2LTU4LjgxOTM0LTU4LjgxOTM0QzEwOTkuNTQwMDQsMTIyMS45NTcwMywxMTI1Ljg3NDAyLDExOTUuNjIzMDUsMTE1OC4zNTkzOCwxMTk1LjYyMzA1eiIvPg0KCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMwMEZGREEiIGQ9Ik0xMzE4LjE5NzI3LDEyMDYuMDMyMjMNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2MyMC42NTYyNSwwLDQxLjMxMjUsMCw2MS45Njg3NSwwYzMuNDI5NjksMCw1LjQ1MDIsMy44ODA4NiwzLjQ4MzQsNi42OTA0Mw0KCQkJCWwtMTkuMjk2ODgsMjcuNTY3MzhjMTUuNTQyOTcsOC4zNzU5OCwyNi4xMDY0NSwyNC44MDA3OCwyNi4xMDY0NSw0My42OTUzMWMwLDI3LjM5NzQ2LTIyLjIwODk4LDQ5LjYwNjQ1LTQ5LjYwNjQ1LDQ5LjYwNjQ1DQoJCQkJYy0xNi42ODg0OCwwLTMxLjQ1MTE3LTguMjQwMjMtNDAuNDQzMzYtMjAuODc1OThjLTEuNDUwMi0yLjAzOTA2LTAuODMxMDUtNC44OTk0MSwxLjMzNTk0LTYuMTUyMzRsMTAuOTc3NTQtNi4zMzc4OQ0KCQkJCWM0Ljg4MTg0LTIuODE4MzYsMTAuOTc5NDktMi40NzU1OSwxNS41MTQ2NSwwLjg3MzA1YzMuNTI4MzIsMi42MDU0Nyw3Ljg5MTYsNC4xNDY0OCwxMi42MTUyMyw0LjE0NjQ4DQoJCQkJYzExLjc0MjE5LDAsMjEuMjU5NzctOS41MTg1NSwyMS4yNTk3Ny0yMS4yNTk3N3MtOS41MTc1OC0yMS4yNTk3Ny0yMS4yNTk3Ny0yMS4yNTk3N2gtMTUuMjE3NzcNCgkJCQljLTMuNDI5NjksMC01LjQ1MDItMy44ODA4Ni0zLjQ4NDM4LTYuNjkwNDNsMTguMTM1NzQtMjUuOTA4MmgtMzIuMDA5NzdjLTIuMzQ4NjMsMC00LjI1MTk1LTEuOTAzMzItNC4yNTE5NS00LjI1MTk1VjEyMDYuMDMyMjN6DQoJCQkJIi8+DQoJCTwvZz4NCgkJPGc+DQoJCQk8Zz4NCgkJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0RBRThGNyIgZD0iTTg1MC4zOTU1MSw4NTcuNTkxOA0KCQkJCQljLTUwLjM1NjQ1LDAtOTQuMzI1Mi0yNy4zNTY0NS0xMTcuODUyNTQtNjguMDIwNTFsLTgwLjAzMDI3LDQ2LjIwNDFjLTQuNjU1MjcsMi42ODk0NS02LjEzMTg0LDguNzE4NzUtMy4yNDkwMiwxMy4yNTU4Ng0KCQkJCQljNDIuMjM3Myw2Ni40ODYzMywxMTYuNTMzMiwxMTAuNjA3NDIsMjAxLjEzMTg0LDExMC42MDc0MmM4OC4xMjU5OCwwLDE2NS4wNzEyOS00Ny44NzUsMjA2LjI0MzE2LTExOS4wMzYxM2wtODAuNDg3My00Ni40Njk3Mw0KCQkJCQljLTQuMzEzNDgtMi40OTAyMy05LjgwMTc2LTEuMjA1MDgtMTIuNTcwMzEsMi45MzU1NUM5MzkuMTc1NzgsODMzLjU2MjUsODk3LjU5MTgsODU3LjU5MTgsODUwLjM5NTUxLDg1Ny41OTE4DQoJCQkJCUw4NTAuMzk1NTEsODU3LjU5MTh6IE0xMTM2LjcyMTY4LDU1Ni4yMTc3N2M0LjYxNDI2LTIuNjYzMDksNi4xMTAzNS04LjYxOTE0LDMuMzEyNS0xMy4xNTEzNw0KCQkJCQljLTU5LjkxNTA0LTk3LjAzMDI3LTE2Ny4yMjQ2MS0xNjEuNjk0MzQtMjg5LjYzODY3LTE2MS42OTQzNGMtMTI1Ljg5MzU1LDAtMjM1LjgxMzQ4LDY4LjM5MjU4LTI5NC42MzM3OSwxNzAuMDQ5OA0KCQkJCQlsODAuMzc2OTUsNDYuNDA2MjVjNC4zOTc0NiwyLjUzOTA2LDEwLjAwMTk1LDEuMTQ5NDEsMTIuNzEwOTQtMy4xNDU1MQ0KCQkJCQljNDIuMTY0MDYtNjYuODUxNTYsMTE2LjY2ODk1LTExMS4yNjM2NywyMDEuNTQ1OS0xMTEuMjYzNjdjODguMTI1OTgsMCwxNjUuMDcxMjksNDcuODc1OTgsMjA2LjI0MzE2LDExOS4wMzYxMw0KCQkJCQlMMTEzNi43MjE2OCw1NTYuMjE3Nzd6Ii8+DQoJCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNBNUJBQzgiIGQ9Ik04NTAuMzk1NTEsOTU5LjYzODY3DQoJCQkJCWMtODQuNTk4NjMsMC0xNTguODk0NTMtNDQuMTIxMDktMjAxLjEzMTg0LTExMC42MDc0MmMtMi44NzY5NS00LjUzMDI3LTEuMzk5NDEtMTAuNTcwMzEsMy4yNDkwMi0xMy4yNTU4Nmw4MC4wMzAyNy00Ni4yMDQxDQoJCQkJCWMtMTEuNTgxMDUtMjAuMDE2Ni0xOC4yMDk5Ni00My4yNTQ4OC0xOC4yMDk5Ni02OC4wNDE5OWMwLTc0Ljc4NTE2LDYwLjU1NzYyLTEzNi4wNjI1LDEzNi4wNjI1LTEzNi4wNjI1DQoJCQkJCWM0Ny4xOTYyOSwwLDg4Ljc4MDI3LDI0LjAyOTMsMTEzLjE4NTU1LDYwLjUyMjQ2YzIuNzY0NjUsNC4xMzM3OSw4LjI2MzY3LDUuNDIxODgsMTIuNTcwMzEsMi45MzU1NWw4MC40ODczLTQ2LjQ2OTczDQoJCQkJCWMtNDEuMTcxODgtNzEuMTYwMTYtMTE4LjExNzE5LTExOS4wMzYxMy0yMDYuMjQzMTYtMTE5LjAzNjEzYy04NC44NzY5NSwwLTE1OS4zODE4NCw0NC40MTIxMS0yMDEuNTQ1OSwxMTEuMjYzNjcNCgkJCQkJYy0yLjcwNjA1LDQuMjkxMDItOC4zMTgzNiw1LjY4MTY0LTEyLjcxMDk0LDMuMTQ1NTFsLTgwLjM3Njk1LTQ2LjQwNjI1DQoJCQkJCWMtMjguOTUyMTUsNTAuMDQwMDQtNDUuNTIzNDQsMTA4LjEzOTY1LTQ1LjUyMzQ0LDE3MC4xMDc0MmMwLDE4Ni45NjM4NywxNTEuMzk0NTMsMzQwLjE1NzIzLDM0MC4xNTcyMywzNDAuMTU3MjMNCgkJCQkJYzEyMi40MTQwNiwwLDIyOS43MjM2My02NC42NjQwNiwyODkuNjM4NjctMTYxLjY5NTMxYzIuNzk0OTItNC41MjYzNywxLjI5NDkyLTEwLjQ5MDIzLTMuMzEyNS0xMy4xNTEzN2wtODAuMDgzMDEtNDYuMjM3Mw0KCQkJCQlDMTAxNS40NjY4LDkxMS43NjM2Nyw5MzguNTIxNDgsOTU5LjYzODY3LDg1MC4zOTU1MSw5NTkuNjM4Njd6Ii8+DQoJCQk8L2c+DQoJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzAwRkZEQSIgZD0iTTExMzcuMTg1NTUsNzU4LjExMzI4di03My4xNjc5N2wtNjMuMzY1MjMsMzYuNTgzOTgNCgkJCQlMMTEzNy4xODU1NSw3NTguMTEzMjhMMTEzNy4xODU1NSw3NTguMTEzMjh6IE0xMDI2LjU3NjE3LDcwNS4xNjQwNmwxMjAuMDU4NTktNjkuMzE2NDENCgkJCQljMTIuNTY4MzYtNy4yNTU4NiwyOC4zNDQ3MywxLjg1MjU0LDI4LjM0NTcsMTYuMzY2MjF2MTM4LjYzMDg2Yy0wLjAwMDk4LDE0LjUxMjctMTUuNzc3MzQsMjMuNjIyMDctMjguMzQ1NywxNi4zNjYyMQ0KCQkJCWwtMTIwLjA1ODU5LTY5LjMxNjQxQzEwMTQuMDI4MzIsNzMwLjY0OTQxLDEwMTQuMDI4MzIsNzEyLjQwOTE4LDEwMjYuNTc2MTcsNzA1LjE2NDA2eiIvPg0KCQk8L2c+DQoJPC9nPg0KPC9nPg0KPC9zdmc+DQo=").then((t=>{"done"===this.Ujt?s.nI(t):this.Rjt.Pjt=t})).catch((t=>console.warn("Failed to load splash image: ",t))),this.xBt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABABAMAAACekdKMAAAAMFBMVEUAAAByfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYYgo7vbAAAAD3RSTlMAmd137hFVqjO7zCKIRGZ881JRAAAFZklEQVR42u2aO68SQRTHR3leQeI3wMRo7CDGZyyg0MTEYlFbEylMLC+JsQYfvTZWFpgYKwuImlhqYiyNfgOsbRBYefn4O+ecGdgF0caEMbv/5N6BYRY4vzNzzplZVKxYsWLFihUrViwHVcIBJdoDqAjqvwGwF6LJ6YgDAI5EHQBuRR3AvBZNAENu73pAI8oAVB74GWkA6gOG0QawF2hFGkACKEcaQA7yna804Z9UG5U6A9ys2SfH8Y2vaWNyQrfm8aC8AiBdgX9aOSkGIBIAl6Qq4pcm3L8r6SELfNQmF6E1oI4iDu4CP+w1xuIEtPx6CEC2A61HSvX1lSwPB5UbCgIgQ/d7YDXIFN9Ex/PUyNM7YD1jAEfAALIlqSO6SqsN0igEoAfSsKWS5i3303JzQ6tLoAfRjF3eEm+NqclgovsMn2GNAJwTAPcgOsyjjIIAFq/ngbrJuS3lhpYA0uSVnAecVYU28EZbzm7Kmhl/jeqEl8ATlauweUXtdD1AX0PtCxlWoQGpYysARl11g17Pmu69mCtHtASwA9Tp30P9uMCeLeKBeMuXUPBVqSZbmSvhGwN4w1NDrHoOdFXKM/EhBGBGQbNPMaSDKvXdx0g5oiWAXbKzZ1zTx9CYrPZB5u0HPFb7Tb38kswsmiDZkzbnaZsTZkAmBOApxxDqqshyqmiAjmgBoADyStt8swy56xrG7K0Se7qDsu72a4uAWDRjmzpIilVVTcvvcn70ggA+Smmgx72WCdLRMB2RBfCiQ0EqZR2Xo+m9g+9s13VtGb3U0kiox8THIr6wrSA+TGqq/wabCiH2/g4vp5w7SSC4HfZbKs2z3fooweuh42cwpRjp06KY2jxetgDSNqInMdIDxhsAyMIv8AckgJpyRAEARzng1ezW6KvK0rMUBmnye57+VfDF2vdGALA19q2+6wFfNwJIYmCm2A5myhUtAYx46duQ2Cdfd1DX9o1T3pxi4ZiDu9UBBiAGWg10X3UjgH1kdhNVyaiuyAKYnZRUaPNzj/LgBw4EVdXk5X+eYuQ6gJ0wgIMbAIjfZY309TxxRTYILr5jEMAuqtrwhm7LtCMIAXiwDkBf3PwzAFkHelRDuaI/Akhiqr1V1xAe69lQ/juAv8+APHzKkXXligIA1mNABiPtrZpuv6kOutp1gfxtAWQCZe0fY8Bes8Gop+E7kwRCAFazgCpgkvIm1I5SmHNvdQWA+NTqb1lAXtijHzijMIBCoA44SDWOn8ZPamdpUxRN1wAkAju7v9UBUi8m9SBnFAaQC1aCjOE2u7SJq5iKDWsAssGyTkrFzZWgUq8x7qGqnFEYgN0L2AK+guN4wO1nVHm03w0BEFsvKqt98Gub9wJVDoUDyq7OaAVA30S0Xem+Dw9ldmwbDZnuEgWfl5cAKuaa3CG1YTd42O4GufFLmogzWgGwD3go9f1Y4hbQZbdJcEiV5OAr7U2WAC4Dz6i9job2vKyBZhCAXNOXt0oB+iPdURiAPRFqGkfmgbnxHmoyJfD9o0q0MWwtAGQBvFfqDO8m+r8/EWrJiZCw0YzcURhA6ExQZsKIl7TtKMDogswAVn+5nbQ7gxCAIUSHzerCVLmjMIDQqbAYPjXBcWTznD3hFQCCSXRUHEwatQMAZkJ12DXlgDunIWEAolfBX0tI6RcsAHJi4DvJAqFrvtcWc8SvFwMABnJf4JZ57tBpyBqAtTtDFZOxXi9uZKROaVPLwTQo1+CtfdyhO0MhAKE7Q/spGEZZWXeOxLejvDtH4ttR0qHTkK2ojwcq0urgk4qyEi6dhmxB6Wa0YyAAZ34asRUB8F35ZcBWxDuGKKuIJypWrFixYsX6B/oFRYsi2zOzWJcAAAAASUVORK5CYII=").then((t=>{"done"===this.Ujt?s.nI(t):this.Rjt.kjt=t})).catch((t=>console.warn("Failed to load splash image: ",t))),this.xBt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABABAMAAACekdKMAAAAMFBMVEUAAAByfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYYgo7vbAAAAD3RSTlMAdxHdu4hmVZnuRMwzqiLYE4y2AAAFw0lEQVR42u2Yy+9LQRTHp6Xq0VIkXkFvwkYslAWJiGJj2a6sJJe/oF3YWGElEQmxkYi4ErFWNpatWFmIx9Lm1sJCLKgqraqv82h726l6hOuRzDf53TtnOr+ZOZ+ZOffca5ycnJycnJycnJycnJycnJz+pi7g2G9osxjvzX8qB8ABcAAcgH8XwDa85dspNOiaRDuAR4U0PnHtDuyy7IJRJS6gvVmL6TywVkp4ZxIhulUxFvlaXQTrgEHbnMDH5XRjlXCdb+uAnc2ojWgFFTYBZ8e9tzcaswAk6v/3K4sPfPNRFj87IXj+KXQUS9m2jXoH1lMuLq2DtEcAtNMBT9PjanFq7ySAhbABVEAaeDaAwkk2D7GRqctAMQJIq2sBauLnB/VxCfqKpWrbRhSC1W5SMQ9RTgBUwKpF1ccmAIQ2gCxE+20Au9nSESvDgeIDkJSBMpA9vgyXdsj0H0GORL3n2fbwPOKoSQS4Q2cBOGzSJbQYAHDbZEI+rEuBcyZRlF71fIP/x0wBuIBOw6xH3xu2GQFAP2cegmvSwHkeqBZjECzB46UXD3bg8UKJCT6QYzgDY9uiU7hC11doERq6MAZ2CPJ7ipEulOrteDcB4KOZBpBG7zrV1JGzATzmIdnrl/go3bRiBJBHlZc+6ItjuQQ+yFLz8Gka2LZFRVTFGdoQJQ0LPodHnXkS8AjlRWkBLwKQswAs0PDzGpcsAAMNuG+5WgdqxwjgEcp8qcBjN5oZdPhEvOfhU/hsbJuVloWV6WWgp2IBLxXQNEwLDfKqoMXrEQBjATiFA3qePlgAZJRl+EStdaAQjfgALOC1zfeX8ALV+7S69JdALWjxHGqztmxyMnTD6OOBWvAdGDkn60c6vrI5H4CPnOJsWQDe8G0hIU0MB8ojFx+AFAeqeitLy5FkL3w0yNNcSOx3oDxjjxaH9XxldZluY5NBfwrAQvQbRjQXAO8UqVq5dh6A7HCgWzgdFwBdgOX4lMZbTndkWWkDN07Bk+zItllLdHm1+FkLwBSADNDf8B0AnGOp5gFYgJEexwcgGQx4iyeD9ybFkWsbDZbv0+2Y8XvGtqMpWsUimpMAzA1AUrj5ALjm2wCoONKB+ACYsEeDlU04MMs4imeJQqljslSuD4xl/zgAsx6ku/8DgDwaO9AwFU56qhzOPiXpKCzCpSSdb8v+CQDmXshb99cARAPFCOA1chWaFXlP55yn2FqEgiFvOSzYtmiJzisKB7MxQPS8iO63YsD3AHDv8QPgjR92eKuf9vts1wdZjvZhN4XajD35FNDiR7ln0LYBaILY+OZT4DsA+BkTP4AUrgXkxSJcDFps+72X7EGlx6mBbU/lAbdQjvKA7hSAlSuHxdw0gORsHrAUnXkAUuj+AQAZdHGRp9bShX2ECz1JRSk4zNhRJqj5SZQJfpgCUNS2eRsAP/usTDAxPxFKA834AZgAOM1z6qGgxxpdmUDQNjP25LtAsojxu0AehSkAF6RLXWR/EkAdVYEevQtswVtpMwuAB1JGh2jbxQcgBKrig/qSxTD6o2Nm7fttSY6uUnErV+jb4CJyaArAI5luJkCDOy5HAPISSB5A3wYbhJERahvtPALAAw2EI9Vzsh2TTuk23qEceN9d4vVVv227hNroe0CRi/o9IKTZTQFIAc/M8jwGEiouG2/042u8u25uAuPvAavRH7XhzqcBpICdRpssRa+aNLFoh2JeyBzU08fih/ht20WZXghW34s+/ZQnAKhzojsSH4CC/sjARPKamLXacOfTAIwfNSkCbROLluG9Tm2gdl3PY178tu2SBIpFQ6fHH//2GAvAogCkjtGDEAFQYPsu6DdBqw11bgFIF8dNHsQGIEFRSDOe0RS9YYJk23JMrw+/Cr9bFX0VXmNsACbhA088qXhBrMYAlq8Gjhh//FX4YNSGO7cASO9n9B99AuHk5OTk5OTk5OTk5OTk5OTk5OT0VX0B7+fX+9cwWYYAAAAASUVORK5CYII=").then((t=>{"done"===this.Ujt?s.nI(t):this.Rjt.Fjt=t})).catch((t=>console.warn("Failed to load splash image: ",t))))}async vBt(t){t=new URL(t,this.kc.IBt()).toString();const s=await ZM.eo(t),i=await this.kc.GBt(s,2048,2048);return await this.lb().BL(i,{Jv:"high"})}async xBt(t){t=new URL(t,this.kc.IBt()).toString();const s=await ZM.eo(t);return await this.lb().BL(s,{Jv:"high"})}CBt(){this.kc.zc("runtime","hide-cordova-splash")}_Bt(){this.Ejt=Date.now(),this.kc.yf().addEventListener("loadingprogress",this.Ljt),this.Djt=requestAnimationFrame((()=>this.ABt())),3!==this.kc.EBt()&&this.CBt()}async DBt(){const t=this.lb();this.Njt=1;const s=this.kc.EBt();4===s&&await this.Vjt,this.Wjt=null,this.Vjt=null,-1!==this.Djt&&(cancelAnimationFrame(this.Djt),this.Djt=-1),this.kc.yf().removeEventListener("loadingprogress",this.Ljt),this.Ljt=null,this.Ojt&&(this.Ojt.Yn(),this.Ojt=null),this.kc.NBt(),t.DL(),this.Rjt.Pjt&&(t.nI(this.Rjt.Pjt),this.Rjt.Pjt=null),this.Rjt.kjt&&(t.nI(this.Rjt.kjt),this.Rjt.kjt=null),this.Rjt.Fjt&&(t.nI(this.Rjt.Fjt),this.Rjt.Fjt=null),t.EL(0,0,0,0),t._T(),this.Ujt="done",this.gjt=t.ET(),3===s&&this.CBt()}ABt(){if(-1===this.Djt)return;const t=this.lb();t.DL(),this.Djt=-1;const s=this.kc.nk().JZ(),i=this.kc.EBt();if(3!==i&&(this.eBt(t),t.EL(0,0,0,0),t.iL(),t.aS(),t.nL(null)),0===i)this.LBt(s);else if(1===i)this.OBt(s,120,0);else if(2===i)this.RBt(s);else if(3===i)ZM.mh();else{if(4!==i)throw new Error("invalid loader style");this.PBt(s)}t._T(),this.Djt=requestAnimationFrame((()=>this.ABt()))}RBt(t){t?this.Ojt.dE(1,0,0):this.Ojt.dE(.6,.6,.6),this.Ojt.Bc(Math.round(100*this.Njt)+"%");const s=this.QFt/2,i=this.JFt/2;eS.Pu(s-150,i-100,s+150,i+100);const e=this.lb();e.nL(this.Ojt.lI()),e.$S(eS,this.Ojt.tD())}OBt(t,s,i){const e=this.lb();e.pS(),t?e.tL(1,0,0,1):e.tL(.118,.565,1,1);const n=this.QFt/2,r=this.JFt/2,h=s/2;nS.Wa(n-h,r-4+i,Math.floor(s*this.Njt),8),e.Rect(nS),nS.Wa(n-h,r-4+i,s,8),nS.offset(-.5,-.5),nS.lu(.5,.5),e.tL(0,0,0,1),e.nT(nS),nS.lu(1,1),e.tL(1,1,1,1),e.nT(nS)}LBt(t){const s=this.lb(),i=this.kc.bBt();if(!i)return void this.OBt(t,120,0);const e=i.lI();if(!e)return void this.OBt(t,120,0);const n=e.Bg(),r=e.Zg(),h=this.QFt/2,o=this.JFt/2,a=n/2,u=r/2;eS.Pu(h-a,o-u,h+a,o+u),s.nL(e),s.Cu(eS),this.OBt(t,n,u+16)}PBt(t){const s=this.lb(),i=this.Rjt.Pjt,e=this.Rjt.kjt,n=this.Rjt.Fjt,r=Date.now();0===this.jjt&&(this.Ejt=r);const h=this.kc.kBt()||this.kc.FBt()&&!this.kc.jBt(),o=h?0:200,a=h?0:3e3;let u=1;"fade-in"===this.Ujt?u=Math.min((r-this.Ejt)/300,1):"fade-out"===this.Ujt&&(u=Math.max(1-(r-this.Bjt)/300,0)),s.pS(),s.tL(.231*u,.251*u,.271*u,u),nS.set(0,0,this.QFt,this.JFt),s.Rect(nS);const l=Math.ceil(this.QFt),c=Math.ceil(this.JFt);let f,d;this.JFt>256?(s.tL(.302*u,.334*u,.365*u,u),f=l,d=Math.max(.005*c,2),nS.Wa(0,.8*c-d/2,f,d),s.Rect(nS),t?s.tL(u,0,0,u):s.tL(.161*u,.953*u,.816*u,u),f=l*this.Njt,nS.Wa(.5*l-f/2,.8*c-d/2,f,d),s.Rect(nS),s.tL(u,u,u,u),s.aS(),e&&(f=1.5*ZM.Xn(.22*c,105,.6*l),d=f/8,nS.Wa(.5*l-f/2,.2*c-d/2,f,d),s.nL(e),s.Rect(nS)),i&&(f=Math.min(.395*c,.95*l),d=f,nS.Wa(.5*l-f/2,.485*c-d/2,f,d),s.nL(i),s.Rect(nS)),n&&(f=1.5*ZM.Xn(.22*c,105,.6*l),d=f/8,nS.Wa(.5*l-f/2,.868*c-d/2,f,d),s.nL(n),s.Rect(nS))):(s.tL(.302*u,.334*u,.365*u,u),f=l,d=Math.max(.005*c,2),nS.Wa(0,.85*c-d/2,f,d),s.Rect(nS),t?s.tL(u,0,0,u):s.tL(.161*u,.953*u,.816*u,u),f=l*this.Njt,nS.Wa(.5*l-f/2,.85*c-d/2,f,d),s.Rect(nS),s.tL(u,u,u,u),s.aS(),i&&(f=.55*c,d=f,nS.Wa(.5*l-f/2,.45*c-d/2,f,d),s.nL(i),s.Rect(nS))),this.jjt++,"fade-in"===this.Ujt&&r-this.Ejt>=300&&this.jjt>=2&&(this.Ujt="wait",this.zjt=r),"wait"===this.Ujt&&r-this.zjt>=a&&this.Njt>=1&&(this.Ujt="fade-out",this.Bjt=r),("fade-out"===this.Ujt&&r-this.Bjt>=300+o||h&&this.Njt>=1&&r-this.Ejt<500)&&this.Wjt()}}}{const rS=self.Gs,hS=self.NV,oS=(self.assert,self.nq),aS={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,exportType:""};let uS=!0;rS.zBt=class extends rS.Un{constructor(t){t=Object.assign({},aS,t),super(),this.BBt=t.messagePort,this.UBt=t.runtimeBaseUrl,this.WBt=t.previewUrl,this.VBt=!!t.headless,this.YBt=!!t.hasDom,this.QBt=!!t.isInWorker,uS=t.ife,this.JBt=!!t.useAudio,this.HBt=t.exportType,this.qBt=t.isNWjs,this.JX=!!t.isiOSCordova,this.XBt=!!t.isiOSWebView,this.ZBt=!!t.isWindowsWebView2,this.KBt=!!t.isAnyWebView2Wrapper,this.$Bt=!!t.isFBInstantAvailable,this.tUt=!("preview"!==this.HBt||!t.isDebug),this.sUt=this.tUt,this.iUt=this.tUt,this.eUt=0,this.nUt=[],this.rUt=[],this.hUt=!1,this.oUt="",this.aUt="",this.uUt="",this.lUt="",this.cUt=0,this.fUt=0,this.dUt=0,this.MR=self.devicePixelRatio,this.pUt=0,this.mUt=0,this.gUt=0,this.yUt=0,this.wUt=0,this.MUt=!1,this.yw=!0,this.SUt=!1,this.TUt=!1,this.bUt=!1,this.vUt=null,this.cK=rS.Vn(rS.WX,this,t),this.I3=rS.Vn(rS.V5,this),this.cpt=rS.Vn(rS.amt,this),this.xUt=rS.Vn(rS.Vz,this,t.wrapperComponentIds),this.IUt=rS.Vn(rS.xkt,this),this.S9=rS.Vn(rS.n6,this),this.GUt=rS.Vn(rS.Dlt,this),this.CUt=rS.Vn(rS.Llt,this),this.Jlt=rS.Vn(rS.Blt,this),this.fw=rS.Vn(rS.$y,{iw:t=>this._Ut(t),rw:t=>this.AUt(t)}),this.EUt=new Map,this.DUt=[],this.NUt=new Map,this.LUt=new Map,this.OUt=0,this.RUt=[],this.PUt=new Set,this.kUt=[],this.FUt=[],this.jUt=new Map,this.zUt=!1,this.BUt=!1,this.UUt=0,this.WUt=0,this.VUt=new Map,this.YUt=new Set,this.QUt=new Set,this.JUt=[],this.HUt=[],this.qUt=null,this.XUt=!1,this.ZUt="vsync",this.sx="trilinear",this.KUt=!1,this.$Ut=!0,this.tWt=!1,this.sWt=!1,this.iWt=null,this.eWt={nWt:t=>{this.Djt=-1,this.rWt=-1,this._8(t)},hWt:t=>{this.rWt=-1,this._8(t,!1,"skip-render")},oWt:()=>{this.Djt=-1,this.UR()}},this.Djt=-1,this.rWt=-1,this.aWt=0,this.uWt=0,this.lWt=!1,this.cWt=!1,this.fWt=!1,this.dWt=!0,this.pWt=!0,this.mWt=!1,this.gWt=0,this.yWt=new rS.Wd(1),this.wWt=()=>Math.random(),this.MWt=0,this.SWt=0,this.TWt=0,this.bWt=0,this.vWt=0,this.KNt=1,this.xWt=1/30,this.IWt=0,this.GWt=rS.Vn(rS.Kf),this.CWt=rS.Vn(rS.Kf),this._Wt=rS.Vn(rS.Kf),this.AWt=new Map,this.EWt=-1,this.DWt=0,this.NWt=0,this.LWt=-1,this.OWt=0,this.RWt=0,this.PWt=0,this.kWt=!1,this.FWt="",this.jWt=!1,this.zWt="",this.zV=null,this.BWt="",this.UWt=null,this.WWt=null,this.tDt=rS.Vn(rS.Event.yf),this.VWt=new Map,this.YWt=new Map,this.QWt=0,this.JWt=!1,this.HWt=!1,this.qWt=!1,this.XWt=[],this.ZWt={pretick:rS.Vn(rS.Event,"pretick",!1),tick:rS.Vn(rS.Event,"tick",!1),tick2:rS.Vn(rS.Event,"tick2",!1),instancecreate:rS.Vn(rS.Event,"instancecreate",!1),instancedestroy:rS.Vn(rS.Event,"instancedestroy",!1),beforelayoutchange:rS.Vn(rS.Event,"beforelayoutchange",!1),layoutchange:rS.Vn(rS.Event,"layoutchange",!1)},this.ZWt.instancecreate.BQ=null,this.ZWt.instancedestroy.BQ=null,this.n4=rS.Vn(rS.Event.yf),this.KWt=null;const s=(t,s)=>rS.XNt.YPt(this,t,s);this.$Wt=rS.Vn(rS.ad,s),this.tVt=rS.Vn(rS.ad,s),this.sVt=rS.Vn(rS.ad,s),this.iVt=rS.Vn(rS.eVt,this,t.jobScheduler),t.canvas&&(this.qUt=rS.Vn(rS.OFt,this)),this.BBt.onmessage=t=>this._OnMessageFromDOM(t.data),this.GV("runtime","visibilitychange",(t=>this.nVt(t))),this.GV("runtime","wrapper-extension-message",(t=>this.rVt(t))),this.GV("runtime","get-remote-preview-status-info",(()=>this.hVt())),this.GV("runtime","js-invoke-function",(t=>this.Pmt(t))),this.GV("runtime","go-to-last-error-script",self.goToLastErrorScript),this.GV("runtime","offline-audio-render-completed",(t=>this.oVt(t))),this.tDt.addEventListener("window-blur",(t=>this.aVt(t))),this.tDt.addEventListener("window-focus",(()=>this.uVt())),this.S9.k6(),this.CUt.k6(),this.lVt=null,this.cVt=new WeakMap,this.fVt={keyboard:null,$F:null,tj:null,sj:null},this.dVt=new WeakMap,this.pVt=[]}static EI(t){return rS.Vn(rS.zBt,t)}Yn(){rS.Mh(this.DUt),this.NUt.clear(),this.LUt.clear(),this.I3.Yn(),this.I3=null,this.cpt.Yn(),this.cpt=null,this.xUt.Yn(),this.xUt=null,this.cK.Yn(),this.cK=null,this.IUt.Yn(),this.IUt=null,this.S9.Yn(),this.S9=null,this.GUt.Yn(),this.GUt=null,this.CUt.Yn(),this.CUt=null,this.Jlt.Yn(),this.Jlt=null,this.fw.Yn(),this.fw=null,this.qUt&&(this.qUt.Yn(),this.qUt=null),this.tDt.Yn(),this.tDt=null,this.mVt=null}_OnMessageFromDOM(t){const s=t.type;if("event"===s)this.gVt(t);else{if("result"!==s)throw new Error(`unknown message '${s}'`);this.yVt(t)}}gVt(t){if(!this.qWt)return void this.XWt.push(t);const s=t.component,i=t.handler,e=t.data,n=t.dispatchOpts,r=!(!n||!n.dispatchRuntimeEvent),h=!(!n||!n.dispatchUserScriptEvent),o=t.responseId;if("runtime"===s){if(r){const t=new rS.Event(i);t.data=e,this.tDt.Cf(t)}if(h){const t=new rS.Event(i,!0);for(const[s,i]of Object.entries(e))t[s]=i;this.HZ(t)}}const a=this.VWt.get(s);if(!a)return void(r||h||console.warn(`[Runtime] No DOM event handlers for component '${s}'`));const u=a.get(i);if(!u)return void(r||h||console.warn(`[Runtime] No DOM handler '${i}' for component '${s}'`));let l=null;try{l=u(e)}catch(t){return console.error(`Exception in '${s}' handler '${i}':`,t),void(null!==o&&this.wVt(o,!1,""+t))}null!==o&&(l&&l.then?l.then((t=>this.wVt(o,!0,t))).catch((t=>{console.error(`Rejection from '${s}' handler '${i}':`,t),this.wVt(o,!1,""+t)})):this.wVt(o,!0,l))}wVt(t,s,i){this.BBt.postMessage({type:"result",responseId:t,isOk:s,result:i})}yVt(t){const s=t.responseId,i=t.isOk,e=t.result,n=this.YWt.get(s);i?n.resolve(e):n.reject(e),this.YWt.delete(s)}GV(t,s,i){let e=this.VWt.get(t);if(e||(e=new Map,this.VWt.set(t,e)),e.has(s))throw new Error(`[Runtime] Component '${t}' already has handler '${s}'`);e.set(s,i)}zc(t,s,i,e){this.BBt.postMessage({type:"event",component:t,handler:s,data:i,responseId:null},e)}Mj(t,s,i,e){const n=this.QWt++,r=new Promise(((t,s)=>{this.YWt.set(n,{resolve:t,reject:s})}));return this.BBt.postMessage({type:"event",component:t,handler:s,data:i,responseId:n},e),r}gq(t,s,i,e=-1){this.zc("runtime","send-wrapper-extension-message",{componentId:t,messageId:s,params:i,asyncId:e})}yq(t,s,i){const e=this.QWt++,n=new Promise(((t,s)=>{this.YWt.set(e,{resolve:t,reject:s})}));return this.gq(t,s,i,e),n}rVt(t){if(-1!==t.asyncId){const s=t.asyncId;this.YWt.get(s).resolve(t.params),this.YWt.delete(s)}else this.gVt({component:"wrapper-extension:"+t.componentId,handler:t.messageId,data:t.params,responseId:null})}VV(t,s,i){this.GV("wrapper-extension:"+t,s,i)}UV(t){return this.xUt.UV(t)}MVt(t){if(!this.DV())throw new Error("not in debug mode");this.zc("runtime","post-to-debugger",t)}async sLt(t){rS.xxt(this),this.DV()?await hS.sLt(this):self.NV&&self.NV.SVt(this);const s=await this.cK.io("data.json");if(await this.TVt(s),await this.bVt(t),this.kBt()||console.info("%cMade with Construct, the game and animation creation tool. Visit: https://www.construct.net","font-weight: bold"),this.$zt()){const t=this.$zt();console.info(`[C3 runtime] Hosted in ${this.vk()?"worker":"DOM"}, rendering with WebGL ${t.gx()} [${t.hO()}]`)}else this.tBt()&&console.info(`[C3 runtime] Hosted in ${this.vk()?"worker":"DOM"}, rendering with WebGPU [${this.tBt().sBt()}]`);this.lb().RT()&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance."),this.qWt=!0;for(const t of this.XWt)this.gVt(t);rS.Mh(this.XWt),this.qUt&&this.qUt._Bt();for(const s of t.runOnStartupFunctions)this.nUt.push(this.vVt(s));if(await Promise.all([this.cK.YZ(),...this.nUt]),rS.Mh(this.nUt),!this.cK.JZ())return this.qUt&&await this.qUt.DBt(),await this.tDt.If(new rS.Event("beforeruntimestart")),await this.DL(),this.BBt.postMessage({type:"runtime-ready"}),this;this.qUt&&this.qUt.CBt()}async vVt(t){try{await t(this.lVt)}catch(t){console.error("[C3 runtime] Error in runOnStartup function: ",t)}}async TVt(t){const s=t.project;this.oUt=s[0],this.aUt=s[16],this.uUt=s[31],this.lUt=s[38],this.cUt=s[36];const i=s[39]||"loading-logo.png";this.KUt=!!s[9],this.fUt=this.gUt=s[10],this.dUt=this.yUt=s[11],this.IUt.pFt(this.fUt,this.dUt),this.pUt=this.fUt/2,this.mUt=this.dUt/2,this.ZUt=s[37],this.XUt=!!s[40],this.sx=s[14],this.SUt=s[15],this.TUt=s[42],this.bUt=s[17],this.MUt=!!s[18],this.wUt=s[19],this.WUt=s[21],this.tWt=s[22];const e=this.cK;if(e.MZ(s[45]),e.sK(s[7],s[25]),e.TZ(s[8]),e.bZ(s[32]),e.xZ(s[28]),e.ZZ(s[29]),0===this.wUt){let t="";t="flat"===e.Qj()?e.IZ()+i:i,t&&(this.vUt=e.PZ({url:t}))}this.qUt&&(this.qUt.Vzt(rS.OFt.qzt(s[12])),this.qUt.Jzt(s[23]?"high":"low"),this.qUt.NT(0!==s[24]),this.qUt.Yjt(s[34]),this.qUt.Xzt(s[41]),this.qUt.Qjt(s[13]),this.qUt.Jjt(s[30]),this.qUt.Xjt(s[46],s[47]),this.qUt.qjt(s[26]),this.qUt.Zjt(s[48]),this.qUt.Kjt(s[50]));const n=s[43];n&&await this.xVt(n),this.IVt(),this.xUt.jAt(),this.JUt=self.GVt();const r=s[2];for(const t of r[1])this.xUt.zAt(t);for(const t of r[0])this.xUt.FAt(t);this.JUt=self.GVt(),this.CVt(),this.xUt.QAt();for(const t of s[3]){const s=rS.Flt.EI(this,this.DUt.length,t);this.DUt.push(s),this.NUt.set(s._c().toLowerCase(),s),this.LUt.set(s.W0(),s)}for(const t of s[4])this.DUt[t[0]].FDt(t);for(const t of s[27]){const s=t.map((t=>this.DUt[t]));this.RUt.push(rS.Vn(rS.jNt,this,s))}this._Vt();for(const t of this.DUt)t.zDt();for(const t of s[5])this.I3.EI(t);const h=s[1];if(h){const t=this.I3.J5(h);t&&this.I3.Y5(t)}for(const t of s[35])this.GUt.EI(t);for(const t of s[33])this.S9.EI(t);for(const t of s[44])this.CUt.EI(t);this.CUt.Plt()||(this.CUt.Yn(),this.CUt=null);for(const t of s[49])this.Jlt.EI(t);this.Jlt.Ylt()||(this.Jlt.Yn(),this.Jlt=null);for(const t of s[6])this.cpt.EI(t);this.cpt.jmt(),this.AVt(),rS.Mh(this.JUt),this.YB();let o="any";const a=s[20];1===a?o="portrait":2===a&&(o="landscape"),this.zc("runtime","set-target-orientation",{targetOrientation:o})}async xVt(t){const s=t.format;"image-sequence"===s?this.iWt=new self.EVt(this,t):"image-sequence-gif"===s?this.iWt=new self.DVt(this,t):"webm"===s?this.iWt=new self.NVt(this,t):"mp4"===s&&(this.iWt=new self.LVt(this,t)),this.ZUt="unlimited-frame",this.qUt.Vzt("off"),this.MR=1,self.devicePixelRatio=1,await this.Mj("runtime","set-exporting-to-video",{message:this.iWt.OVt(0),duration:this.iWt.gJ()})}EBt(){return this.wUt}Gzt(){return null!==this.iWt}RVt(){return this.iWt.gJ()}PVt(){return this.iWt.kVt()}FVt(){return this.iWt.sLt({width:this.qUt.Pz(),height:this.qUt.Fz()})}jVt(){const t=this.aWt/this.PVt();return this.iWt.zVt(this.qUt.Uzt(),t)}BVt(){this.iWt&&this.iWt.iet()}oVt(t){this.iWt.UVt(t)}WVt(){return this.iWt._T()}FBt(){return this.$Bt}bw(){return this.yw}vj(t){this.nUt.push(t)}q4(t){this.hUt=!!t}VVt(t){this.hUt&&this.rUt.push(t)}i5(){return this.rUt}DDt(){return this.OUt++}UDt(){return this.OUt}tkt(t){this.PUt.add(t)}skt(t){this.PUt.delete(t)}Izt(){return this.PUt}async bVt(t){this.qUt&&(await this.qUt.lo(t),this.qUt.TBt(this.wUt))}async DL(){this.lWt=!0,this.MWt=Date.now();let t=null;const s=new Promise((s=>t=s));if(this.MUt){for(const t of this.DUt)t.P0()||t.ZDt()||!t.Zz()||t.jCt();(async()=>{await this.cK.YZ(),await s,this.yw=!1,this.YVt()})()}else this.yw=!1;this.cK.QZ(),this.DV()&&hS.QVt(uS);for(const t of this.I3.HF())t.g5();this.Gzt()&&await this.FVt();const i=this.I3.Q5();await i.N4(null,this.lb()),await i.W4(!0),this.DWt=performance.now(),t(),this.MUt||this.YVt(),(await this.Mj("runtime","before-start-ticking")).isSuspended&&!this.Gzt()?(this.gWt++,this.mWt=!0):this._8()}YVt(){this.vV(rS.Dj.Ej.Aj.JVt,null,null),this.zc("runtime","register-sw")}USt(t){t=Math.floor(t);const s=this.JUt;if(t<0||t>=s.length)throw new Error("invalid object reference");return s[t]}CVt(){for(const t of self.HVt){const s=rS.jh(Object.keys(t));this.HUt.push(s)}}ugt(t){t=Math.floor(t);const s=this.HUt;if(t<0||t>=s.length)throw new Error("invalid prop reference");return s[t]}qVt(){return this.YBt}XVt(){return this.VBt}vk(){return this.QBt}IBt(){return this.UBt}ZVt(){return this.WBt}jk(){return this.cpt}Kk(){return this.cpt.Kk()}$mt(){return this.cpt.$mt()}Yk(){return this.cpt.Yk()}tgt(){return this.cpt.tgt()}bxt(){return 0===this.$mt().Ept()}igt(){return this.cpt.igt()}WPt(){return this.xUt}XZ(){return this.xUt.XZ()}f0(t){if((t=Math.floor(t))<0||t>=this.DUt.length)throw new RangeError("invalid index");return this.DUt[t]}KVt(t){return this.NUt.get(t.toLowerCase())||null}Gq(t){return this.LUt.get(t)||null}Prt(t){const s=rS.Vz.fB(t);return s?s.gB():null}R0(){return this.DUt}*$Vt(){for(const t of this.DUt)t.P0()||(yield*t.vB())}yf(){return this.tDt}Rk(){return this.n4}HZ(t){t.runtime=this.Yz();const s=this.DV()&&!this.cpt.WB();s&&hS.z5(),this.n4.dispatchEvent(t),s&&hS.B5()}u5(t){return t.runtime=this.Yz(),this.n4.If(t)}Ik(){return this.fUt}Ck(){return this.dUt}tYt(t,s){if(this.fUt===t&&this.dUt===s)return;this.fUt=t,this.dUt=s;const i=this.YF();i.i6(),i.e6()}d1(){return this.gUt}m1(){return this.yUt}zzt(t,s){if(this.gUt===t&&this.yUt===s)return;this.gUt=t,this.yUt=s;const i=this.YF();i.i6(),i.e6()}Czt(t){this.Gzt()||(this.MR=t)}jz(){return this.MR}g2(){return this.pUt}w2(){return this.mUt}Ij(){return this.qUt}I2(){return this.qUt?this.qUt.I2():this.gUt}G2(){return this.qUt?this.qUt.G2():this.yUt}jW(){return this.qUt?this.qUt.jW():1}QH(){return this.qUt?this.qUt.QH():1}a3(){return this.qUt?this.qUt.a3():1}h3(){return this.qUt?this.qUt.h3():1}_z(){return this.qUt?this.qUt._z():0}Ez(){return this.qUt?this.qUt.Ez():0}sYt(){return this.qUt?this.qUt.Nz():0}iYt(){return this.qUt?this.qUt.Oz():0}VH(){return this.qUt?this.qUt.VH():"off"}F2(t){return this.qUt?this.qUt.F2(t):null}Z$(t){this.qUt&&this.qUt.Z$(t)}R2(){return this.SUt}pzt(){return this.TUt}mzt(){return this.bUt}CF(){return this.qUt?this.qUt.CF():NaN}fI(){return"nearest"!==this._k()}AF(){return this.ZUt}EF(t){this.ZUt!==t&&(this.ZUt=t,-1===this.Djt&&-1===this.rWt||(this.eYt(),this.nYt()))}_k(){return this.sx}RDt(){return this.MUt}bBt(){return this.vUt}NBt(){this.vUt&&(this.vUt.YA(),this.vUt.Yn(),this.vUt=null)}YF(){return this.I3}UF(){return this.I3.UF()}att(){return this.S9}rYt(){return this.GUt}DLt(){return this.CUt}pct(){return this.Jlt}nk(){return this.cK}PZ(t){return this.cK.PZ(t)}jB(t,s,i,e,n,r){if(r&&this.CUt){if(t instanceof rS.Flt&&t.P0()){const h=t.$B(),o=Math.floor(this.BF()*h.length);return this.jB(h[o],s,i,e,n,r)}const h=this.CUt.klt(t,r);if(h){const t=this.T0(h,s,!1,i,e,!1,n,void 0,n);return this.CUt.jlt(t,r),t}}return this.T0(t,s,!1,i,e,!1,n,void 0,n)}T0(t,s,i,e,n,r,h,o,a){let u=null,l=null;if(t instanceof rS.Flt){if(l=t,l.P0()){const t=l.$B();l=t[Math.floor(this.BF()*t.length)]}u=l.p0()}else u=t,l=this.f0(u[1]);const c=l.TB().Zz();if(this.yw&&c&&!l.ZDt())return null;const f=s;let d;c||(s=null),d=i&&!r&&u&&!this.VUt.has(u[2])?u[2]:this.WUt++;const p=u?u[0]:null,m=rS.Vn(rS.Instance,{runtime:this,objectType:l,ZV:s,tLt:p,nLt:u?u[3]:null,uid:d,tags:u?u[6]:null});this.VUt.set(d,m);let g=null;if(c&&(g=m.lj(),void 0!==e&&void 0!==n&&(g.Vb(e),g.Jb(n)),l.INt(!0)),s&&(a||s.v0(m,!0),s.QF().O4(l)),this.UUt++,l.KW()&&!i&&!r){const t=new Set;for(const s of l.E4().tU()){if(s===l)continue;const i=this.hYt(s,g,t);if(i){const t=this.T0(i,f,!1,g?g.Wb():e,g?g.Qb():n,!0,!1,void 0,a);m.p5(t)}else{const t=this.T0(s,f,!1,g?g.Wb():e,g?g.Qb():n,!0,!1,void 0,a);m.p5(t)}}for(const t of m.$W()){t.p5(m);for(const s of m.$W())t!==s&&t.p5(s)}}if(c&&!i&&h&&this.oYt(m,p,g,s,e,n,a),l.KW()&&!i&&!r&&h)for(const t of m.$W()){const i=t.lj();if(!i)continue;const e=t.TB(),n=t.BW().p0()[0];e.Zz()?this.oYt(t,n,i,s,i.Wb(),i.Qb(),a):this.oYt(t,n,i,s,void 0,void 0,a)}if(!r&&h){void 0===e&&(e=p[0]),void 0===n&&(n=p[1]);const t=g.PY(),s=e-g.Wb()+t.Wb(),i=n-g.Qb()+t.Qb();t.$V(s,i)}l.SNt();const y=u?rS.Nh(u[5]):null,w=u?u[4].map((t=>rS.Nh(t))):null,M=c&&p&&p[13];if(M&&m.lLt(),m.qDt(y,w),M){const t=p[13];m.EQ().i_t(t[2],t[0],t[1])}this.FUt.push(m),this.zUt=!0,this.DV()&&hS.aYt(m);const S=this.ZWt.instancecreate;return S.BQ=m,this.tDt.dispatchEvent(S),m}FOt(t){const s=t[0],i=t[1],e=t[2],n=t[6];return n||this.I3.H5(s).cj(i).y0(e)}hYt(t,s,i){const e=s?.ELt()??[];for(const s of e){const e=this.FOt(s),n=!!s[4],r=this.f0(e[1]);if(!i.has(e)&&t===r&&n)return i.add(e),e}}oYt(t,s,i,e,n,r,h){const o=i.oPt(),a=i.ELt();if(t.lj().aPt(o),!a)return;void 0===n&&(n=s[0]),void 0===r&&(r=s[1]);const u=new Set,l=s[0],c=s[1];for(const s of a){const i=s[0],o=s[1],a=s[2],f=s[3],d=!!s[4],p=s[5],m=s[6];let g;g=m||this.I3.H5(i).cj(o).y0(a);const y=this.f0(g[1]),w=t.LLt(y),M=u.has(y);if(w&&!M&&d){const s=t.OLt(y);s.lj().sLt(g[0]);const i=n+g[0][0]-l,e=r+g[0][1]-c;s.lj().$V(i,e),s.lj().aPt(p),t.VY(s,{qY:!!(1&f),ZY:!!(f>>1&1),$Y:!!(f>>2&1),sQ:!!(f>>3&1),eQ:!!(f>>4&1),cQ:!!(f>>5&1),rQ:!!(f>>6&1),oQ:!!(f>>7&1),uQ:!!(f>>8&1)}),u.add(y)}else{const s=n+g[0][0]-l,i=r+g[0][1]-c,o=this.T0(g,e,!1,s,i,!1,!0,t,h);o.lj().aPt(p),t.VY(o,{qY:!!(1&f),ZY:!!(f>>1&1),$Y:!!(f>>2&1),sQ:!!(f>>3&1),eQ:!!(f>>4&1),cQ:!!(f>>5&1),rQ:!!(f>>6&1),oQ:!!(f>>7&1),uQ:!!(f>>8&1)})}}}JW(t){if(this.YUt.has(t))return;const s=t.BW();let i=this.jUt.get(s);if(i){if(i.has(t))return;i.add(t)}else i=new Set,i.add(t),this.jUt.set(s,i);if(this.DV()&&hS.uYt(t),t.fLt(),this.zUt=!0,t.KW())for(const s of t.$W())this.JW(s);for(const s of t.children())s.fQ()&&this.JW(s);if(!this.I3.VB()&&!this.kWt){const s=this.jk();s.BB(!0),t.QLt(),s.BB(!1)}t.JLt(this.I3.VB())}YB(){this.zUt&&(this.BUt=!0,this.lYt(),this.cYt(),this.BUt=!1,this.zUt=!1,this.yj())}lYt(){for(const t of this.FUt){const s=t.BW();s.v0(t);for(const i of s.JB())i.v0(t),i.SNt()}rS.Mh(this.FUt)}cYt(){this.tDt.lf(!0);for(const[t,s]of this.jUt.entries())this.fYt(t,s),s.clear();this.jUt.clear(),this.tDt.lf(!1)}fYt(t,s){for(const t of s){const s=this.ZWt.instancedestroy;s.BQ=t,this.tDt.dispatchEvent(s),this.VUt.delete(t.tV()),this.AWt.delete(t);const i=t.lj();i&&(i.cPt(),i.C0(),i.fLt()),this.YUt.add(t),this.UUt--}rS.Ah(t.NB(),s),t.SNt(),this.QUt.add(t);for(const i of t.JB())rS.Ah(i.NB(),s),i.SNt(),this.QUt.add(i);if(t.TB().Zz()){const t=new Set([...s].map((t=>t.lj().cj())));for(const i of t)i.W1(s)}}bNt(){return this.FUt}*CIt(t){for(const s of this.bNt())t.P0()?s.BW().vxt(t)&&(yield s):s.BW()===t&&(yield s)}HDt(){return this.WUt++}XDt(t,s){this.VUt.set(t,s)}Tq(t){t=!!t,this.pWt!==t&&(this.pWt=!!t,this.pWt&&this.mWt&&(this.xq(!1),this.mWt=!1))}bq(){return this.pWt}U4(){this.tDt.dispatchEvent(rS.Vn(rS.Event,"renderercontextlost")),this.xq(!0);for(const t of this.DUt)!t.P0()&&t.KDt()&&t.z4();const t=this.UF();t&&t.U4(),rS.qAt.xK(),rS.jZ.xK()}async Kzt(){await this.UF().N4(null,this.lb()),this.tDt.dispatchEvent(rS.Vn(rS.Event,"renderercontextrestored")),this.xq(!1),this.yj()}nVt(t){if(!this.pWt)return;const s=t.hidden;this.xq(s),this.mWt=s,s||this.yj()}aVt(t){this.kBt()&&this.tWt&&!rS.Zs.hi&&(t.data.parentHasFocus||(this.xq(!0),this.sWt=!0))}uVt(){this.sWt&&(this.xq(!1),this.sWt=!1)}nYt(){const t=this.eWt;"vsync"===this.ZUt?-1===this.Djt&&(this.Djt=self.requestAnimationFrame(t.nWt)):"unlimited-tick"===this.ZUt?(-1===this.rWt&&(this.rWt=rS.Vh(t.hWt)),-1===this.Djt&&(this.Djt=self.requestAnimationFrame(t.oWt))):-1===this.rWt&&(this.rWt=rS.Vh(t.nWt))}eYt(){-1!==this.Djt&&(self.cancelAnimationFrame(this.Djt),this.Djt=-1),-1!==this.rWt&&(rS.Yh(this.rWt),this.rWt=-1)}hF(){return this.gWt>0}xq(t){if(this.Gzt())return;const s=this.hF();this.gWt+=t?1:-1,this.gWt<0&&(this.gWt=0);const i=this.hF();if(!s&&i)console.log("[Construct] Suspending"),this.eYt(),this.tDt.dispatchEvent(rS.Vn(rS.Event,"suspend")),this.HZ(rS.Vn(rS.Event,"suspend")),this.vV(rS.Dj.Ej.Aj.dYt,null,null);else if(s&&!i){console.log("[Construct] Resuming");const t=performance.now();this.SWt=t,this.DWt=t,this.EWt=0,this.NWt=0,this.LWt=0,this.OWt=0,this.PWt=0,this.RWt=0,this.tDt.dispatchEvent(rS.Vn(rS.Event,"resume")),this.HZ(rS.Vn(rS.Event,"resume")),this.vV(rS.Dj.Ej.Aj.pYt,null,null),this.Bgt()||this._8(t)}}oq(t){this.$Wt.Fl(t)}cq(t){this.tVt.Fl(t)}uq(t){this.sVt.Fl(t)}aq(t){this.$Wt.Xf(t)}fq(t){this.tVt.Xf(t)}lq(t){this.sVt.Xf(t)}mYt(t,s){const i=s?performance.now():0;let e;return t instanceof oS?(e=t.LV(),s&&hS.gYt(t.behavior,performance.now()-i)):(e=t._8(),s&&hS.gYt(t.kQ(),performance.now()-i)),e}yYt(){const t=this.DV();this.$Wt.Bd(!0);for(const s of this.$Wt)this.mYt(s,t);this.$Wt.Bd(!1)}wYt(t,s){const i=s?performance.now():0;let e;return t instanceof oS?(e=t.mq(),s&&hS.gYt(t.behavior,performance.now()-i)):(e=t.CAt(),s&&hS.gYt(t.kQ(),performance.now()-i)),e}MYt(){const t=this.DV();this.tVt.Bd(!0);for(const s of this.tVt)this.wYt(s,t);this.tVt.Bd(!1)}SYt(t,s){const i=s?performance.now():0;let e;return t instanceof oS?(e=t.PV(),s&&hS.gYt(t.behavior,performance.now()-i)):(e=t.v_t(),s&&hS.gYt(t.kQ(),performance.now()-i)),e}TYt(){const t=this.DV();this.sVt.Bd(!0);for(const s of this.sVt)this.SYt(s,t);this.sVt.Bd(!1)}*bYt(){const t=this.DV();this.$Wt.Bd(!0);for(const s of this.$Wt){const i=this.mYt(s,t);rS.To(i)&&(yield*i)}this.$Wt.Bd(!1)}*vYt(){const t=this.DV();this.tVt.Bd(!0);for(const s of this.tVt){const i=this.wYt(s,t);rS.To(i)&&(yield*i)}this.tVt.Bd(!1)}*xYt(){const t=this.DV();this.sVt.Bd(!0);for(const s of this.sVt){const i=this.SYt(s,t);rS.To(i)&&(yield*i)}this.sVt.Bd(!1)}async _8(t,s,i){this.fWt=!0;const e="background-wake"===i,n="background-wake"!==i&&"skip-render"!==i,r=this.YF(),h=this.Ij();if(!this.lWt||this.hF()&&!s&&!e)return;const o=performance.now();this.cWt=!0,this.IYt(t||0),this.LWt++,this.GYt();const a=this.CYt();this.bIt()&&await a;const u=this.tDt.Gf(this.ZWt.pretick);u instanceof Promise&&await u,this.HZ(this.KWt.pretick);const l=this._Yt();this.bIt()&&await l,this.AYt()&&await this.EYt(),r.XF()&&await this.DYt();const c=this.NYt();this.bIt()&&await c;const f=r.UF(),d=f.I4();let p=!1;if(-1!==d&&(f.G4(),h.x4()!==d)){const t=this.Ij().J4(d);this.vk()&&(p=!0,await t)}this.zc("canvas","update-html-layer-dom-state",{layersDomState:f.U0().filter((t=>t.$U())).map((t=>t.X1()))}),n&&this.UR(),p&&this.zc("canvas","cleanup-html-layers"),this.Gzt()&&(await this.jVt(),this.fF()>=this.RVt())?this.WVt():(this.hF()||e||this.nYt(),this.aWt++,this.uWt++,this.cWt=!1,this.RWt+=performance.now()-o)}async CYt(){const t=this.cpt,s=this.DV();this.YB(),t.BB(!0),this.Agt(this.UF()),s&&hS.LYt(),this.bIt()?await t.ayt():t.eyt(),s&&hS.OYt(),this.Egt(),t.BB(!1),this.YB(),t.BB(!0)}async _Yt(){const t=this.cpt,s=this.DV(),i=this.bIt(),e=this.tDt,n=this.ZWt,r=this.KWt;s&&hS.LYt(),i?await this.RYt(this.bYt()):this.yYt(),i?await this.RYt(this.vYt()):this.MYt(),s&&hS.PYt(),s&&hS.LYt(),i?await this.kYt(n.tick):e.dispatchEvent(n.tick),s&&hS.FYt(),t.BB(!1),this.HZ(r.tick)}async NYt(){const t=this.cpt,s=this.tDt,i=this.ZWt,e=this.KWt,n=this.DV(),r=this.bIt();n&&hS.LYt(),r?await t.Dgt(this.I3):t._gt(this.I3),n&&hS.OYt(),this.IUt.kkt(),this.GYt(),this.dWt=!1,t.BB(!0),n&&hS.LYt(),r?await this.RYt(this.xYt()):this.TYt(),n&&hS.PYt(),n&&hS.LYt(),r?await this.kYt(i.tick2):s.dispatchEvent(i.tick2),n&&hS.FYt(),t.BB(!1),this.HZ(e.tick2),r&&await t.Ugt(),this.YB(),this.GYt()}GYt(){if(0===this.YUt.size)return;const t=this.tDt;t.lf(!0);for(const t of this.QUt)t.Zgt().Bdt(this.YUt);this.QUt.clear(),this.cpt.lyt(this.YUt);for(const t of this.YUt)t.Yn();this.YUt.clear(),t.lf(!1)}async DYt(){const t=this.YF();let s=0;for(;t.XF()&&s++<10;)await this.jYt(t.s6())}IYt(t){let s=0;this.Gzt()?(s=1/this.PVt(),this.TWt=s,this.bWt=s):0!==this.SWt&&(s=Math.max(t-this.SWt,0)/1e3,s>.5&&(s=0),this.TWt=s,this.bWt=rS.Xn(s,this.IWt,this.xWt)),this.SWt=t,this.vWt=this.bWt*this.KNt,this.GWt.Fl(this.vWt),this.CWt.Fl(s*this.KNt),this._Wt.Fl(this.bWt);for(const[t,s]of this.AWt)s.Fl(this.bWt*t.wF());this.qUt&&this.qUt.cBt(),t-this.DWt>=1e3&&(this.DWt+=1e3,t-this.DWt>=1e3&&(this.DWt=t),this.NWt=this.EWt,this.EWt=0,this.OWt=this.LWt,this.LWt=0,this.PWt=Math.min(this.RWt/1e3,1),this.RWt=0,this.qUt&&this.qUt.lBt(),this.IUt.Lkt(),this.DV()&&hS.zYt())}aLt(t,s){if(s){if(!this.AWt.has(t)){const s=rS.Vn(rS.Kf);s.nd(this.GWt),this.AWt.set(t,s)}}else this.AWt.delete(t)}uLt(t){const s=this.AWt.get(t);return s?s.Ys():this.fF()}async jYt(t){const s=this.tDt,i=this.YF().UF();await i.w5(),i.B4(t,this.lb()),i===t&&this.cpt.T5(),this.IUt.kkt(),this.GYt(),s.dispatchEvent(this.ZWt.beforelayoutchange),rS.ff.Af(!0),await t.N4(i,this.lb()),rS.ff.Af(!1),await t.W4(!1),s.dispatchEvent(this.ZWt.layoutchange),this.yj(),this.dWt=!0,this.YB(),this.BVt()}yj(){this.$Ut=!0}$zt(){return this.qUt?this.qUt.$zt():null}tBt(){return this.qUt?this.qUt.tBt():null}lb(){return this.qUt?this.qUt.lb():null}UR(){const t=this.qUt;if(!t||t.Zzt())return;const s=this.lb(),i=s.$L(),e=i&&s.PT(),n=i&&s.tS();if(e&&s.jL(),!this.$Ut&&!this.Gzt())return void s.DT();const r=this.I3.UF();this.EWt++,s.DL();const h=this.DV();h&&hS.LYt(),this.$Ut=!1;let o=null;e&&(o=t.mBt().GD(),s.KL(o));let a=null;n&&(a=s.BYt(2*(1+r.w4())),s.L2(0,1)),this.G1()&&"low"===t.P2()?s.VN(t.I2(),t.G2()):s.YN(),this.UYt(this.lb(),r),o&&s.tO(o),n&&(s.WYt(),this.qUt.gBt(a)),s._T(),h&&(hS.VYt(),hS.YYt()),t&&t.yBt()}D5(t){return"low"===this.Ij().P2()||t.PT()&&(this.R2()||this.G1())}UYt(t,s){t.aS(),t.aL(),t.tL(1,1,1,1),t.WL(null),t.nL(null),t.LL(this.G1()),this.D5(t)&&s.A5(t);const i=s.x4();for(let e=1;e<i;++e)s.R5(t,e),t.tS()&&t.QYt();this.D5(t)||s.A5(t),s.O5(t)}vV(t,s,i){if(!this.lWt)return!1;const e=!this.cWt&&!this.cpt.Qgt();let n=0;e&&(n=performance.now());const r=this.DV();r&&this.Nq(!1);const h=this.cpt.Rgt(this.I3,t,s,i);if(e){const t=performance.now()-n;this.RWt+=t,r&&hS.JYt(t)}return r&&this.Nq(!0),h}c_t(t,s,i){if(!this.bIt())return this.vV(t,s,i);if(this.Bgt())throw new Error("called DebugTrigger() while stopped on breakpoint");if(!this.cWt&&!this.cpt.Qgt())throw new Error("called DebugTrigger() outside of event code - use TriggerAsync() instead");return this.cpt.Fgt(this.I3,t,s,i)}async Cj(t,s,i){if(!this.bIt())return this.vV(t,s,i);if(!this.lWt)return!1;if(this.Bgt())return this.cpt.jgt(t,s,i);if(!this.UF())return this.cpt.Pgt(t,s,i);const e=performance.now(),n=this.cpt.Fgt(this.I3,t,s,i);let r=n.next();for(;!r.done;)await this.Lgt(r.value),r=n.next();return this.hF()||this.cpt.Qgt()||(await this.cpt.Ugt(),this.fWt&&!this.cWt&&this.nYt()),this.RWt+=performance.now()-e,r.value}f_t(t,s,i){const e=this.DV();e&&this.Nq(!1);const n=this.cpt.Wgt(this.I3,t,s,i);return e&&this.Nq(!0),n}d_t(t,s,i){return this.cpt.Vgt(this.I3,t,s,i)}p_t(t){return this.yWt.Fl(t)}Agt(t){this.kUt.push(t)}Egt(){if(!this.kUt.length)throw new Error("layout stack empty");this.kUt.pop()}aj(){return this.kUt.length?this.kUt.at(-1):this.UF()}aF(t){return t&&-1!==t.wF()?this.bWt*t.wF():this.vWt}G8(){return this.vWt}C8(){return this.bWt}lF(){return this.TWt}wF(){return this.KNt}MF(t){(isNaN(t)||t<0)&&(t=0),this.KNt=t}LF(t){this.IWt=Math.max(t,0)}NF(){return this.IWt}PF(t){this.xWt=Math.max(t,0)}RF(){return this.xWt}TF(){return this.NWt}vF(){return this.OWt}IF(){return this.PWt}HYt(){return this.MWt}fF(){return this.GWt.Ys()}qYt(){return this.CWt.Ys()}gF(){return this._Wt.Ys()}pF(){return this.aWt}XYt(){return this.uWt}ZYt(){return this.UUt}fk(){return this.oUt}pk(){return this.aUt}wk(){return this.uUt}gk(){return this.lUt}Sk(){return this.cUt}rj(t){if(this.kWt)throw new Error("cannot call while loading state - wait until afterload event");return this.VUt.get(t)||null}LOt(t){if(this.kWt)throw new Error("cannot call while loading state - wait until afterload event");this.VUt.delete(t)}d5(){this.VUt.clear();for(const t of this.DUt)if(!t.P0())for(const s of t.NB())this.VUt.set(s.tV(),s)}kBt(){return"preview"===this.HBt}DV(){return this.tUt}Tz(){return this.HBt}bz(){return"nwjs"===this.Tz()||this.qBt}jBt(){return"cordova"===this.HBt}KYt(){return"Android"===rS.Zs.Ks&&("cordova"===this.HBt||"playable-ad-single-file"===this.HBt||"playable-ad-zip"===this.HBt||"instant-games"===this.HBt)}$Yt(){return this.JX}tQt(){return this.XBt}vz(){return this.ZBt}sQt(){return this.KBt}ak(){return this.IUt}JAt(){return this.xUt.JAt()}HAt(){return this.xUt.HAt()}G1(){return this.XUt}iQt(){return this.lb().WM(this.m1())}zM(t){return this.lb().zM(t||this.m1())}eQt(){return this.dWt}nQt(t){t=!!t,this.KUt!==t&&(this.KUt=t,this.YF().e6(),this.yj())}Ek(){return this.KUt}rQt(t){if(!this.EUt.has(t)){const s=()=>this.hQt(t);this.EUt.set(t,s),t.yf().addEventListener("animationframeimagechange",s)}const s=this.fw.hw(t);return s.Tw()||s.xw().then((()=>this.yj())),s}hQt(t){this.fw.lw(t)}_Ut(t){const s=[];for(const i of t.lNt())for(const t of i.uJ()){const i=t.mJ();s.push({source:t,width:i.Bg(),height:i.Zg(),tag:t.AJ()})}return{Mw:s}}async AUt(t){const s=rS.Vn(rS.Wd),i=[],e=new Map;for(const n of t.lNt())for(const t of n.uJ()){const n=t.mJ().mEt();e.has(n)||(e.set(n,null),i.push(s.Fl((async()=>{const t=await n._K();e.set(n,t)}))))}await Promise.all(i);const n=[];for(const i of t.lNt())for(const t of i.uJ())n.push(s.Fl((async()=>{const s=t.mJ(),i=e.get(s.mEt()),n=await s.gEt(i);return{Gw:await createImageBitmap(n)}})));const r=await Promise.all(n);for(const t of e.values())t instanceof ImageBitmap&&t.close&&t.close();return{Mw:r}}oQt(t){this.FWt=t,this.jWt=!1}aQt(){this.FWt="",this.jWt=!0}uQt(t){this.zWt=t}gGt(t){this.zV=t}lQt(){return this.BWt}AYt(){return!!(this.FWt||this.jWt||this.zWt||null!==this.zV)}async EYt(){if(this.FWt&&(this.YB(),await this.cQt(this.FWt),this.fQt()),this.zWt&&(await this.dQt(this.zWt),this.fQt(),this.DV()&&hS.pQt()),this.jWt){const t=await this.mQt();this.BWt=t,await this.Cj(rS.Dj.Ej.Aj.gQt,null),this.BWt="",this.fQt()}if(null!==this.zV){this.YB();try{await this.yQt(this.zV),this.BWt=this.zV,await this.Cj(rS.Dj.Ej.Aj.wQt,null),this.BWt=""}catch(t){console.error("[Construct] Failed to load state from JSON string: ",t),await this.Cj(rS.Dj.Ej.Aj.MQt,null)}this.fQt()}}fQt(){this.FWt="",this.jWt=!1,this.zWt="",this.zV=null}Bz(){return this.UWt||(this.UWt=localforage.Ii({name:"c3-localstorage-"+this.wk(),description:this.fk()})),this.UWt}SQt(){return this.WWt||(this.WWt=localforage.Ii({name:"c3-savegames-"+this.wk(),description:this.fk()})),this.WWt}async cQt(t){const s=await this.mQt();try{await this.SQt().setItem(t,s),console.log("[Construct] Saved state to storage ("+s.length+" chars)"),this.BWt=s,await this.Cj(rS.Dj.Ej.Aj.gQt,null),this.BWt=""}catch(t){console.error("[Construct] Failed to save state to storage: ",t),await this.Cj(rS.Dj.Ej.Aj.TQt,null)}}async dQt(t){try{const s=await this.SQt().getItem(t);if(!s)throw new Error("empty slot");console.log("[Construct] Loaded state from storage ("+s.length+" chars)"),await this.yQt(s),this.BWt=s,await this.Cj(rS.Dj.Ej.Aj.wQt,null),this.BWt=""}catch(t){console.error("[Construct] Failed to load state from storage: ",t),await this.Cj(rS.Dj.Ej.Aj.MQt,null)}}async mQt(){const t={c3save:!0,version:1,rt:{time:this.fF(),timeRaw:this.qYt(),walltime:this.gF(),timescale:this.wF(),tickcount:this.pF(),next_uid:this.WUt,running_layout:this.UF().W0(),start_time_offset:Date.now()-this.MWt},types:{},layouts:{},events:this.cpt.M3(),timelines:this.S9.M3(),user_script_data:null};for(const s of this.DUt)s.P0()||s.NNt()||(t.types[s.W0().toString()]=s.M3());for(const s of this.I3.HF())t.layouts[s.W0().toString()]=s.M3();const s=this.bQt("save");return s.saveData=null,await this.u5(s),t.user_script_data=s.saveData,JSON.stringify(t)}e5(){return this.kWt}async yQt(t){const s=this.YF(),i=JSON.parse(t);if(i.c2save)throw new Error("C2 saves are incompatible with C3 runtime");if(!i.c3save)throw new Error("not valid C3 save data");if(i.version>1)throw new Error("C3 save data from future version");this.yGt(),this.tDt.dispatchEvent(rS.Vn(rS.Event,"beforeload"));for(const t of this.$Vt())t.BW().NNt()||t.A6();const e=i.rt;this.GWt.Set(e.time),e.hasOwnProperty("timeRaw")&&this.CWt.Set(e.timeRaw),this._Wt.Set(e.walltime),this.KNt=e.timescale,this.aWt=e.tickcount,this.MWt=Date.now()-e.start_time_offset;const n=e.running_layout;this.kWt=!0;let r=!1;if(n!==this.UF().W0()){const t=s.H5(n);if(!t)return;await this.jYt(t),r=!0}for(const[t,e]of Object.entries(i.layouts)){const i=parseInt(t,10),n=s.H5(i);n&&n.S3(e)}const h=new Set;for(const[t,s]of Object.entries(i.types)){const i=parseInt(t,10),e=this.Gq(i);!e||e.P0()||e.NNt()||e.S3(s,h)}for(const t of this.I3.HF())for(const s of t.SU())s.T3();if(this.YB(),this.d5(),this.kWt=!1,r){for(const t of this.$Vt())t.n5();for(const[t,s]of Object.entries(i.types)){const i=parseInt(t,10),e=this.Gq(i);!e||e.P0()||e.NNt()||e.kNt(s)}}this.WUt=e.next_uid,this.cpt.S3(i.events);for(const t of this.DUt)if(!t.P0()&&t.KW())for(const s of t.NB()){const i=s.iV();s.NLt();for(const e of t.E4().tU()){if(e===t)continue;const n=e.NB();if(i<0||i>=n.length)throw new Error("missing sibling instance");s.p5(n[i])}}this.S9.S3(i.timelines),s.i6(),s.e6();for(const t of h)t.YLt();this.wGt(),this.tDt.dispatchEvent(rS.Vn(rS.Event,"afterload")),this.HZ(this.bQt("afterload"));for(const[t,s]of Object.entries(i.types)){const s=parseInt(t,10),i=this.Gq(s);i&&i.PNt()}const o=this.bQt("load");o.saveData=i.user_script_data,await this.u5(o),this.yj()}vQt(t,s){return s.lj().iPt()-t.lj().iPt()}UPt(t,s){t.lj()&&(this.dVt.has(t)||(this.dVt.set(t,s),this.pVt.push(t)))}yGt(){this.dVt=new WeakMap,rS.Mh(this.pVt),rS.C5.JOt()}wGt(t="full",s=null){this.pVt.sort(this.vQt),s||(s={}),s.NOt=new Set;const i=this.pVt.length;for(const i of this.pVt)i.D6(this.dVt.get(i),t,s);for(const i of this.pVt)i.XLt(this.dVt.get(i),t,s);if(this.yGt(),i){this.YB(),this.d5();for(const t of this.I3.HF())for(const s of t.SU())s.E0(),s.gj()}}async xQt(t){const s=await Promise.all(t.map((async t=>{if(this.jBt()&&this.cK.GZ()||"playable-ad-single-file"===this.Tz()){const s=await this.cK.eo(t);return URL.createObjectURL(s)}return new URL(t,location.href).toString()})));this.iVt.IQt(s)}GQt(t,s){this.iVt.CQt(t,s)}_Qt(t,s){this.iVt.AQt(t,s)}EQt(t,s,i,e){return this.iVt.EQt(t,s,i,null,null,e)}DQt(t,s,i,e){return this.iVt.DQt(t,s,i,e)}NQt(){return this.iVt.LQt()}ej(t,s){this.zc("runtime","invoke-download",{url:t,filename:s})}async GBt(t,s,i,e,n,r){if(e=e||s,n=n||i,this.vk())return(await this.Mj("runtime","raster-svg-image",{blob:t,imageWidth:s,imageHeight:i,surfaceWidth:e,surfaceHeight:n,imageBitmapOpts:r})).imageBitmap;{const h=await self.C3_RasterSvgImageBlob(t,s,i,e,n);return r?await self.createImageBitmap(h,r):h}}async OQt(t){return this.vk()?await this.Mj("runtime","get-svg-image-size",{blob:t}):await self.C3_GetSvgImageSize(t)}RQt(){this.JWt||(this.JWt=!0,this.zc("runtime","enable-device-orientation"))}PQt(){this.HWt||(this.HWt=!0,this.zc("runtime","enable-device-motion"))}BF(){return this.wWt()}kQt(t){this.wWt=t}hVt(){const t=this.lb();return{fps:this.TF(),tps:this.vF(),cpu:this.IF(),gpu:this.CF(),layout:this.UF()?this.UF()._c():"",renderer:t.PT()?t.hO():t.sBt()}}Bgt(){return!!this.DV()&&hS.Bgt()}Lgt(t){return this.bIt()?hS.Lgt(t):Promise.resolve()}dSt(){return!!this.bIt()&&hS.FQt()}jQt(t){this.sUt=!!t,this.zQt()}BQt(){return this.sUt}bIt(){return this.iUt}Nq(t){t?this.eUt--:this.eUt++,this.zQt()}zQt(){this.iUt=this.DV()&&this.sUt&&0===this.eUt}Nwt(){return this.DV()&&hS.Nwt()}E2(){return this.DV()&&this.lb().$L()&&hS.E2()}async RYt(t){if(t)for(const s of t)await this.Lgt(s)}kYt(t){return this.RYt(this.tDt._f(t))}Pmt(t){return this.cpt.Pmt(t.name,t.params)}Tj(t){if(this.vk())throw new Error("not supported in worker mode");return self.c3_runtimeInterface._GetHTMLWrapElement(t)}Yz(){return this.lVt}bQt(t){const s=rS.Vn(rS.Event,t,!1);return s.runtime=this.lVt,s}IVt(){this.lVt=new self.sk(this),this.KWt={pretick:this.bQt("pretick"),tick:this.bQt("tick"),tick2:this.bQt("tick2")}}_Vt(){const t={};for(const s of this.DUt)t[s.ugt()]={value:s.mB(),enumerable:!0,writable:!1};this.lVt.Pk(t)}AVt(){const t={};for(const s of this.jk().ggt())t[s.ugt()]=s.lgt();this.lVt.kk(t)}KF(){return this.fVt}lB(t,s){this.cVt.set(t,s)}vU(t){return this.cVt.get(t)}pz(t){if(!(t instanceof self.MB))throw new TypeError("expected IObjectClass");const s=this.vU(t);if(!(s&&s instanceof rS.Flt))throw new Error("invalid IObjectClass");return s}AB(t){if(!(t instanceof self.zW))throw new TypeError("expected IInstance");const s=this.vU(t);if(!(s&&s instanceof rS.Instance))throw new Error("invalid IInstance");return s}uj(t){if(!(t instanceof self.IQ))throw new TypeError("expected IWorldInstance");const s=this.vU(t);if(!(s&&s instanceof rS.Instance))throw new Error("invalid IInstance");return s}},self.C3_CreateRuntime=rS.zBt.EI,self.C3_InitRuntime=(t,s)=>t.sLt(s)}{const lS=self.Gs;lS.eVt=class extends lS.Un{constructor(t,s){super(),this.kc=t,this.UQt=new Map,this.WQt=0,this.VQt=s.inputPort,s.outputPort.onmessage=t=>this.YQt(t),this.QQt=s.maxNumWorkers,this.JQt=1,this.HQt=!1,this.qQt=!1}LQt(){return this.QQt}IQt(t){this.VQt.postMessage({type:"_import_scripts",scripts:t})}CQt(t,s){this.VQt.postMessage({type:"_send_blob",blob:t,id:s})}AQt(t,s){this.VQt.postMessage({type:"_send_buffer",buffer:t,id:s},[t])}EQt(t,s,i,e,n,r){if(i||(i=[]),"number"==typeof r&&(r=Math.floor(r))<=0)throw new Error("invalid maxWorkerNum");const h=this.WQt++,o={type:t,isBroadcast:!1,maxWorkerNum:r,jobId:h,params:s,transferables:i},a=new Promise(((t,s)=>{this.UQt.set(h,{resolve:t,progress:e,reject:s,XQt:!1,ZQt:r})}));return n&&n.Hf((()=>this.KQt(h))),this.VQt.postMessage(o,i),this.$Qt(),a}DQt(t,s,i,e){if(i||(i=[]),"number"==typeof e&&(e=Math.floor(e))<=0)throw new Error("invalid maxWorkerNum");const n={type:t,isBroadcast:!0,maxWorkerNum:e,jobId:this.WQt++,params:s,transferables:i};this.VQt.postMessage(n,i)}KQt(t){const s=this.UQt.get(t);s&&(s.XQt=!0,s.resolve=null,s.progress=null,s.reject=null,this.VQt.postMessage({type:"_cancel",jobId:t}))}YQt(t){const s=t.data,i=s.type,e=s.jobId;switch(i){case"result":this.tJt(e,s.result);break;case"progress":this.sJt(e,s.progress);break;case"error":this.iJt(e,s.error);break;case"ready":this.eJt();break;default:throw new Error(`unknown message from worker '${i}'`)}}tJt(t,s){const i=this.UQt.get(t);if(!i)throw new Error("invalid job ID");i.XQt||i.resolve(s),this.UQt.delete(t)}sJt(t,s){const i=this.UQt.get(t);if(!i)throw new Error("invalid job ID");!i.XQt&&i.progress&&i.progress(s)}iJt(t,s){const i=this.UQt.get(t);if(!i)throw new Error("invalid job ID");i.XQt||i.reject(s),this.UQt.delete(t)}eJt(){this.HQt&&(this.HQt=!1,this.JQt++,this.JQt<this.QQt?this.$Qt():this.VQt.postMessage({type:"_no_more_workers"}))}nJt(){let t=0;const s=[...this.UQt.values()].sort(((t,s)=>(t.ZQt||1/0)-(s.ZQt||1/0)));for(const i of s)t<(i.ZQt||1/0)&&t++;return t}async $Qt(){if(!(this.JQt>=this.QQt||this.HQt||this.qQt||this.nJt()<=this.JQt))try{this.HQt=!0,(await this.kc.Mj("runtime","create-job-worker")).outputPort.onmessage=t=>this.YQt(t)}catch(t){this.qQt=!0,this.HQt=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${this.JQt} so far)`,t)}}}}self.C3_Shaders={},self.C3_Shaders.ultimatedropshadowcolor={xzt:"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec2 vTex;\nuniform sampler2D samplerFront;\nuniform float uDistance;\nuniform float uAngle;\nuniform float uOpacity;\nuniform float uHue;\nuniform float uSaturation;\nuniform float uBrightness;\nuniform float uBlurRadius;\nvec3 rgb2hsv(vec3 c);\nvec3 hsv2rgb(vec3 c);\nvoid main(void) {\nfloat angleRad = uAngle * 3.14159265 / 180.0;\nvec2 offset = uDistance * 0.001 * vec2(cos(angleRad), sin(angleRad));\nvec4 shadow = vec4(0.0);\nfor(int i = -4; i <= 4; i++) {\nfor(int j = -4; j <= 4; j++) {\nvec2 sampledCoord = vTex + offset + vec2(i, j) * (uBlurRadius * 0.01) * 0.001;\nshadow += texture2D(samplerFront, sampledCoord);\n}\n}\nshadow /= 81.0;\nshadow.a *= uOpacity;\nshadow.rgb = vec3(1.0, 0.0, 0.0);\nvec3 shadowHSV = rgb2hsv(shadow.rgb);\nshadowHSV.x = mod(shadowHSV.x + uHue / 360.0, 1.0); // Normalize hue to [0, 1] range and ensure it wraps around\nshadowHSV.y = uSaturation;\nshadowHSV.z = uBrightness;\nshadow.rgb = hsv2rgb(shadowHSV);\nvec4 col = texture2D(samplerFront, vTex);\nvec4 shadowColor = mix(col, shadow, shadow.a);\ngl_FragColor = mix(shadowColor, col, col.a);\n}\nvec3 rgb2hsv(vec3 c) {\nvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\nvec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\nvec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\nfloat d = q.x - min(q.w, q.y);\nfloat e = 1.0e-10;\nreturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\nvec3 hsv2rgb(vec3 c) {\nvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\nvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\nreturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}",vzt:"",Mzt:"",rb:!0,ob:!1,QT:55,HT:55,XT:!0,KT:!1,tb:!1,ib:!1,animated:!1,parameters:[["uDistance",0,"float"],["uAngle",0,"float"],["uOpacity",0,"percent"],["uHue",0,"float"],["uSaturation",0,"percent"],["uBrightness",0,"percent"],["uBlurRadius",0,"float"]]};{let cS=function(t,s){const i=t[1],e=s[1];if("number"==typeof i&&"number"==typeof e)return i-e;{const t=""+i,s=""+e;return t<s?-1:t>s?1:0}};0;const fS=self.Gs;let dS=null,pS="",mS="",gS=[],yS="",wS="",MS="";const SS=fS.Vn(fS.omt);fS.Dj.Ej=class extends fS.gCt{constructor(t){super(t),this.imt=this.kc.jk().Eq(),this.Udt=this.kc.jk().Kk(),this.rJt=0,this.hJt=0,this.oJt=new Map}Yn(){super.Yn()}yj(){this.kc.yj()}vV(t){this.kc.vV(t,null,null)}aJt(t,s){return dS&&t===pS&&s===mS||(dS=new RegExp(t,s),pS=t,mS=s),dS.lastIndex=0,dS}uJt(t,s,i){if(t===yS&&s===wS&&i===MS)return gS;const e=this.aJt(s,i);return gS=t.match(e),yS=t,wS=s,MS=i,gS}async lJt(t,s){if(!s.length)return;this.rJt+=s.length;const i=[];for(const e of s)i.push(t.O4(e));await fS.Bh(i,(()=>{this.hJt++})),this.hJt++,this.hJt===this.rJt&&(this.hJt=0,this.rJt=0,this.kc.vV(fS.Dj.Ej.Aj.cJt,null,null))}qZ(){return 0===this.rJt?1:this.hJt/this.rJt}fJt(t,s){for(const i of s)0===i.PB()&&t.j4(i)}dJt(){return SS}pJt(t){const s=this.kc.jk(),i=s.Kk(),e=i._q(),n=e.Yk(),r=n.Cq(),h=e.Upt(),o=i.Aq(n),a=s.Eq(),u=a.Aq();if(u.rmt(t),h)for(let i=0;i<t&&!u.jq();++i)s.Oq(r),u.kq(i),n.Rq(e,o),s.Pq(r);else for(let s=0;s<t&&!u.jq();++s)u.kq(s),n.Rq(e,o);return i.zq(),a.zq(),!1}*mJt(t){const s=this.kc.jk(),i=s.Kk(),e=i._q(),n=e.Yk(),r=n.Cq(),h=e.Upt(),o=i.Aq(n),a=s.Eq(),u=a.Aq();if(u.rmt(t),h)for(let i=0;i<t&&!u.jq();++i)s.Oq(r),u.kq(i),yield*n.xSt(e,o),s.Pq(r);else for(let s=0;s<t&&!u.jq();++s)u.kq(s),yield*n.xSt(e,o);return i.zq(),a.zq(),!1}gJt(){const t=this.kc.jk(),s=t.Kk(),i=s._q(),e=i.Yk(),n=e.Cq(),r=i.Upt(),h=s.Aq(e),o=t.Eq(),a=o.Aq();if(r)for(let s=0;!a.jq();++s)t.Oq(n),a.kq(s),e.Rq(i,h)||a.NJ(),t.Pq(n);else for(let t=0;!a.jq();++t)a.kq(t),e.Rq(i,h)||a.NJ();return s.zq(),o.zq(),!1}*yJt(){const t=this.kc.jk(),s=t.Kk(),i=s._q(),e=i.Yk(),n=e.Cq(),r=i.Upt(),h=s.Aq(e),o=t.Eq(),a=o.Aq();if(r)for(let s=0;!a.jq();++s)t.Oq(n),a.kq(s),(yield*e.xSt(i,h))||a.NJ(),t.Pq(n);else for(let t=0;!a.jq();++t)a.kq(t),(yield*e.xSt(i,h))||a.NJ();return s.zq(),o.zq(),!1}wJt(t,s,i){const e=this.kc.jk(),n=e.Kk(),r=n._q(),h=r.Yk(),o=h.Cq(),a=r.Upt(),u=n.Aq(h),l=e.Eq(),c=l.Aq();if(c.Dq(t),c.rmt(i),i<s)if(a)for(let t=s;t>=i&&!c.jq();--t)e.Oq(o),c.kq(t),h.Rq(r,u),e.Pq(o);else for(let t=s;t>=i&&!c.jq();--t)c.kq(t),h.Rq(r,u);else if(a)for(let t=s;t<=i&&!c.jq();++t)e.Oq(o),c.kq(t),h.Rq(r,u),e.Pq(o);else for(let t=s;t<=i&&!c.jq();++t)c.kq(t),h.Rq(r,u);return n.zq(),l.zq(),!1}*MJt(t,s,i){const e=this.kc.jk(),n=e.Kk(),r=n._q(),h=r.Yk(),o=h.Cq(),a=r.Upt(),u=n.Aq(h),l=e.Eq(),c=l.Aq();if(c.Dq(t),c.rmt(i),i<s)if(a)for(let t=s;t>=i&&!c.jq();--t)e.Oq(o),c.kq(t),yield*h.xSt(r,u),e.Pq(o);else for(let t=s;t>=i&&!c.jq();--t)c.kq(t),yield*h.xSt(r,u);else if(a)for(let t=s;t<=i&&!c.jq();++t)e.Oq(o),c.kq(t),yield*h.xSt(r,u),e.Pq(o);else for(let t=s;t<=i&&!c.jq();++t)c.kq(t),yield*h.xSt(r,u);return n.zq(),l.zq(),!1}SJt(t){const s=t.LB(),i=s.NB();if(0===i.length)return!1;const e=this.kc.jk(),n=e.Kk(),r=n._q(),h=r.Yk(),o=h.Cq(),a=r.Upt(),u=n.Aq(h),l=e.Eq(),c=l.Aq(),f=t.KW(),d=SS.Aq();if(fS.xh(d,i),c.rmt(d.length),a)for(let s=0,i=d.length;s<i&&!c.jq();++s){e.Oq(o);const i=d[s];t.LB().ipt(i),f&&i.Fwt(),c.kq(s),h.Rq(r,u),e.Pq(o)}else{s.$dt(!1);const t=s.tpt();fS.Mh(t),t.push(null);for(let s=0,i=d.length;s<i&&!c.jq();++s){const i=d[s];t[0]=i,f&&i.Fwt(),c.kq(s),h.Rq(r,u)}}return n.zq(),l.zq(),fS.Mh(d),SS.zq(),!1}*TJt(t){const s=t.LB(),i=s.NB();if(0===i.length)return!1;const e=this.kc.jk(),n=e.Kk(),r=n._q(),h=r.Yk(),o=h.Cq(),a=r.Upt(),u=n.Aq(h),l=e.Eq(),c=l.Aq(),f=t.KW(),d=SS.Aq();if(fS.xh(d,i),c.rmt(d.length),a)for(let s=0,i=d.length;s<i&&!c.jq();++s){e.Oq(o);const i=d[s];t.LB().ipt(i),f&&i.Fwt(),c.kq(s),yield*h.xSt(r,u),e.Pq(o)}else{s.$dt(!1);const t=s.tpt();fS.Mh(t),t.push(null);for(let s=0,i=d.length;s<i&&!c.jq();++s){const i=d[s];t[0]=i,f&&i.Fwt(),c.kq(s),yield*h.xSt(r,u)}}return n.zq(),l.zq(),fS.Mh(d),SS.zq(),!1}bJt(t,s){const i=t.LB(),e=i.NB();if(0===e.length)return!1;const n=this.kc.jk(),r=n.Kk(),h=n.tgt(),o=r._q(),a=o.Yk(),u=a.Cq(),l=o.Upt(),c=r.Aq(a),f=n.Eq(),d=f.Aq(),p=t.KW(),m=SS.Aq();fS.Mh(m),d.rmt(e.length);for(let t=0,s=e.length;t<s;++t)m.push([e[t],h.jvt(1,t)]);if(m.sort(cS),1===s&&m.reverse(),l)for(let s=0,i=m.length;s<i&&!d.jq();++s){n.Oq(u);const i=m[s][0];t.LB().ipt(i),p&&i.Fwt(),d.kq(s),a.Rq(o,c),n.Pq(u)}else{i.$dt(!1);const t=i.tpt();fS.Mh(t),t.push(null);for(let s=0,i=m.length;s<i&&!d.jq();++s){const i=m[s][0];t[0]=i,p&&i.Fwt(),d.kq(s),a.Rq(o,c)}}return r.zq(),f.zq(),fS.Mh(m),SS.zq(),!1}*vJt(t,s){const i=t.LB(),e=i.NB();if(0===e.length)return!1;const n=this.kc.jk(),r=n.Kk(),h=n.tgt(),o=r._q(),a=o.Yk(),u=a.Cq(),l=o.Upt(),c=r.Aq(a),f=n.Eq(),d=f.Aq(),p=t.KW(),m=SS.Aq();fS.Mh(m),d.rmt(e.length);for(let t=0,s=e.length;t<s;++t)m.push([e[t],h.jvt(1,t)]);if(m.sort(cS),1===s&&m.reverse(),l)for(let s=0,i=m.length;s<i&&!d.jq();++s){n.Oq(u);const i=m[s][0];t.LB().ipt(i),p&&i.Fwt(),d.kq(s),yield*a.xSt(o,c),n.Pq(u)}else{i.$dt(!1);const t=i.tpt();fS.Mh(t),t.push(null);for(let s=0,i=m.length;s<i&&!d.jq();++s){const i=m[s][0];t[0]=i,p&&i.Fwt(),d.kq(s),yield*a.xSt(o,c)}}return r.zq(),f.zq(),fS.Mh(m),SS.zq(),!1}xJt(t,s){let i=this.oJt.get(t);return i||(s?(i={IJt:null,GJt:new Map},this.oJt.set(t,i),i):null)}CJt(t,s,i,e,n){s.Wk().zSt(i,s.Hk()),e&&t.Pq(n)}*_Jt(t,s,i,e,n){yield*s.Wk().BSt(i,s.Hk()),e&&t.Pq(n)}}}{const TS=self.Gs;TS.Dj.Ej.NDt=class extends TS.Un{constructor(t){super(),this.Odt=t,this.kc=t.Fj(),this.s_t=t.TB()}jCt(){}Yn(){this.Odt=null,this.kc=null,this.s_t=null}}}{const bS=self.Gs;bS.Dj.Ej.Instance=class extends bS.Un{constructor(t,s){super(),this.fi=t,this.Odt=this.fi.BW(),this.o_t=this.Odt.yxt(),this.kc=this.fi.Fj()}Yn(){this.fi=null,this.Odt=null,this.o_t=null,this.kc=null}}}{const vS=self.Gs,xS=[];vS.Dj.Ej.Aj={AJt:()=>!0,c5:()=>!0,M5:()=>!0,dYt:()=>!0,pYt:()=>!0,hF(){return this.kc.hF()},bMt(){const t=this.kc.$mt();return!t.kpt()&&!t.Rpt()},EJt(){const t=this.kc.tgt().Gvt();let s=t.get("TriggerOnce_lastTick");void 0===s&&(s=-1,t.set("TriggerOnce_lastTick",-1));const i=this.kc.pF();return t.set("TriggerOnce_lastTick",i),this.kc.eQt()||s!==i-1},DJt(t){const s=this.kc.tgt().Gvt(),i=s.get("Every_lastTime")||0,e=this.kc.fF();s.has("Every_seconds")||s.set("Every_seconds",t);const n=s.get("Every_seconds");return e>=i+n?(s.set("Every_lastTime",i+n),e>=s.get("Every_lastTime")+.04&&s.set("Every_lastTime",e),s.set("Every_seconds",t),!0):(e<i-.1&&s.set("Every_lastTime",e),!1)},Fyt(t){const s=this.kc.jk().Sgt(t);return s&&s.Fyt()},kBt(){return this.kc.kBt()},hi:()=>vS.Zs.hi,JVt:()=>!0,_j:()=>!0,NJt:()=>!0,gQt:()=>!0,TQt:()=>!0,wQt:()=>!0,MQt:()=>!0,LJt(t){return!!this.kc.rj(t)},OJt(t){switch(t){case 0:return"browser"===vS.Zs.ni;case 1:return"iOS"===vS.Zs.Ks;case 2:return"Android"===vS.Zs.Ks;case 8:return"cordova"===vS.Zs.ni;case 9:return"scirra-arcade"===this.kc.Tz();case 10:return"nwjs"===vS.Zs.ni;case 13:return"windows-uwp"===this.kc.Tz();default:return!1}},RJt(t,s,i){return this.aJt(s,i).test(t)},PJt:(t,s,i)=>vS.compare(t,s,i),kJt:(t,s,i)=>t>=s&&t<=i,FJt:(t,s,i)=>vS.compare(t.Jet(),s,i),jJt:t=>!!t.Jet(),zJt(t,s){const i=this.kc.fF();if(0===t){const t=this.kc.tgt().Gvt();return!t.get("CompareTime_executed")&&i>=s&&(t.set("CompareTime_executed",!0),!0)}return vS.compare(i,t,s)},BJt:t=>isNaN(t),FGt:(t,s,i)=>vS.rr(vS.Kn(t),vS.Kn(i))<=vS.Kn(s),jGt:(t,s)=>vS.ar(vS.Kn(t),vS.Kn(s)),Hxt(t,s,i){let e=vS.Kn(t),n=vS.Kn(s),r=vS.Kn(i);return vS.ar(r,n)?vS.ar(e,n)&&!vS.ar(e,r):!(!vS.ar(e,n)&&vS.ar(e,r))},UJt:(t,s)=>"number"==typeof t?0===s:1===s,WJt:t=>!!t,gyt(t){return t.toLowerCase()===this.kc.jk().Syt()},VJt(t,s,i,e){if(!t)return!1;const n=this.dJt(),r=n.Aq(),h=t.LB();vS.xh(r,h.NB()),h.Qdt()&&vS.Mh(h.spt());const o=this.kc.tgt();let a=0;for(let t=0,n=r.length;t<n;++t){const n=r[t];r[a]=n,s=o.jvt(1,t),e=o.jvt(3,t),vS.compare(s,i,e)?++a:h.Kdt(n)}vS.wh(r,a),h.ept(r);const u=!!r.length;return vS.Mh(r),n.zq(),t.LSt(),u},YJt(t,s){if(!t)return!1;const i=this.dJt(),e=i.Aq(),n=t.LB();vS.xh(e,n.NB()),n.Qdt()&&vS.Mh(n.spt());const r=this.kc.tgt();let h=0;for(let t=0,s=e.length;t<s;++t){const s=e[t];e[h]=s,r.jvt(1,t)?++h:n.Kdt(s)}vS.wh(e,h),n.ept(e);const o=!!e.length;return vS.Mh(e),i.zq(),t.LSt(),o},QJt(t,s,i){if(!t)return!1;const e=t.LB(),n=e.NB();if(0===n.length)return!1;const r=this.kc.tgt();let h=null,o=0;for(let t=0,e=n.length;t<e;++t){const e=n[t];i=r.jvt(2,t),(null===h||0===s&&i<o||1===s&&i>o)&&(o=i,h=e)}return e.apt(h),t.LSt(),!0},JJt(t,s){if(!t)return!1;const i=t.LB(),e=i.NB();if((s=Math.floor(s))>=e.length)return!1;const n=e[s];return i.apt(n),t.LSt(),!0},HJt(t){if(!t)return!1;const s=t.LB(),i=s.NB(),e=Math.floor(this.kc.BF()*i.length);if(e>=i.length)return!1;const n=i[e];return s.apt(n),t.LSt(),!0},qJt:t=>!!t&&(!!t.PB()&&(t.LB().$dt(!0),t.LSt(),!0)),XJt(t,s,i){if(!t)return!1;const e=t.LB(),n=e.NB(),r=this.kc.Yk().upt(),h=this.kc.tgt().Tvt();e.Qdt()?(vS.xh(xS,n),e.Ydt(),e.$dt(!1)):r?(vS.xh(xS,e.spt()),vS.Mh(e.spt())):(vS.xh(xS,e.tpt()),vS.Mh(e.tpt()));for(let t=0,n=xS.length;t<n;++t){const n=xS[t];vS.xor(n.lj().LY(s,i),h)?e.Zdt(n):e.Kdt(n)}return t.LSt(),vS.xor(!!e.tpt().length,h)},ZJt(t){if(!t)return!1;const s=t.P0();let i=null;const e=this.kc.bNt();for(let n=e.length-1;n>=0;--n){const r=e[n];if(s){if(r.BW().vxt(t)){i=r;break}}else if(r.BW()===t){i=r;break}}if(!i){const s=t.NB();s.length&&(i=s.at(-1))}return!!i&&(t.LB().apt(i),t.LSt(),!0)},KJt(t){return this.kc.bIt()?this.mJt(t):this.pJt(t)},$Jt(){return this.kc.bIt()?this.yJt():this.gJt()},tHt(t,s,i){return this.kc.bIt()?this.MJt(t,s,i):this.wJt(t,s,i)},Ud(t){return this.kc.bIt()?this.TJt(t):this.SJt(t)},sHt(t,s,i){return this.kc.bIt()?this.vJt(t,i):this.bJt(t,i)},iHt:t=>!!t&&t.HU(),eHt:t=>!!t&&t.iW(),nHt:t=>!!t&&t.$U(),rHt:t=>!!t&&!t.PB(),hHt:(t,s,i)=>!!t&&vS.compare(100*t.$N(),s,i),oHt(t){const s=this.kc.UF();return!!s&&s.M4(t)},cJt:()=>!0,aHt(){return this.rJt>0},uHt(t,s){const i=this.kc.DLt();return!!i&&!!s&&!!i.klt(t,s)}}}{let IS=function(t,s){const i=t[0]-s[0];return 0!==i?i:t[1]-s[1]},GS=function(t,s){return t[1]-s[1]};0;const CS=self.Gs,_S=[],AS=[],ES=CS.Vn(CS.Rect),DS=CS.Vn(CS.vo),NS=[];CS.Dj.Ej.krt={lHt(t,s){t.Ant(s)},cHt(t,s){t.Ki()&&"number"!=typeof s&&(s=parseFloat(s)),t.Ant(t.Jet()+s)},fHt(t,s){t.Ki()&&t.Ant(t.Jet()-s)},dHt(t,s){t.Ant(!!s)},pHt(t){t.Ant(!t.Jet())},mHt(t){t.Ant(t.Kmt())},gHt(t){this.kc.jk().wgt(t)},yHt(t,s,i,e,n,r){if(!t||!s)return;const h=this.kc.jB(t,s,i,e,n,r);if(!h)return;n&&s.zB(h);const o=this.kc.jk();o.BB(!0),h.UB(),o.BB(!1);const a=new Map;h.bLt(a,t,n);for(const[t,s]of a)t.LB().npt(s)},wHt(t,s,i,e,n,r){if(!t||!s)return;const h=this.kc.KVt(t);h&&CS.Dj.Ej.krt.yHt.call(this,h,s,i,e,n,r)},O0(t,s,i,e,n,r,h,o,a,u,l){if(!t)return;const c=this.kc.aj();let f=c;if(r){const t=this.kc.YF().J5(r);if(!t)return;f=t}let d=null;if(("number"!=typeof h||h>=0)&&(d=f.cj(h),!d))return;let p=null;if(("number"!=typeof o||o>=0)&&(p=c.cj(o),!p))return;ES.set(s,i,e,n);const m=f.O0(t,ES,d,p,a,u,l);t.LB().ept(m),t.LSt()},MHt(){const t=this.imt;t.Kpt()&&t.Xpt().NJ()},jyt(t,s){const i=this.kc.jk().Sgt(t);i&&(0===s?i.jyt(!1):1===s?i.jyt(!0):i.jyt(!i.Fyt()))},SHt(t){this.kc.MF(t)},THt(t,s){if(s<0&&(s=0),!t)return;const i=t.LB().NB();for(const t of i)t.MF(s)},bHt(t){if(!t)return;const s=t.LB().NB();for(const t of s)t.oV()},dh(t,s){if(t<0)return;const i=this.kc.jk().tyt();return s?i.oCt(t):i.aCt(t),!0},eF(t){return this.kc.jk().tyt().uCt(t),!0},vHt(){const t=this.kc.jk();return t.tyt().lCt(t.myt()),!0},sF(t){this.kc.jk().sF(t)},async Gj(t,s,i,e,n,r){const h=this.kc.Ij();h&&(this.yj(),await h.Gj(0===t?"image/png":"image/jpeg",s/100,i,e,n,r),await this.kc.Cj(CS.Dj.Ej.Aj._j,null))},xHt(t,s){if(t<=0||s<=0)return;this.kc.zzt(t,s),this.kc.aj().l3();const i=this.kc.Ij();i&&("off"===i.Lzt()||this.kc.tYt(t,s),i.vE(i.DH(),i.NH(),!0),this.kc.yj())},IHt(t){const s=this.kc.Ij();s&&"off"!==s.Lzt()&&(s.Jzt(0!==t?"high":"low"),s.vE(s.DH(),s.NH(),!0))},uet(t){this.kc.oQt(t)},GHt(){this.kc.aQt()},CHt(t){this.kc.uQt(t)},_Ht(t){this.kc.gGt(t)},AHt(t){},EHt(){for(const t of this.kc.YF().HF())t._5()},DHt(t){this.kc.nQt(0!==t)},NHt(t,s){this.kc.PF(1/t),this.kc.LF(1/s)},LHt(t,s){this.kc.LF(t),this.kc.PF(s)},OHt(t){this.kc.EF(["vsync","unlimited-tick","unlimited-frame"][t])},RHt(t,s){if(!t)return;const i=t.LB().NB(),e=_S,n=AS,r=this.kc.aj(),h=t.P0(),o=t.ibt();for(let t=0,r=i.length;t<r;++t){const r=i[t],a=r.lj();if(!a)continue;let u;u=h?r.Aht(s+r.BW().sbt(o)):r.Aht(s),e.push([a.cj().$P(),a.fj()]),n.push([r,u])}if(!e.length)return;e.sort(IS),n.sort(GS);let a=!1;for(let t=0,s=e.length;t<s;++t){const s=n[t][0],i=r.dj(e[t][0]),h=e[t][1],o=i.pj();o[h]!==s&&(o[h]=s,s.lj().mj(i,!0),i.gj(s),a=!0)}a&&this.kc.yj(),CS.Mh(_S),CS.Mh(AS)},lz(t,s){t=Math.floor(t),s=Math.floor(s),t<=0||s<=0||!Number.isFinite(t)||!Number.isFinite(s)||this.kc.ak().lz(t,s)},PHt(t){if(this.kc.bw())return;const s=this.kc.YF();s.XF()||s.ZF(t)},kHt(t){if(this.kc.bw())return;const s=this.kc.YF();if(s.XF())return;const i=s.J5(t);i&&s.ZF(i)},FHt(t){if(this.kc.bw())return;const s=this.kc.YF();if(s.XF())return;const i=s.HF(),e=i.indexOf(s.UF());if(t&&0===e)return;if(!t&&e===i.length-1)return;const n=i[e+(t?-1:1)];s.ZF(n)},jHt(){if(this.kc.bw())return;const t=this.kc.YF();t.XF()||(t.ZF(t.UF()),this.kc.jk().xgt())},zHt(t,s){t&&t.QU(s)},BHt(t,s){t&&t.ZU(s)},UHt(t,s){t&&t.tW(s)},WHt(t,s){t&&t.sL(s/100)},VHt(t,s){t&&t.eW(s)},YHt(t,s){t&&t.hW(s)},QHt(t,s){t&&t.uU(CS.Kn(+s))},JHt(t,s,i){t&&(t.GW(!0),t.cU(s),t.dU(i))},HHt(t){t&&t.GW(!1)},qHt(t,s,i){t&&t.g1(s/100,i/100)},XHt(t,s){t&&t.qb(+s)},ZHt(t,s){t&&t.gW(1===s)},KHt(t,s){if(!t)return;DS.Ko(s),DS.Xn();const i=t.IW();i.Vo(DS)||(i.Po(DS),this.yj())},$Ht(t,s){t&&t.MW(s)},tqt(t,s){t&&t.Nb(s)},sqt(t,s,i){if(!t)return;const e=t.eU().srt(i);if(!e)return;const n=1===s;e.Awt()!==n&&(e.akt(n),t.HQ(),this.kc.yj())},iqt(t,s,i,e){if(!t)return;const n=t.eU(),r=n.srt(s);if(!r)return;i=Math.floor(i);const h=r.EG().NG(i);h&&("color"===h?(DS.Ko(e),e=DS):"percent"===h&&(e/=100),n.XQ(r.$P(),i,e)&&r.Awt()&&this.kc.yj())},eqt(t,s){t&&t.bW(s)},nqt(t){this.kc.aj().oU(+t)},rqt(t){this.kc.aj().uU(CS.Kn(+t))},hqt(t,s){const i=this.kc.aj(),e=i.eU().srt(s);if(!e)return;const n=1===t;e.Awt()!==n&&(e.akt(n),i.HQ(),this.kc.yj())},oqt(t,s,i){const e=this.kc.aj().eU(),n=e.srt(t);if(!n)return;s=Math.floor(s);const r=n.EG().NG(s);r&&("color"===r?(DS.Ko(i),i=DS):"percent"===r&&(i/=100),e.XQ(n.$P(),s,i)&&n.Awt()&&this.kc.yj())},aqt(t,s){this.kc.aj().NU(t/100,s/100)},uqt(t){const s=this.kc.aj();0===t?s.RU():s.PU()},lqt(t){this.kc.aj().cU(t)},cqt(t){this.kc.aj().dU(t)},fqt(t,s){const i=this.kc.aj();i.cU(t),i.dU(s)},dqt(t){if(!t)return;const s=t.lIt();if(!s)return;const i=s.lj();if(!i)return;const e=this.kc.aj();e.cU(i.Wb()),e.dU(i.Qb())},xU(t,s,i){const e=this.kc.aj();try{e.xU(t,s,i)}catch(t){console.warn("[Construct] Cannot add layer: ",t)}},GU(t,s,i){if(!t)return;const e=this.kc.aj();try{e.GU(t,s,i)}catch(t){console.warn("[Construct] Cannot move layer: ",t)}},_U(t){t&&this.kc.aj()._U(t)},EU(){this.kc.aj().EU()},async pqt(t){const s=this.kc.UF();if(!s||!t||this.kc.bw())return;const i=t.P0()?t.$B():[t];await this.lJt(s,i)},async mqt(t){await CS.Dj.Ej.krt.pqt.call(this,this.kc.KVt(t))},gqt(t){const s=this.kc.UF();if(!s||!t)return;const i=t.P0()?t.$B():[t];this.fJt(s,i)},yqt(t){CS.Dj.Ej.krt.gqt.call(this,this.kc.KVt(t))},wqt(){const t=this.kc.UF();if(!t)return;const s=t.D4();this.fJt(t,s)},async Mqt(t){const s=this.kc.UF();t&&s&&!this.kc.bw()&&await this.lJt(s,t._4())},async Sqt(t){const s=this.kc.UF(),i=this.kc.YF().J5(t);i&&s&&!this.kc.bw()&&await this.lJt(s,i._4())},tF(t){const s=this.Udt.Zk();if(s)switch(s.$k()){case 1:"number"==typeof t&&s.tF(t);break;case 2:"string"==typeof t&&s.tF(t);break;case 3:s.tF(t)}},Tqt(t,s,i){const e=this.xJt(t.toLowerCase(),!0),n=e.GJt,r=s.toLowerCase();n.has(r)&&console.warn(`[Construct] Function map '${t}' string '${s}' already in map; overwriting entry`);const h=CS.jh(n.values())||e.IJt;h&&0!==h.qk()!=(0!==i.qk())?console.error(`[Construct] Function map '${t}' string '${s}' function return type not compatible with other functions in the map; entry ignored`):n.set(r,i)},bqt(t,s){const i=this.xJt(t.toLowerCase(),!0);i.IJt&&console.warn(`[Construct] Function map '${t}' already has a default; overwriting entry`);const e=CS.jh(i.GJt.values())||i.IJt;e&&0!==e.qk()!=(0!==s.qk())?console.error(`[Construct] Function map '${t}' default: function return type not compatible with other functions in the map; entry ignored`):i.IJt=s},vqt(t,s,i){const e=this.kc,n=e.bIt()?NS:null;i=Math.floor(i);const r=this.xJt(t.toLowerCase(),!1);if(!r)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; call ignored`),n;let h=r.GJt.get(s.toLowerCase());if(!h){if(!r.IJt)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; call ignored (consider setting a default)`),n;h=r.IJt,i=0}if(!h.Il())return n;if(0!==h.qk())return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has a return type so cannot be called`),n;const o=e.jk(),a=o.Yk(),u=a.Vk(),l=u.length>0;l&&(h.Hk()?o.Oq(u):o.Kgt(u));const c=[],f=o.Yyt(a);if(f){const t=f.Jyt();for(let s=i,e=t.length;s<e;++s)c.push(t[s].Jet())}const d=h.Jyt();for(let t=c.length,s=d.length;t<s;++t)c.push(d[t].Kmt());return e.bIt()?this._Jt(o,h,c,l,u):this.CJt(o,h,c,l,u)}}}{const LS=self.Gs;LS.Dj.Ej.Frt={xqt:function(t){return"string"==typeof t&&(t=parseInt(t,10),isNaN(t)&&(t=0)),Math.floor(t)},float:function(t){return"string"==typeof t&&(t=parseFloat(t),isNaN(t)&&(t=0)),t},_:t=>t.toString(),Pt:t=>"string"==typeof t?t.length:0,random(t,s){return void 0===s?this.kc.BF()*t:this.kc.BF()*(s-t)+t},zTt(...t){return t[Math.floor(this.kc.BF()*t.length)]},Iqt:(t,...s)=>("number"!=typeof t&&(t=0),s[t=LS.Xn(Math.floor(t),0,s.length-1)]),Gqt:()=>Math.PI,Cqt:()=>1/0,sqrt:t=>Math.sqrt(t),abs:t=>Math.abs(t),round:t=>Math.round(t),_qt(t,s){s=Math.max(Math.floor(s),0);const i=Math.pow(10,s);return Math.round((t+Number.EPSILON)*i)/i},floor:t=>Math.floor(t),ceil:t=>Math.ceil(t),sign:t=>Math.sign(t),sin:t=>Math.sin(LS.Kn(t)),cos:t=>Math.cos(LS.Kn(t)),tan:t=>Math.tan(LS.Kn(t)),asin:t=>LS.$n(Math.asin(t)),acos:t=>LS.$n(Math.acos(t)),atan:t=>LS.$n(Math.atan(t)),exp:t=>Math.exp(t),Ut:t=>Math.log(t),log10:t=>Math.log10(t),max(...t){let s=t[0];"number"!=typeof s&&(s=0);for(let i=1,e=t.length;i<e;++i){let e=t[i];"number"==typeof e&&s<e&&(s=e)}return s},min(...t){let s=t[0];"number"!=typeof s&&(s=0);for(let i=1,e=t.length;i<e;++i){let e=t[i];"number"==typeof e&&s>e&&(s=e)}return s},Xn:(t,s,i)=>LS.Xn(t,s,i),St:(t,s,i,e)=>LS.ir(t,s,i,e),angle:(t,s,i,e)=>LS.$n(LS.nr(t,s,i,e)),Gt:(t,s,i)=>LS.Gt(t,s,i),pr:(t,s,i)=>LS.pr(t,s,i),gr:(t,s,i,e)=>LS.gr(t,s,i,e),yr:(t,s,i,e,n)=>LS.yr(t,s,i,e,n),wr:(t,s,i)=>LS.wr(t,s,i),Aqt:(t,s)=>LS.$n(LS.rr(LS.Kn(t),LS.Kn(s))),Eqt:(t,s,i)=>LS.$n(LS.ur(LS.Kn(t),LS.Kn(s),i)),Dqt:(t,s,i)=>LS.$n(LS.hr(LS.Kn(t),LS.Kn(s),LS.Kn(i))),Nqt:(t,s,i)=>(t|=0)&~(1<<(s|=0))|(i=0!==i?1:0)<<s,Lqt:(t,s)=>(t|=0)^1<<s,Oqt:(t,s)=>(t|=0)&1<<(s|=0)?1:0,Rqt:()=>"\n",Pqt:t=>"string"==typeof t?t.toUpperCase():"",kqt:t=>"string"==typeof t?t.toLowerCase():"",left:(t,s)=>"string"==typeof t?t.substr(0,s):"",mid:(t,s,i)=>"string"!=typeof t?"":i<0?t.substr(s):t.substr(s,i),right:(t,s)=>"string"==typeof t?t.substr(Math.max(t.length-s,0)):"",trim:t=>"string"==typeof t?t.trim():"",Fqt(t,s,i){if("string"!=typeof t||"string"!=typeof i)return"";let e=t.split(i);return(s=Math.floor(s))<0||s>=e.length?"":e[s]},jqt:(t,s)=>"string"==typeof t&&"string"==typeof s&&t.length?t.split(s).length:0,find:(t,s)=>"string"==typeof t&&"string"==typeof s?t.search(new RegExp(LS.Xi(s),"i")):-1,zqt:(t,s)=>"string"==typeof t&&"string"==typeof s?t.search(new RegExp(LS.Xi(s),"")):-1,replace:(t,s,i)=>"string"==typeof t&&"string"==typeof s&&"string"==typeof i?t.replace(new RegExp(LS.Xi(s),"gi"),i):"string"==typeof t?t:"",Bqt(t,...s){let i=t;for(let t=0,e=s.length;t<e;++t)i=i.replaceAll(`{${t}}`,s[t].toString());return i},Uqt(t,s,i){const e=this.aJt(s,i);return t?t.search(e):-1},Wqt(t,s,i,e){const n=this.aJt(s,i);return t?t.replace(n,e):""},Vqt(t,s,i){const e=this.uJt(t.toString(),s,i);return e?e.length:0},Yqt(t,s,i,e){e=Math.floor(e);const n=this.uJt(t.toString(),s,i);return!n||e<0||e>=n.length?"":n[e]},Qqt(t,s){let i=t<0?"-":"";t<0&&(t=-t);const e=s-t.toString().length;return i+="0".repeat(Math.max(e,0)),i+t.toString()},Jqt:t=>encodeURIComponent(t),Hqt:t=>decodeURIComponent(t),oF(){return this.kc.G8()},qqt(){return this.kc.C8()},Xqt(){return this.kc.wF()},Zqt(){return(Date.now()-this.kc.HYt())/1e3},Kqt:()=>Date.now(),time(){return this.kc.fF()},$qt(){return this.kc.pF()},tXt(){return this.kc.ZYt()},SF(){return this.kc.TF()},sXt(){return this.kc.IF()},iXt(){return this.kc.CF()},eXt(){return this.kc.Ij().Pz()},nXt(){return this.kc.Ij().Fz()},rXt(){return this.kc.Ik()},hXt(){return this.kc.Ck()},oXt(){return this.kc.Ik()},aXt(){return this.kc.Ck()},uXt(){return this.kc.aj().fU()},lXt(){return this.kc.aj().pU()},cXt(){return this.kc.aj()._c()},fXt(){return this.kc.aj().aU()},dXt(){return LS.$n(this.kc.aj().lU())},pXt(){return this.kc.aj().Bg()},mXt(){return this.kc.aj().Zg()},gXt(){return 100*this.kc.aj().a1()},yXt(){return 100*this.kc.aj().u1()},wXt(t){const s=this.kc.aj().cj(t);return s?s.o1().Za():0},MXt(t){const s=this.kc.aj().cj(t);return s?s.o1().Ka():0},SXt(t){const s=this.kc.aj().cj(t);return s?s.o1().$a():0},TXt(t){const s=this.kc.aj().cj(t);return s?s.o1().tu():0},bXt(t){const s=this.kc.aj().cj(t);return s?s.o1().width():0},vXt(t){const s=this.kc.aj().cj(t);return s?s.o1().height():0},xXt(t){const s=this.kc.aj().cj(t);if(s){const t=s.o1();return(t.Za()+t.$a())/2}return 0},IXt(t){const s=this.kc.aj().cj(t);if(s){const t=s.o1();return(t.Ka()+t.tu())/2}return 0},GXt(t,s,i){const e=this.kc.aj().cj(t);return e?e.DW(s,i)[0]:0},CXt(t,s,i){const e=this.kc.aj().cj(t);return e?e.DW(s,i)[1]:0},_Xt(t,s,i){const e=this.kc.aj().cj(t);return e?e.LW(s,i)[0]:0},AXt(t,s,i){const e=this.kc.aj().cj(t);return e?e.LW(s,i)[1]:0},EXt(t,s,i,e){const n=this.kc.aj(),r=n.cj(t),h=n.cj(s);if(!r||!h||r===h)return i;const[o,a]=r.LW(i,e);return h.DW(o,a)[0]},DXt(t,s,i,e){const n=this.kc.aj(),r=n.cj(t),h=n.cj(s);if(!r||!h||r===h)return e;const[o,a]=r.LW(i,e);return h.DW(o,a)[1]},NXt(t){const s=this.kc.aj().cj(t);return s?s.nW():0},LXt(t){const s=this.kc.aj().cj(t);return s?LS.$n(s.aW()):0},OXt(t){const s=this.kc.aj().cj(t);return s?100*s.$N():0},RXt(t){const s=this.kc.aj().cj(t);return s?s.oW():0},PXt(t){const s=this.kc.aj().cj(t);return s?s.fU():0},kXt(t){const s=this.kc.aj().cj(t);return s?s.pU():0},FXt(t){const s=this.kc.aj().cj(t);return s?100*s.cW():0},jXt(t){const s=this.kc.aj().cj(t);return s?100*s.pW():0},zXt(t){const s=this.kc.aj().cj(t);return s?s.Hb():0},BXt(t){const s=this.kc.aj().cj(t);return s?s.$P():-1},UXt(){const t=this.kc.Ij();return t?t.wBt():""},WXt(t){const s=this.imt;if(!s.Kpt())return 0;if(t){const i=s.tmt(t);return i?i.$P():0}return s.Xpt().$P()},VXt(){return this.kc.lQt()},YXt(t,s,...i){const e=this.xJt(t.toLowerCase(),!1);if(!e)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; returning 0`),0;let n=e.GJt.get(s.toLowerCase());if(!n){if(!e.IJt)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; returning 0 (consider setting a default)`),0;n=e.IJt}const r=n.qk(),h=n.Bk();if(0===r)return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has no return type so cannot be called from an expression; returning 0`),0;if(!n.Il())return h;const o=this.kc.jk(),a=o.Yk().Vk(),u=a.length>0;u&&(n.Hk()?o.Oq(a):o.Kgt(a));const l=n.Jyt();for(let t=i.length,s=l.length;t<s;++t)i.push(l[t].Kmt());const c=n.Wk(),f=c.Jk(c.Vk(),n.Hk(),r,h,...i);return u&&o.Pq(a),f},QXt(){return this.kc.nk().FF()},JXt(){return this.qZ()},DC(){return this.kc.tBt()?"webgpu":"webgl"},HXt(){return this.kc.tBt()?this.kc.tBt().sBt():this.kc.$zt().hO()},qXt(){let t=this.kc.lb().jT();return Math.round(100*t/1048576)/100},XXt:(t,s,i)=>LS.Gr(t,s,i),ZXt:(t,s,i)=>LS._r(t/100,s/100,i/100),KXt:(t,s,i,e)=>LS.Cr(t/100,s/100,i/100,e/100),$Xt:(t,s,i)=>LS._r(t/255,s/255,i/255),tZt:(t,s,i,e)=>LS.Cr(t/255,s/255,i/255,e/255),sZt(){return this.kc.fk()},iZt(){return this.kc.pk()},eZt(){return this.kc.gk()},nZt(){return this.kc.wk()},rZt(){return this.kc.Yk().y4()._c()},hZt(){return this.kc.Yk().WMt()}}}{const OS=self.Gs;OS.Dj.nrt=class extends OS.gCt{constructor(t){super(t)}Yn(){super.Yn()}}}{const RS=self.Gs,PS=self.ks,kS=[];RS.Dj.nrt.NDt=class extends RS.t_t{constructor(t){super(t),this.IDt=t.lNt()}Yn(){RS.Mh(this.IDt),super.Yn()}jCt(){for(const t of this.IDt)t.GEt(this.kc)}L4(t){const s={Wv:this.kc._k()};return Promise.all(this.IDt.map((i=>i.CEt(t,s))))}z4(){for(const t of this.IDt)t._Et()}P4(){this.oZt()}oZt(){for(const t of this.Odt.DB())t.EQ().aZt()}Nvt(t){RS.Dj.nrt.HGt(this,t)}wxt(t){kS.push({n_t:null,uZt:!1,vB:[]})}lZt(t,s,i){const e=kS.at(-1);e.n_t=t,e.uZt=i,e.vB.push(s)}Mxt(t){const s=kS.pop(),i=s.n_t,e=s.uZt;if(!i)return;const n=new Map;for(const t of s.vB)t.bLt(n,i,e);for(const[t,s]of n)t.LB().npt(s)}cZt(t){const s=this.BW().mNt(t),i=this.Fj();return s.AEt(0).mJ().wX(i.lb(),{Wv:i._k()}).then((()=>this.oZt())),s}fZt(t){for(const s of this.Odt.DB())s.EQ().dZt(t);this.BW().gNt(t)}pZt(t,s){const i=this.Odt.dNt(t);if(!i)throw new Error(`cannot find animation name '${t}'`);let e=i.LEt(s);e<0&&(e+=i.oJ()+1);const n=RS.vEt.IEt(this.Fj());i.EEt(n,e);const r=this.Fj();n.mJ().wX(r.lb(),{Wv:r._k()}).then((()=>this.oZt()));for(const t of this.Odt.DB())t.EQ().mZt();return n}gZt(t,s){const i=this.Odt.dNt(t);if(!i)throw new Error(`cannot find animation name '${t}'`);if(1===i.oJ())throw new Error(`cannot remove last frame from animation '${t}'`);let e=i.LEt(s);e<0&&(e+=i.oJ()),i.DEt(e);for(const t of this.Odt.DB())t.EQ().mZt()}zCt(){return self.yZt}};const FS=new WeakMap;self.yZt=class extends self.OB{constructor(t){super(t),FS.set(this,t.yxt())}wZt(t){PS.ue(t);const s=FS.get(this).BW().dNt(t);return s?s.OEt():null}MZt(){return FS.get(this).BW().fNt().map((t=>t.OEt()))}SZt(t){return PS.ue(t),FS.get(this).cZt(t).OEt()}TZt(t){PS.ue(t),FS.get(this).fZt(t)}bZt(t,s){if(PS.ue(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");return FS.get(this).pZt(t,s).lJ()}vZt(t,s){if(PS.ue(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");FS.get(this).gZt(t,s)}}}{const jS=self.Gs,zS=self.ks,BS=0,US=1,WS=2,VS=3,YS=jS.Vn(jS.Rect),QS=jS.Vn(jS.Cu),JS=jS.Vn(jS.Ca),HS=1,qS=2,XS=4;jS.Dj.nrt.Instance=class extends jS.L_t{constructor(t,s){super(t);let i=!0,e="",n=0,r=!0;s&&(i=!!s[BS],e=s[US],n=s[WS],r=s[VS]),this.xZt=this.Odt.dNt(e)||this.Odt.lNt()[0],this.IZt=jS.Xn(n,0,this.xZt.oJ()-1),this.GZt=this.xZt.AEt(this.IZt);const h=this.GZt.mJ();this.CZt=h.lI(),this._Zt=h.tD(),this.AZt=h.Y_t(),this.k_t(),t.SLt(qS,!0),t.SLt(HS,this.xZt.KQ()>=0),this.EZt=Math.abs(this.xZt.KQ()),this.DZt=this.xZt.nJ(),this.NZt=jS.Vn(jS.Kf),this.LZt=0,this.OZt=0,this.RZt="",this.PZt=-1,this.kZt="",this.FZt=0;const o=this.lj();this.jZt=o.gY(),o.QU(i),o.NY(r),o.nY(this.GZt.eY()),o.oY(this.GZt.hY()),o.vPt(this.GZt.IJ()),o.KV(),1===this.Odt.cNt()&&1===this.Odt.lNt()[0].oJ()||0===this.EZt||this.x_t()}Yn(){this.xZt=null,this.GZt=null,this.CZt=null,this.NZt=null,super.Yn()}B_t(){return this.GZt.mJ()}Rit(){return!0}xK(){this.CZt=null}z_t(){this.aZt()}Nv(t){const s=this.CZt;if(null===s)return;t.nL(s);const i=this.lj();i.SQ()?this.zZt(i,t):this.BZt(i,t)}BZt(t,s){let i=this.jZt;this.kc.Ek()&&(i=t.gPt(i)),s.pL(i,this.AZt)}zZt(t,s){const i=t.OPt();if(t.PPt()){t.dY(YS,QS,!1);let s=QS;this.kc.Ek()&&(s=t.gPt(s)),i.Dv(t.TQ(),s,this.AZt),t.RPt(!1)}i.Nv(s)}UZt(){return this.NZt.Ys()}WZt(){return this.fi.TLt(qS)}VZt(t){this.fi.SLt(qS,t)}YZt(){return this.fi.TLt(HS)}QZt(t){this.fi.SLt(HS,t)}JZt(){return this.fi.TLt(XS)}HZt(t){this.fi.SLt(XS,t)}_8(){this.kZt&&this.qZt(),this.PZt>=0&&this.XZt();const t=this.EZt;if(!this.WZt()||0===t)return void this.a_t();const s=this.kc.aF(this.fi);this.NZt.Fl(s);const i=this.UZt(),e=this.GZt,n=e.gJ()/t;if(i<this.LZt+n)return;const r=this.xZt,h=this.DZt,o=r.oJ(),a=r.iJ(),u=r.tJ(),l=r.hJ();this.YZt()?this.IZt++:this.IZt--,this.LZt+=n,this.IZt>=o&&(l?(this.QZt(!1),this.IZt=o-2):u?this.IZt=h:(this.OZt++,this.OZt>=a?this.ZZt(!1):this.IZt=h)),this.IZt<0&&(l?(this.IZt=1,this.QZt(!0),u||(this.OZt++,this.OZt>=a&&this.ZZt(!0))):u?this.IZt=h:(this.OZt++,this.OZt>=a?this.ZZt(!0):this.IZt=h)),this.IZt=jS.Xn(this.IZt,0,o-1);const c=r.AEt(this.IZt);i>this.LZt+c.gJ()/t&&(this.LZt=i),this.KZt(e,c)}ZZt(t){this.IZt=t?0:this.xZt.oJ()-1,this.VZt(!1),this.RZt=this.xZt._c(),this.HZt(!0),this.e_t("animationend",!1,{animationName:this.RZt}),this.vV(jS.Dj.nrt.Aj.$Zt),this.vV(jS.Dj.nrt.Aj.tKt),this.HZt(!1),this.OZt=0}KZt(t,s,i){if(t===s)return;const e=this.lj(),n=t.mJ(),r=s.mJ(),h=n.Bg(),o=n.Zg(),a=r.Bg(),u=r.Zg();i&&i.rrt?i.rrt(e,h,o,a,u):(h!==a&&e.Hg(e.Bg()*(a/h)),o!==u&&e.Ug(e.Zg()*(u/o))),e.nY(s.eY()),e.oY(s.hY()),e.vPt(s.IJ()),e.KV(),this.GZt=s,this.CZt=r.lI(),this._Zt=r.tD(),this.AZt=r.Y_t();const l=this.iH().Knt();for(let i=0,e=l.length;i<e;++i)l[i].EAt(t,s);this.e_t("framechange",!1,{animationName:this.xZt._c(),sKt:this.IZt}),this.vV(jS.Dj.nrt.Aj.iKt),this.kc.yj()}eKt(t){this.VZt(!0),this.LZt=this.UZt(),1===t&&0!==this.IZt&&(this.PZt=0,this.JZt()||this.XZt()),this.x_t()}nKt(t,s,i){this.kZt=t,this.FZt=s,this.x_t(),!i&&this.JZt()||this.qZt()}rKt(){return this.xZt}hKt(){return this.kZt?this.kZt:this.xZt._c()}dZt(t){jS.Ze(t,this.hKt())&&this.nKt(this.Odt.yNt()._c(),1,!0)}oKt(t){if("string"==typeof t)if(String(Number(t))===t)t=Number(t);else{const s=this.Odt.dNt(this.hKt());if(!s)return;if(-1===(t=s.NEt(t)))return}isFinite(t)&&(this.PZt=t,this.JZt()||this.XZt())}mZt(){if(this.kZt||-1!==this.PZt)return;const t=this.GZt,s=this.xZt.AEt(jS.Xn(this.IZt,0,this.xZt.oJ()-1));t!==s&&this.KZt(t,s),this.xZt.oJ()>1&&this.EZt>0&&this.x_t()}aKt(){return this.IZt}uKt(){return this.GZt.AJ()}lKt(t){this.EZt=Math.abs(t),this.QZt(t>=0),this.EZt>0&&this.x_t()}cKt(){return this.YZt()?this.EZt:-this.EZt}fKt(t){"string"==typeof t&&-1===(t=this.xZt.NEt(t))||(t=jS.Xn(Math.floor(t),0,this.xZt.oJ()-1),this.DZt=t)}dKt(){return this.DZt}qZt(t){const s=this.GZt,i=this.Odt.dNt(this.kZt);if(this.kZt="",!i)return;if(i===this.xZt&&this.WZt())return;this.xZt=i,this.QZt(i.KQ()>=0),this.EZt=Math.abs(i.KQ()),this.DZt=i.nJ(),this.IZt=jS.Xn(this.IZt,0,this.xZt.oJ()-1),1===this.FZt&&(this.IZt=0),this.VZt(!0),this.LZt=this.UZt();const e=this.xZt.AEt(this.IZt);this.KZt(s,e,t)}XZt(t){const s=this.GZt,i=this.IZt;if(this.IZt=jS.Xn(Math.floor(this.PZt),0,this.xZt.oJ()-1),this.PZt=-1,!t&&i===this.IZt)return;const e=this.xZt.AEt(this.IZt);this.KZt(s,e),this.LZt=this.UZt()}aZt(){const t=this.GZt.mJ();this.CZt=t.lI(),this._Zt=t.tD(),this.AZt=t.Y_t(),this.lj().RPt(!0)}lI(){return this.CZt}tD(){return this._Zt}Y_t(){return this.AZt}wJ(){return this.GZt.wJ()}Lxt(t){const s=this.GZt,i=this.lj();let e=null;if("string"==typeof t)e=s.vJ(t);else{if("number"!=typeof t)throw new TypeError("expected string or number");e=s.bJ(t-1)}let n=i.cY();if(!e)return[i.Wb(),i.Qb(),n];if(JS.m(e.YEt()),i.SQ()){const[t,s,e]=i.TQ().Fv(JS.Na(),JS.Oa());JS.set(t,s),n+=e}return JS.offset(-s.eY(),-s.hY()),JS.scale(i.Bg(),i.Zg()),JS.rotate(i.lU()),JS.offset(i.Wb(),i.Qb()),[JS.Na(),JS.Oa(),n]}pKt(){return this.lj()._Pt().dl()}mKt(t){t=Math.floor(t);const s=this.lj(),i=s._Pt(),e=i.dl();if(t===e&&(t=0),t<0||t>=e)return[0,0];const n=i.fl();return[n[2*t+0]+s.Wb(),n[2*t+1]+s.Qb()]}__t(){const t=jS.Dj.nrt.krt,s="plugins.sprite.debugger.animation-properties";return[{title:s+".title",properties:[{name:s+".current-animation",value:this.xZt._c(),gKt:s=>this.E_t(t.yKt,s,0)},{name:s+".current-frame",value:this.IZt,gKt:s=>this.E_t(t.wKt,s)},{name:s+".is-playing",value:this.WZt(),gKt:s=>s?this.E_t(t.MKt,0):this.E_t(t.SKt)},{name:s+".speed",value:this.EZt,gKt:s=>this.E_t(t.TKt,s)},{name:s+".repeats",value:this.OZt,gKt:t=>this.OZt=t}]}]}ev(){const t={a:this.xZt.W0()};0!==this.LZt&&(t.fs=this.LZt);const s=this.UZt();0!==s&&(t.at=s),0!==this.IZt&&(t.f=this.IZt),0!==this.EZt&&(t.cas=this.EZt),1!==this.OZt&&(t.ar=this.OZt),0!==this.DZt&&(t.rt=this.DZt),this.WZt()||(t.ap=this.WZt()),this.YZt()||(t.af=this.YZt());const i=this.lj();return i.DY()&&(t.ce=i.DY()),t}nv(t){const s=this.BW().pNt(t.a);s&&(this.xZt=s),this.LZt=t.hasOwnProperty("fs")?t.fs:0,this.NZt.Set(t.hasOwnProperty("at")?t.at:0);const i=t.hasOwnProperty("f")?t.f:0;this.IZt=jS.Xn(i,0,this.xZt.oJ()-1),this.EZt=t.hasOwnProperty("cas")?t.cas:0,this.OZt=t.hasOwnProperty("ar")?t.ar:1;const e=t.hasOwnProperty("rt")?t.rt:0;this.DZt=jS.Xn(e,0,this.xZt.oJ()-1),this.VZt(!t.hasOwnProperty("ap")||!!t.ap),this.QZt(!t.hasOwnProperty("af")||!!t.af);const n=this.xZt.AEt(this.IZt);this.GZt=n,this.aZt();const r=this.lj();r.nY(n.eY()),r.oY(n.hY()),r.vPt(n.IJ()),r.NY(!!t.ce),this.WZt()&&this.x_t()}Sht(t){const s=this.lj();switch(t){case VS:return s.DY();case WS:return jS.Xn(this.IZt,0,this.xZt.oJ()-1);case US:return this.xZt._c()}}Ght(t,s,i){const e=this.lj();switch(t){case VS:e.NY(!!s);break;case WS:{this.VZt(!1);const t=this.xZt.oJ()-1,e=s=jS.Xn(s,0,t),n=this.xZt.AEt(this.IZt),r=this.xZt.AEt(e);this.KZt(n,r,i),this.IZt=jS.Xn(e,0,t);break}case US:this.kZt=s,this.qZt(i),this.xZt.oJ()>1&&this.xZt.KQ()>0?this.x_t():this.a_t()}}zCt(){return self.bKt}};const ZS=new WeakMap,KS=new Map([["current-frame",0],["beginning",1]]);self.bKt=class extends self.IQ{constructor(){super(),ZS.set(this,self.zW.VW().EQ())}yJ(){return ZS.get(this).wJ()}MJ(t){return this.SJ(t)[0]}TJ(t){return this.SJ(t)[1]}vKt(t){return this.SJ(t)[2]}SJ(t){if("string"!=typeof t&&"number"!=typeof t)throw new TypeError("expected string or number");return ZS.get(this).Lxt(t)}xJ(){return ZS.get(this).pKt()}GJ(t){return zS.re(t),ZS.get(this).mKt(t)[0]}_J(t){return zS.re(t),ZS.get(this).mKt(t)[1]}CJ(t){return zS.re(t),ZS.get(this).mKt(t)}xKt(){ZS.get(this).VZt(!1)}IKt(t="current-frame"){zS.ue(t);const s=KS.get(t);if(void 0===s)throw new Error("invalid mode");ZS.get(this).eKt(s)}GKt(t,s="beginning"){zS.ue(t),zS.ue(s);const i=KS.get(s);if(void 0===i)throw new Error("invalid mode");const e=ZS.get(this);if(!e.BW().dNt(t))throw new Error(`animation name "${t}" does not exist`);e.nKt(t,i)}wZt(t){zS.ue(t);const s=ZS.get(this).BW().dNt(t);return s?s.OEt():null}get animation(){return ZS.get(this).rKt().OEt()}get animationName(){return ZS.get(this).hKt()}set sKt(t){zS.re(t),ZS.get(this).oKt(t)}get sKt(){return ZS.get(this).aKt()}set CKt(t){zS.ue(t),ZS.get(this).oKt(t)}get CKt(){return ZS.get(this).uKt()}set _Kt(t){zS.re(t),ZS.get(this).lKt(t)}get _Kt(){return ZS.get(this).cKt()}set AKt(t){zS.re(t),ZS.get(this).fKt(t)}get AKt(){return ZS.get(this).dKt()}get imageWidth(){return ZS.get(this).B_t().Bg()}get imageHeight(){return ZS.get(this).B_t().Zg()}EKt(){const t=ZS.get(this).B_t();return[t.Bg(),t.Zg()]}async DKt(t){zS.Fe(t,Blob);const s=ZS.get(this),i=s.Fj(),e=s.B_t(),n=jS.Vn(jS.qAt);if(n.uEt(i,t),await n.wX(i.lb(),{Wv:i._k()}),s.Qn())return void n.Yn();e.lEt(n);const r=s.yxt();r.oZt(),r.BW().yf().dispatchEvent(new jS.Event("animationframeimagechange")),i.yj()}NKt(t,s){zS.ue(s),ZS.get(this).lj().fPt(!!t,s)}}}{const $S=self.Gs;$S.Dj.nrt.Aj={LKt(t){return $S.Ze(this.hKt(),t)},OKt(t,s){return $S.compare(this.IZt,t,s)},RKt(t,s){if("string"!=typeof s)return!1;const i=this.GZt.AJ();return $S.compare(i.toLowerCase(),t,s.toLowerCase())},PKt(t,s){return $S.compare(this.cKt(),t,s)},tKt(t){return $S.Ze(this.RZt,t)},$Zt:()=>!0,iKt:()=>!0,kKt(){return this.lj().Bg()<0},FKt(){return this.lj().Zg()<0},jKt:()=>!0,zKt:()=>!0,DY(){return this.lj().DY()}}}{const tT=self.Gs;tT.Dj.nrt.krt={BKt(t,s,i,e,n){if(!t||!s)return;const[r,h]=this.Lxt(i),o=this.kc.jB(t,s,r,h,e,n);if(!o)return;if(e&&s.zB(o),t.TB().sB()){const t=o.lj();t.uU(this.lj().lU()),t.KV()}const a=this.kc.jk();a.BB(!0),o.UB(),a.BB(!1),t!==this.kc.igt().BW()&&this.o_t.lZt(t,o,e)},SKt(){this.VZt(!1)},MKt(t){this.eKt(t)},yKt(t,s){this.nKt(t,s)},wKt(t){this.oKt(t)},TKt(t){this.lKt(t)},UKt(t){this.fKt(t)},WKt(t,s){try{0===t?this.yxt().cZt(s):this.yxt().fZt(s)}catch(s){console.error(`[Construct] Error ${0===t?"adding":"removing"} animation: `,s)}},VKt(t,s,i){try{0===t?this.yxt().pZt(s,i):this.yxt().gZt(s,i)}catch(s){console.error(`[Construct] Error ${0===t?"adding":"removing"} animation frame: `,s)}},YKt(t){const s=this.lj(),i=s.Bg(),e=Math.abs(i)*(0===t?-1:1);i!==e&&(s.Hg(e),s.KV())},QKt(t){const s=this.lj(),i=s.Zg(),e=Math.abs(i)*(0===t?-1:1);i!==e&&(s.Ug(e),s.KV())},oU(t){const s=this.GZt.mJ(),i=this.lj(),e=i.Bg()<0?-1:1,n=i.Zg()<0?-1:1,r=s.Bg()*t*e,h=s.Zg()*t*n;i.Bg()===r&&i.Zg()===h||(i.vE(r,h),i.KV())},async JKt(t,s,i){const e=this.GZt.mJ(),n=this.lj(),r=this.kc,h=this.o_t;if(e.WZ()===t)return 0===s&&(n.vE(e.Bg(),e.Zg()),n.KV()),void this.vV(tT.Dj.nrt.Aj.jKt);const o=tT.Vn(tT.qAt);try{if(await o.aEt(r,t),!o.yK())throw new Error("image failed to load");if(this.Qn())return void o.Yn();await o.wX(r.lb(),{Wv:r._k()})}catch(t){return console.error("Load image from URL failed: ",t),void(this.Qn()||this.vV(tT.Dj.nrt.Aj.zKt))}this.Qn()?o.Yn():(e.lEt(o),h.oZt(),h.BW().yf().dispatchEvent(new tT.Event("animationframeimagechange")),r.yj(),0===s&&(n.vE(e.Bg(),e.Zg()),n.KV()),await this.Cj(tT.Dj.nrt.Aj.jKt))},HKt(t){this.lj().NY(t)},fPt(t,s){this.lj().fPt(0===t,s)},qKt(t){this.lj().Nb(t),this.kc.yj()}}}self.Gs.Dj.nrt.Frt={XKt(){return this.aKt()},ZKt(){return this.uKt()},KKt(){return this.xZt.oJ()},$Kt(){return this.xZt._c()},t$t(){return this.cKt()},s$t(){return this.xZt.KQ()},i$t(t){return this.Lxt(t)[0]},e$t(t){return this.Lxt(t)[1]},n$t(t){return this.Lxt(t)[2]},r$t(){return this.wJ()},h$t(){return this.B_t().Bg()},o$t(){return this.B_t().Zg()},a$t(t){return this.mKt(t)[0]},u$t(t){return this.mKt(t)[1]},l$t(){return this.pKt()}};{const sT=self.Gs;sT.Dj.c$t=class extends sT.gCt{constructor(t){super(t)}Yn(){super.Yn()}}}{const iT=self.Gs;iT.Dj.c$t.NDt=class extends iT.t_t{constructor(t){super(t)}Yn(){super.Yn()}jCt(){}}}{let eT=function(t,s,i){if(s<t.length)nT.wh(t,s);else if(s>t.length)if("function"==typeof i)for(let e=t.length;e<s;++e)t.push(i());else for(let e=t.length;e<s;++e)t.push(i)};0;const nT=self.Gs,rT=self.ks,hT=self.zW;nT.Dj.c$t.Instance=class extends nT.r_t{constructor(t,s){super(t),this.f$t=10,this.d$t=1,this.p$t=1,this.Pl=null,this.m$t=[],this.g$t=[],this.y$t=[],this.w$t=-1,s&&(this.f$t=s[0],this.d$t=s[1],this.p$t=s[2]),this.Pl=nT.bo(this.f$t,(()=>nT.bo(this.d$t,(()=>nT.bo(this.p$t,0)))))}Yn(){this.Pl=null,super.Yn()}M$t(t,s,i){return t=Math.floor(t),s=Math.floor(s),i=Math.floor(i),t>=0&&t<this.f$t&&s>=0&&s<this.d$t&&i>=0&&i<this.p$t?this.Pl[t][s][i]:0}Set(t,s,i,e){t=Math.floor(t),s=Math.floor(s),i=Math.floor(i),t>=0&&t<this.f$t&&s>=0&&s<this.d$t&&i>=0&&i<this.p$t&&(this.Pl[t][s][i]=e)}vE(t,s,i){if(t=Math.floor(t),s=Math.floor(s),i=Math.floor(i),t<0&&(t=0),s<0&&(s=0),i<0&&(i=0),this.f$t===t&&this.d$t===s&&this.p$t===i)return;this.f$t=t,this.d$t=s,this.p$t=i;const e=this.Pl;eT(e,t,(()=>nT.bo(s,(()=>nT.bo(i,0)))));for(let n=0;n<t;++n){eT(e[n],s,(()=>nT.bo(i,0)));for(let t=0;t<s;++t)eT(e[n][t],i,0)}}Bg(){return this.f$t}Zg(){return this.d$t}X2(){return this.p$t}S$t(t,s,i,e,n){for(;s>0;){const r=Math.floor(this.kc.BF()*s);if(--s,0===t){const t=this.M$t(s,e,n),i=this.M$t(r,e,n);this.Set(s,e,n,i),this.Set(r,e,n,t)}else if(1===t){const t=this.M$t(i,s,n),e=this.M$t(i,r,n);this.Set(i,s,n,e),this.Set(i,r,n,t)}else if(2===t){const t=this.M$t(i,e,s),n=this.M$t(i,e,r);this.Set(i,e,s,n),this.Set(i,e,r,t)}}}__t(){const t="plugins.arr.debugger",s="plugins.arr.properties",i=[{title:t+".array-properties.title",properties:[{name:s+".width.name",value:this.f$t,gKt:t=>this.vE(t,this.d$t,this.p$t)},{name:s+".height.name",value:this.d$t,gKt:t=>this.vE(this.f$t,t,this.p$t)},{name:s+".depth.name",value:this.p$t,gKt:t=>this.vE(this.f$t,this.d$t,t)},{name:s+".elements.name",value:this.f$t*this.d$t*this.p$t}]}],e=[];if(1===this.d$t&&1===this.p$t)for(let t=0;t<this.f$t;++t)e.push({name:"$"+t,value:this.Pl[t][0][0],gKt:s=>this.Pl[t][0][0]=s});else for(let t=0;t<this.f$t;++t)e.push({name:"$"+t,value:this.Pl[t].toString()});return e.length&&i.push({title:t+".array-data.title",properties:e}),i}T$t(){return JSON.stringify({c2array:!0,size:[this.f$t,this.d$t,this.p$t],data:this.Pl})}ev(){return{size:[this.f$t,this.d$t,this.p$t],data:this.Pl}}nv(t){const s=t.size;this.f$t=s[0],this.d$t=s[1],this.p$t=s[2],this.Pl=t.data}b$t(){return this.w$t>=0&&this.w$t<this.m$t.length?this.m$t[this.w$t]:0}v$t(){return this.w$t>=0&&this.w$t<this.g$t.length?this.g$t[this.w$t]:0}x$t(){return this.w$t>=0&&this.w$t<this.y$t.length?this.y$t[this.w$t]:0}zCt(){return self.I$t}};const oT=new WeakMap;self.I$t=class extends hT{constructor(){super(),oT.set(this,hT.VW().EQ())}get width(){return oT.get(this).Bg()}get height(){return oT.get(this).Zg()}get depth(){return oT.get(this).X2()}hU(t,s=1,i=1){rT.re(t),rT.re(s),rT.re(i),oT.get(this).vE(t,s,i)}G$t(t,s=0,i=0){return rT.re(t),rT.re(s),rT.re(i),oT.get(this).M$t(t,s,i)}C$t(t,s,i=0,e=0){if(rT.re(s),rT.re(i),rT.re(e),"number"!=typeof t&&"string"!=typeof t)throw new TypeError("invalid type");oT.get(this).Set(s,i,e,t)}}}{let aT=function(t,s,i,e,n,r){t.Oq(i),r.BW().LB().apt(r.iH()),s.Rq(e,n),t.Pq(i)};0;const uT=self.Gs;uT.Dj.c$t.Aj={Ixt(t,s,i){return uT.compare(this.M$t(t,0,0),s,i)},_$t(t,s,i,e){return uT.compare(this.M$t(t,s,0),i,e)},A$t(t,s,i,e,n){return uT.compare(this.M$t(t,s,i),e,n)},E$t(t){const s=this.kc,i=s.jk(),e=s.Yk(),n=e.Cq(),r=s.Kk(),h=r._q(),o=r.Aq(e),a=++this.w$t,u=this.m$t,l=this.g$t,c=this.y$t,f=this.f$t,d=this.d$t,p=this.p$t;if(a===this.m$t.length?(u.push(0),l.push(0),c.push(0)):(u[a]=0,l[a]=0,c[a]=0),s.Nq(!1),0===t)for(let t=0;t<f;++t)for(let s=0;s<d;++s)for(let r=0;r<p;++r)u[a]=t,l[a]=s,c[a]=r,aT(i,e,n,h,o,this);else if(1===t)for(let t=0;t<f;++t)for(let s=0;s<d;++s)u[a]=t,l[a]=s,aT(i,e,n,h,o,this);else for(let t=0;t<f;++t)u[a]=t,aT(i,e,n,h,o,this);return s.Nq(!0),this.w$t--,r.zq(),!1},D$t(t,s){return uT.compare(this.M$t(this.b$t(),this.v$t(),this.x$t()),t,s)},N$t(t){const s=this.f$t,i=this.d$t,e=this.p$t,n=this.Pl;for(let r=0;r<s;++r)for(let s=0;s<i;++s)for(let i=0;i<e;++i)if(n[r][s][i]===t)return!0;return!1},Al(){return 0===this.f$t||0===this.d$t||0===this.p$t},L$t(t,s,i){let e=0;switch(t){case 0:e=this.f$t;break;case 1:e=this.d$t;break;case 2:e=this.p$t}return uT.compare(e,s,i)}}}{let lT=function(t,s){if("number"==typeof t&&"number"==typeof s)return t-s;{const i=t.toString(),e=s.toString();return i<e?-1:i>e?1:0}};0;const cT=self.Gs;cT.Dj.c$t.krt={_l(t){const s=this.f$t,i=this.d$t,e=this.p$t,n=this.Pl;for(let r=0;r<s;++r)for(let s=0;s<i;++s)for(let i=0;i<e;++i)n[r][s][i]=t},vE(t,s,i){this.vE(t,s,i)},Vb(t,s){this.Set(t,0,0,s)},$V(t,s,i){this.Set(t,s,0,i)},O$t(t,s,i,e){this.Set(t,s,i,e)},Aq(t,s,i){const e=this.f$t,n=this.d$t,r=this.p$t,h=this.Pl;if(0===i){const i=cT.bo(n,(()=>cT.bo(r,s)));0===t?h.push(i):h.unshift(i),this.f$t++}else if(1===i){for(let i=0;i<e;++i){const e=cT.bo(r,s);0===t?h[i].push(e):h[i].unshift(e)}this.d$t++}else{for(let i=0;i<e;++i)for(let e=0;e<n;++e)0===t?h[i][e].push(s):h[i][e].unshift(s);this.p$t++}},zq(t,s){const i=this.f$t,e=this.d$t,n=this.p$t,r=this.Pl;if(0===s){if(0===i)return;0===t?r.pop():r.shift(),this.f$t--}else if(1===s){if(0===e)return;for(let s=0;s<i;++s)0===t?r[s].pop():r[s].shift();this.d$t--}else{if(0===n)return;for(let s=0;s<i;++s)for(let i=0;i<e;++i)0===t?r[s][i].pop():r[s][i].shift();this.p$t--}},R$t(t){const s=this.f$t,i=this.d$t,e=this.p$t,n=this.Pl;if(0!==s&&0!==i&&0!==e)if(0===t)n.reverse();else if(1===t)for(let t=0;t<s;++t)n[t].reverse();else for(let t=0;t<s;++t)for(let s=0;s<i;++s)n[t][s].reverse()},P$t(t){const s=this.f$t,i=this.d$t,e=this.p$t,n=this.Pl;if(0!==s&&0!==i&&0!==e)if(0===t)n.sort(((t,s)=>lT(t[0][0],s[0][0])));else if(1===t)for(let t=0;t<s;++t)n[t].sort(((t,s)=>lT(t[0],s[0])));else for(let t=0;t<s;++t)for(let s=0;s<i;++s)n[t][s].sort(lT)},k$t(t){const s=this.f$t,i=this.d$t,e=this.p$t,n=this.Pl;if(0!==s&&0!==i&&0!==e)if(0===t)n.sort(((t,s)=>{for(let e=0;e<i;++e){const i=lT(t[e][0],s[e][0]);if(0!==i)return i}return 0}));else if(1===t)for(let t=0;t<i;++t){const i=[];for(let e=0;e<s;++e)i.push(n[e][t]);i.sort(((t,s)=>lT(t[0],s[0])));for(let e=0;e<s;++e)n[e][t]=i[e]}else if(2===t){const t=[];for(let s=0;s<i;++s)t.push(s);t.sort(((t,i)=>{for(let e=0;e<s;++e){const s=lT(n[e][t],n[e][i]);if(0!==s)return s}return 0}));for(let i=0;i<s;++i){let s=[];for(const e of t)s.push(n[i][e]);n[i]=s}}else if(3===t)for(let t=0;t<s;++t)n[t].sort(((t,s)=>lT(t[0],s[0])));else for(let t=0;t<s;++t)for(let s=0;s<i;++s)n[t][s].sort(lT)},F$t(t){const s=this.f$t,i=this.d$t,e=this.p$t;if(0!==s&&0!==i&&0!==e)if(0===t)for(let n=0;n<i;++n)for(let i=0;i<e;++i)this.S$t(t,s,0,n,i);else if(1===t)for(let n=0;n<s;++n)for(let s=0;s<e;++s)this.S$t(t,i,n,0,s);else for(let n=0;n<s;++n)for(let s=0;s<i;++s)this.S$t(t,e,n,s,0)},El(t,s){if((t=Math.floor(t))<0)return;const i=this.f$t,e=this.d$t,n=this.p$t,r=this.Pl;if(0===s){if(t>=i)return;r.splice(t,1),this.f$t--}else if(1===s){if(t>=e)return;for(let s=0;s<i;++s)r[s].splice(t,1);this.d$t--}else{if(t>=n)return;for(let s=0;s<i;++s)for(let i=0;i<e;++i)r[s][i].splice(t,1);this.p$t--}},jK(t,s,i){if((s=Math.floor(s))<0)return;const e=this.f$t,n=this.d$t,r=this.p$t,h=this.Pl;if(0===i){if(s>e)return;h.splice(s,0,cT.bo(n,(()=>cT.bo(r,t)))),this.f$t++}else if(1===i){if(s>n)return;for(let i=0;i<e;++i)h[i].splice(s,0,cT.bo(r,t));this.d$t++}else{if(s>r)return;for(let i=0;i<e;++i)for(let e=0;e<n;++e)h[i][e].splice(s,0,t);this.p$t++}},j$t(t,s,i){const e=t.split(s);this.vE(e.length,1,1);for(let t=0,s=e.length;t<s;++t){let s=e[t];0===i?String(Number(s))===s&&(s=Number(s)):2===i&&(s=Number(s)),this.Set(t,0,0,s)}},z$t(t){let s=null;try{s=JSON.parse(t)}catch(t){return void console.error("[Construct] Failed to parse JSON: ",t)}if(!s.c2array)return;const i=s.size;this.f$t=i[0],this.d$t=i[1],this.p$t=i[2],this.Pl=s.data},B$t(t){const s=URL.createObjectURL(new Blob([this.T$t()],{type:"application/json"}));this.kc.ej(s,t)}}}self.Gs.Dj.c$t.Frt={M$t(t,s,i){return this.M$t(t,s||0,i||0)},EGt(){return this.f$t},DGt(){return this.d$t},U$t(){return this.p$t},W$t(){return this.b$t()},V$t(){return this.v$t()},Y$t(){return this.x$t()},Q$t(){return this.M$t(this.b$t(),this.v$t(),this.x$t())},jd(){return this.M$t(0,0,0)},J$t(){return this.M$t(this.f$t-1,0,0)},H$t(t){const s=this.Pl;for(let i=0,e=this.f$t;i<e;++i)if(s[i][0][0]===t)return i;return-1},q$t(t){const s=this.Pl;for(let i=this.f$t-1;i>=0;--i)if(s[i][0][0]===t)return i;return-1},X$t(t){let s=[];for(let t=0;t<this.f$t;++t)s.push(this.M$t(t,0,0));return s.join(t)},SGt(){return this.T$t()}};{const fT=self.Gs;fT.Dj.Keyboard=class extends fT.gCt{constructor(t){super(t)}Yn(){super.Yn()}}}{let dT=function(){return mT.wB().EQ()};0;const pT=self.Gs;self.ks,pT.Dj.Keyboard.NDt=class extends pT.t_t{constructor(t){super(t)}Yn(){super.Yn()}jCt(){}zCt(){return self.Z$t}};let mT=null;self.Z$t=class extends self.OB{constructor(t){super(t),mT=t,t.Fj().KF().keyboard=this}K$t(t){const s=dT();if("string"==typeof t)return s.$$t(t);if("number"==typeof t)return s.t0t(t);throw new TypeError("expected string or number")}}}{const gT=self.Gs,yT="keyboard";gT.Dj.Keyboard.Instance=class extends gT.r_t{constructor(t,s){super(t,yT),this.s0t=new Set,this.i0t=new Set,this.e0t=0,this.n0t="",this.r0t="",this.h0t=!1;const i=this.Fj().yf();this.qf=new gT.Qf(gT.zf.Yf(i,"keydown",(t=>this.o0t(t.data))),gT.zf.Yf(i,"keyup",(t=>this.a0t(t.data))),gT.zf.Yf(i,"window-blur",(()=>this.u0t())),gT.zf.Yf(i,"keyboard-blur",(()=>this.u0t()))),this.kc.vj(this.Ub())}Yn(){super.Yn()}async Ub(){const t=await this.w_t("init");this.h0t=t.isKeyboardLockSupported}o0t(t){const s=t.which,i=t.code||s.toString(),e=t.key;this.s0t.has(i)||(this.s0t.add(i),this.i0t.add(s),this.n0t=i,this.e0t=s,this.r0t=e,this.vV(gT.Dj.Keyboard.Aj.l0t),this.vV(gT.Dj.Keyboard.Aj.c0t),this.vV(gT.Dj.Keyboard.Aj.f0t),this.vV(gT.Dj.Keyboard.Aj.d0t))}a0t(t){const s=t.which,i=t.code||s.toString(),e=t.key;this.s0t.delete(i),this.i0t.delete(s),this.n0t=i,this.e0t=s,this.r0t=e,this.vV(gT.Dj.Keyboard.Aj.p0t),this.vV(gT.Dj.Keyboard.Aj.m0t),this.vV(gT.Dj.Keyboard.Aj.g0t),this.vV(gT.Dj.Keyboard.Aj.y0t)}u0t(){for(const t of this.i0t)this.i0t.delete(t),this.e0t=t,this.vV(gT.Dj.Keyboard.Aj.p0t),this.vV(gT.Dj.Keyboard.Aj.m0t),this.vV(gT.Dj.Keyboard.Aj.y0t);this.s0t.clear()}$$t(t){return this.s0t.has(t)}t0t(t){return this.i0t.has(t)}ev(){return{tk:this.e0t,tkk:this.r0t}}nv(t){this.e0t=t.tk,t.hasOwnProperty("tkk")&&(this.r0t=t.tkk)}__t(){const t="plugins.keyboard";return[{title:t+".name",properties:[{name:t+".debugger.last-key-code",value:this.e0t},{name:t+".debugger.last-key-string",value:gT.Dj.Keyboard.Frt.w0t(this.e0t)},{name:t+".debugger.last-typed-key",value:this.r0t}]}]}}}{const wT=self.Gs,MT=["ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","MetaLeft","MetaRight"];wT.Dj.Keyboard.Aj={$$t(t){return this.i0t.has(t)},c0t(t){return this.e0t===t},l0t:()=>!0,p0t:()=>!0,m0t(t){return this.e0t===t},t0t(t){return t=Math.floor(t),this.i0t.has(t)},d0t(t){return this.e0t===t},y0t(t){return this.e0t===t},f0t(t){const s=MT[t];return this.n0t===s},g0t(t){const s=MT[t];return this.n0t===s},M0t(t){const s=MT[t];return this.s0t.has(s)},S0t(){return this.h0t},T0t:()=>!0,b0t:()=>!0}}{const ST=self.Gs;ST.Dj.Keyboard.krt={async v0t(t){if(!this.h0t)return;let s=[];t&&(s=t.split(",")),(await this.w_t("lock-keyboard",{keysArr:s})).isOk?this.vV(ST.Dj.Keyboard.Aj.T0t):this.vV(ST.Dj.Keyboard.Aj.b0t)},x0t(){this.h0t&&this.w_t("unlock-keyboard")}}}{let TT=function(t){switch(t=Math.floor(t)){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"";case 38:return"";case 39:return"";case 40:return"";case 45:return"insert";case 46:return"del";case 91:return"left window key";case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(t)}};self.Gs.Dj.Keyboard.Frt={I0t(){return this.e0t},w0t:t=>TT(t),G0t(){return this.r0t}}}{const bT=self.Gs;bT.Dj.C0t=class extends bT.gCt{constructor(t){super(t)}Yn(){super.Yn()}}}{const vT=self.Gs;vT.Dj.C0t.NDt=class extends vT.t_t{constructor(t){super(t)}Yn(){super.Yn()}jCt(){}}}{const xT=self.Gs;xT.Dj.C0t.Instance=class extends xT.r_t{constructor(t,s){if(super(t),this._0t="",this.A0t=0,this.E0t="",this.D0t=0,this.Rf=-1,this.N0t=new Map,this.L0t=null,this.O0t="",this.R0t=!1,this.P0t=null,this.k0t=null,this.F0t=null,this.qBt=this.kc.bz(),this.qBt){this.P0t=Gt("fs"),this.k0t=Gt("path");const t=self.process||nw.process;this.F0t=this.k0t.dirname(t.execPath)+"\\"}}Yn(){super.Yn()}async j0t(t,s,i){console.error(`[Construct] AJAX request to '${s}' (tag '${t}') failed: `,i),this.E0t=t,await this.Cj(xT.Dj.C0t.Aj.z0t),this.E0t=t,await this.Cj(xT.Dj.C0t.Aj.B0t)}async U0t(t){this.E0t=t,await this.Cj(xT.Dj.C0t.Aj.W0t),this.E0t=t,await this.Cj(xT.Dj.C0t.Aj.V0t)}async Y0t(t,s){s.lengthComputable&&(this.D0t=s.loaded/s.total,this.E0t=t,await this.Cj(xT.Dj.C0t.Aj.Q0t))}async J0t(t,s){s.lengthComputable&&(this.D0t=s.loaded/s.total,this.E0t=t,await this.Cj(xT.Dj.C0t.Aj.H0t))}q0t(t,s,i){if(!this.qBt)return void this.j0t(t,s,i);const e=this.P0t,n=this.F0t+s;e.existsSync(n)?e.readFile(n,{encoding:"utf8"},((i,e)=>{i?this.j0t(t,s,i):(this._0t=e.replace(/\r\n/g,"\n"),this.U0t(t))})):this.j0t(t,s,i)}async X0t(t,s){const i=this.kc.nk(),e=this.L0t;this.L0t=null;try{if(e){const n=await i._Z(s);e.Z0t(n),this._0t="",this.A0t=0,this.U0t(t)}else{const e=await i.AZ(s);this._0t=e.replace(/\r\n/g,"\n"),this.A0t=0,this.U0t(t)}}catch(i){this.j0t(t,s,i)}}K0t(t,s,i,e){return new Promise((n=>{const r=i=>{this.q0t(t,s,i),n()},h=this.L0t;this.L0t=null;try{const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(4===o.readyState){if(this._0t=h?"":(o.responseText||"").replace(/\r\n/g,"\n"),this.A0t=o.status,o.status>=400)this.j0t(t,s,o.status+o.statusText);else{const s=this._0t.length||h&&o.response instanceof ArrayBuffer;this.qBt&&!s||!this.qBt&&0===o.status&&!s||(h&&h.Z0t(o.response),this.U0t(t))}n()}},o.onerror=r,o.ontimeout=r,o.onabort=r,o.onprogress=s=>this.Y0t(t,s),o.upload.onprogress=s=>this.J0t(t,s),o.open(i,s),this.Rf>=0&&void 0!==o.timeout&&(o.timeout=this.Rf),o.responseType=h?"arraybuffer":"text",e&&!this.N0t.has("Content-Type")&&("string"!=typeof e?o.setRequestHeader("Content-Type","application/octet-stream"):o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));for(const[t,s]of this.N0t)try{o.setRequestHeader(t,s)}catch(i){console.error(`[Construct] AJAX: Failed to set header '${t}: ${s}': `,i)}if(this.N0t.clear(),this.O0t){try{o.overrideMimeType(this.O0t)}catch(t){console.error("[Construct] AJAX: failed to override MIME type: ",t)}this.O0t=""}this.R0t&&(o.withCredentials=!0,this.R0t=!1),e?o.send(e):o.send()}catch(t){r(t)}}))}__t(){const t="plugins.ajax.debugger";return[{title:t+".title",properties:[{name:t+".last-status-code",value:this.A0t},{name:t+".last-data",value:this._0t}]}]}ev(){return{lastData:this._0t,lastStatusCode:this.A0t}}nv(t){this._0t=t.lastData,this.A0t=t.hasOwnProperty("lastStatusCode")?t.lastStatusCode:0,this.E0t="",this.D0t=0}}}{const IT=self.Gs;IT.Dj.C0t.Aj={V0t(t){return IT.Ze(this.E0t,t)},W0t:()=>!0,B0t(t){return IT.Ze(this.E0t,t)},z0t:()=>!0,Q0t(t){return IT.Ze(this.E0t,t)},H0t(t){return IT.Ze(this.E0t,t)}}}{const GT=self.Gs;GT.Dj.C0t.krt={async Request(t,s){this.kc.jBt()&&GT.Zh(s)&&this.kc.nk().GZ()?await this.X0t(t,s):await this.K0t(t,s,"GET",null)},async $0t(t,s){this.kc.jBt()&&this.kc.nk().GZ()?await this.X0t(t,s):await this.K0t(t,s,"GET",null)},async t1t(t,s,i,e){await this.K0t(t,s,e,i)},async s1t(t,s,i,e){if(!i)return;const n=i.lIt(this.fi);if(!n)return;const r=n.EQ().i1t();await this.K0t(t,s,e,r)},e1t(t){this.Rf=1e3*t},n1t(t,s){this.N0t.set(t,s)},r1t(t){if(!t)return;const s=t.lIt(this.fi);s&&(this.L0t=s.EQ())},h1t(t){this.O0t=t},o1t(t){this.R0t=!!t}}}self.Gs.Dj.C0t.Frt={a1t(){return this._0t},u1t(){return this.A0t},l1t(){return this.D0t},Tag(){return this.E0t}};{const CT=self.Gs;CT.Dj.Touch=class extends CT.gCt{constructor(t){super(t)}Yn(){super.Yn()}}}{let _T=function(){return DT.wB().EQ()};0;const AT=self.Gs,ET=self.ks;AT.Dj.Touch.NDt=class extends AT.t_t{constructor(t){super(t)}Yn(){super.Yn()}jCt(){}zCt(){return self.c1t}};let DT=null;self.c1t=class extends self.OB{constructor(t){super(t),DT=t,t.Fj().KF().tj=this}requestPermission(t){ET.ue(t);const s=_T();if("orientation"===t)return s.f1t(0);if("motion"===t)return s.f1t(1);throw new Error("invalid type")}}}{const NT=self.Gs,LT="touch";NT.Dj.Touch.Instance=class extends NT.r_t{constructor(t,s){super(t,LT),this.d1t=new Map,this.p1t=!1,this.m1t=!1,this.g1t=0,this.y1t=0,this.w1t=0,this.M1t=0,this.S1t=0,this.T1t=0,this.b1t=0,this.v1t=0,this.x1t=0,this.I1t=0,this.G1t=0,this.C1t=0,this._1t=0,this.A1t=0,this.E1t=0,this.D1t=0,this.N1t=0,this.L1t=[],s&&(this.p1t=s[0]),this.m_t("permission-result",(t=>this.O1t(t)));const i=this.Fj().yf();this.qf=new NT.Qf(NT.zf.Yf(i,"pointerdown",(t=>this.R1t(t.data))),NT.zf.Yf(i,"pointermove",(t=>this.P1t(t.data))),NT.zf.Yf(i,"pointerup",(t=>this.k1t(t.data,!1))),NT.zf.Yf(i,"pointercancel",(t=>this.k1t(t.data,!0))),NT.zf.Yf(i,"deviceorientation",(t=>this.F1t(t.data))),NT.zf.Yf(i,"deviceorientationabsolute",(t=>this.j1t(t.data))),NT.zf.Yf(i,"devicemotion",(t=>this.z1t(t.data))),NT.zf.Yf(i,"tick2",(t=>this.T6())))}Yn(){this.d1t.clear(),super.Yn()}R1t(t){if("mouse"===t.pointerType){if(!this.p1t)return;this.m1t=!0}const s=t.pointerId;if(this.d1t.has(s))return;const i=t.pageX-this.kc._z(),e=t.pageY-this.kc.Ez(),n=performance.now(),r=this.d1t.size;this.G1t=r,this.C1t=s;const h=NT.Vn(NT.Dj.Touch.B1t);h.sLt(n,i,e,s,r),this.d1t.set(s,h),this.vV(NT.Dj.Touch.Aj.U1t),this.vV(NT.Dj.Touch.Aj.W1t),this.A1t=i,this.E1t=e,this.N1t=0,this.vV(NT.Dj.Touch.Aj.V1t)}P1t(t){if("mouse"===t.pointerType&&!this.m1t)return;const s=this.d1t.get(t.pointerId);if(!s)return;const i=performance.now();if(i-s.GO()<2)return;const e=t.pageX-this.kc._z(),n=t.pageY-this.kc.Ez();s.qK(i,e,n,t.width,t.height,t.pressure)}k1t(t,s){if("mouse"===t.pointerType){if(!this.m1t)return;this.m1t=!1}const i=performance.now(),e=t.pointerId,n=this.d1t.get(e);if(n){if(this.G1t=n.Y1t(),this.C1t=n.hH(),!s){const s=t.pageX-this.kc._z(),i=t.pageY-this.kc.Ez();this.A1t=s,this.E1t=i,this.N1t=1,this.vV(NT.Dj.Touch.Aj.V1t)}if(this.vV(NT.Dj.Touch.Aj.Q1t),this.vV(NT.Dj.Touch.Aj.J1t),!s){const t=n.H1t(i);"single-tap"===t?(this.vV(NT.Dj.Touch.Aj.q1t),this.A1t=n.Wb(),this.E1t=n.Qb(),this.vV(NT.Dj.Touch.Aj.X1t)):"double-tap"===t&&(this.vV(NT.Dj.Touch.Aj.Z1t),this.A1t=n.Wb(),this.E1t=n.Qb(),this.vV(NT.Dj.Touch.Aj.K1t))}n.Yn(),this.d1t.delete(e)}}f1t(t){return this.M_t("request-permission",{type:t}),new Promise(((s,i)=>{this.L1t.push({type:t,resolve:s,reject:i})}))}O1t(t){const s=t.result,i=t.type;this._1t=i;const e=this.L1t.filter((t=>t.type===i));for(const t of e)t.resolve(s?"granted":"denied");this.L1t=this.L1t.filter((t=>t.type!==i)),s?(this.vV(NT.Dj.Touch.Aj.$1t),0===i?this.kc.RQt():this.kc.PQt()):this.vV(NT.Dj.Touch.Aj.t2t)}F1t(t){"number"==typeof t.webkitCompassHeading?this.g1t=t.webkitCompassHeading:t.absolute&&(this.g1t=t.alpha),this.y1t=t.alpha,this.w1t=t.beta,this.M1t=t.gamma}j1t(t){this.g1t=t.alpha}z1t(t){const s=t.acceleration;s&&(this.S1t=s.x,this.T1t=s.y,this.b1t=s.z);const i=t.accelerationIncludingGravity;i&&(this.v1t=i.x,this.x1t=i.y,this.I1t=i.z)}T6(){const t=performance.now();let s=0;for(const i of this.d1t.values())i.GO()<=t-50&&i.s2t(t),i.i2t(t)&&(this.G1t=i.Y1t(),this.C1t=i.hH(),this.D1t=s,this.vV(NT.Dj.Touch.Aj.e2t),this.A1t=i.Wb(),this.E1t=i.Qb(),this.vV(NT.Dj.Touch.Aj.n2t),this.D1t=0),++s}r2t(t){t=Math.floor(t);for(const s of this.d1t.values()){if(0===t)return s;--t}return null}h2t(t,s){return t>=0&&s>=0&&t<this.kc.sYt()&&s<this.kc.iYt()}__t(){return[{title:"plugins.touch.debugger.touches",properties:[...this.d1t.values()].map((t=>({name:"$"+t.hH(),value:t.Wb()+", "+t.Qb()})))}]}}}{const OT=self.Gs;OT.Dj.Touch.Aj={W1t:()=>!0,J1t:()=>!0,o2t(){return this.d1t.size>0},V1t(t,s){return!!t&&s===this.N1t&&!!this.h2t(this.A1t,this.E1t)&&this.kc.ak().Ykt(t,[[this.A1t,this.E1t]],!1)},a2t(t){if(!t)return!1;const s=this.kc.tgt().Tvt(),i=[...this.d1t.values()].filter((t=>this.h2t(t.Wb(),t.Qb()))).map((t=>[t.Wb(),t.Qb()]));return OT.xor(this.kc.ak().Ykt(t,i,s),s)},u2t(t,s,i){const e=this.r2t(t);return!!e&&OT.compare(e.KQ(),s,i)},l2t:()=>!0,c2t:()=>!0,f2t(t,s,i){this.kc.RQt();let e=0;return e=0===t?this.y1t:1===t?this.w1t:this.M1t,OT.compare(e,s,i)},d2t(t,s,i){this.kc.PQt();let e=0;return e=0===t?this.v1t:1===t?this.x1t:2===t?this.I1t:3===t?this.S1t:4===t?this.T1t:this.b1t,OT.compare(e,s,i)},U1t(t){return(t=Math.floor(t))===this.G1t},Q1t(t){return(t=Math.floor(t))===this.G1t},p2t(t){return t=Math.floor(t),this.d1t.size>=t+1},e2t:()=>!0,q1t:()=>!0,Z1t:()=>!0,n2t(t){return!!t&&!!this.h2t(this.A1t,this.E1t)&&this.kc.ak().Ykt(t,[[this.A1t,this.E1t]],!1)},X1t(t){return!!t&&!!this.h2t(this.A1t,this.E1t)&&this.kc.ak().Ykt(t,[[this.A1t,this.E1t]],!1)},K1t(t){return!!t&&!!this.h2t(this.A1t,this.E1t)&&this.kc.ak().Ykt(t,[[this.A1t,this.E1t]],!1)},$1t(t){return this._1t===t},t2t(t){return this._1t===t}}}self.Gs.Dj.Touch.krt={m2t(t){this.f1t(t)}};{const RT=self.Gs;RT.Dj.Touch.Frt={g2t(){return this.d1t.size},_Gt(t){const s=this.r2t(this.D1t);return s?s.y2t(this.kc.aj(),t,!0):0},AGt(t){const s=this.r2t(this.D1t);return s?s.y2t(this.kc.aj(),t,!1):0},w2t(t,s){const i=this.r2t(t);return i?i.y2t(this.kc.aj(),s,!0):0},M2t(t,s){const i=this.r2t(t);return i?i.y2t(this.kc.aj(),s,!1):0},S2t(t,s){const i=this.d1t.get(t);return i?i.y2t(this.kc.aj(),s,!0):0},T2t(t,s){const i=this.d1t.get(t);return i?i.y2t(this.kc.aj(),s,!1):0},b2t(){const t=this.r2t(0);return t?t.Wb():0},v2t(){const t=this.r2t(0);return t?t.Qb():0},x2t(t){const s=this.r2t(t);return s?s.Wb():0},I2t(t){const s=this.r2t(t);return s?s.Qb():0},G2t(t){const s=this.d1t.get(t);return s?s.Wb():0},C2t(t){const s=this.d1t.get(t);return s?s.Qb():0},_2t(t){const s=this.r2t(t);return s?s.KQ():0},A2t(t){const s=this.d1t.get(t);return s?s.KQ():0},E2t(t){const s=this.r2t(t);return s?RT.$n(s.lU()):0},D2t(t){const s=this.d1t.get(t);return s?RT.$n(s.lU()):0},N2t(){return this.kc.RQt(),this.g1t},L2t(){return this.kc.RQt(),this.y1t},O2t(){return this.kc.RQt(),this.w1t},R2t(){return this.kc.RQt(),this.M1t},P2t(){return this.kc.PQt(),this.v1t},k2t(){return this.kc.PQt(),this.x1t},F2t(){return this.kc.PQt(),this.I1t},j2t(){return this.kc.PQt(),this.S1t},z2t(){return this.kc.PQt(),this.T1t},B2t(){return this.kc.PQt(),this.b1t},U2t(){return this.G1t},W2t(){return this.C1t},V2t(t){const s=this.d1t.get(t);return s?s.Bg():0},Y2t(t){const s=this.d1t.get(t);return s?s.Zg():0},Q2t(t){const s=this.d1t.get(t);return s?s.J2t():0}}}{const PT=self.Gs;let kT=-1e3,FT=-1e3,jT=-1e4;PT.Dj.Touch.B1t=class extends PT.Un{constructor(){super(),this.H2t=0,this.kC=0,this.MWt=0,this.bR=0,this.q2t=0,this.X2t=0,this.Z2t=0,this._a=0,this.Aa=0,this.K2t=0,this.$2t=0,this._y=0,this.Ay=0,this.t3t=0,this.s3t=!1,this.i3t=!1}Yn(){}sLt(t,s,i,e,n){this.H2t=e,this.kC=n,this.bR=t,this.q2t=t,this.MWt=t,this.X2t=s,this.Z2t=i,this._a=s,this.Aa=i,this.K2t=s,this.$2t=i}qK(t,s,i,e,n,r){this.q2t=this.bR,this.bR=t,this.K2t=this._a,this.$2t=this.Aa,this._a=s,this.Aa=i,this._y=e,this.Ay=n,this.t3t=r,!this.i3t&&PT.ir(this.X2t,this.Z2t,this._a,this.Aa)>=15&&(this.i3t=!0)}hH(){return this.H2t}Y1t(){return this.kC}GO(){return this.bR}s2t(t){this.q2t=t}Wb(){return this._a}Qb(){return this.Aa}KQ(){const t=PT.ir(this._a,this.Aa,this.K2t,this.$2t),s=(this.bR-this.q2t)/1e3;return s>0?t/s:0}lU(){return PT.nr(this.K2t,this.$2t,this._a,this.Aa)}Bg(){return this._y}Zg(){return this.Ay}J2t(){return this.t3t}i2t(t){return!this.s3t&&t-this.MWt>=500&&!this.i3t&&PT.ir(this.X2t,this.Z2t,this._a,this.Aa)<15&&(this.s3t=!0,!0)}H1t(t){return this.s3t?"":t-this.MWt<=333&&!this.i3t&&PT.ir(this.X2t,this.Z2t,this._a,this.Aa)<15?t-jT<=666&&PT.ir(kT,FT,this._a,this.Aa)<25?(kT=-1e3,FT=-1e3,jT=-1e4,"double-tap"):(kT=this._a,FT=this.Aa,jT=t,"single-tap"):""}y2t(t,s,i){if(void 0===s)return t.dj(0).d3(this._a,this.Aa)[i?0:1];{const e=t.cj(s);return e?e.DW(this._a,this.Aa)[i?0:1]:0}}}}{const zT=self.Gs;zT.Dj.Text=class extends zT.gCt{constructor(t){super(t)}Yn(){super.Yn()}}}{const BT=self.Gs;BT.Dj.Text.NDt=class extends BT.t_t{constructor(t){super(t)}Yn(){super.Yn()}jCt(){}L4(t){}z4(){}}}{const UT=self.Gs,WT=self.ks,VT=[0,0,0],YT=0,QT=1,JT=2,HT=3,qT=4,XT=5,ZT=6,KT=7,$T=8,tb=9,sb=10,ib=11,eb=12,nb=13,rb=15,hb=["left","center","right"],ob=["top","center","bottom"],ab=["ltr","rtl"],ub=["word","cjk","character"],lb=new UT.Rect,cb=new UT.Cu,fb=new UT.vo,db=UT.Vn(UT.Ca),pb=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["iconoffsety",null]]);UT.Dj.Text.Instance=class extends UT.L_t{constructor(t,s){if(super(t),this.Fc="",this.e3t=!0,this.n3t="Arial",this.r3t=12,this.h3t=0,this.aA=!1,this.uA=!1,this.Ab=UT.Vn(UT.vo),this.mA=0,this.gA=0,this.MA="word",this.SA=0,this.o3t="auto",this.a3t=1,this.u3t=null,this.l3t="",this.c3t=!1,this.f3t=!1,this.d3t=null,this.p3t=-1,this.m3t=-1,this.g3t=0,this.y3t=UT.Vn(UT.Pw.UT,this.kc.lb(),{timeout:5}),this.y3t.JA=()=>this.kc.yj(),this.w3t=()=>this.M3t(),this.S3t=!1,s){this.Fc=s[YT],this.e3t=!!s[QT],this.n3t=s[JT],this.r3t=s[HT],this.h3t=s[qT],this.aA=!!s[XT],this.uA=!!s[ZT],this.mA=s[$T],this.gA=s[tb],this.MA=ub[s[sb]],this.SA=s[ib],this.T3t(this.kc.Gq(s[eb]));const t=s[KT];this.Ab.Ao(t[0],t[1],t[2]),this.lj().QU(s[nb]),this.f3t=!!s[rb]}this.b3t(),this.v3t()}Yn(){this.T3t(null),this.x3t(),this.d3t&&(this.d3t.Yn(),this.d3t=null),this.y3t.Yn(),this.y3t=null,super.Yn()}b3t(){const t=this.y3t;t.Bc(this.Fc),t.ZA(this.e3t),this.y3t.sA()&&this.u3t?this.y3t.jg(this.Fj().rQt(this.u3t)):this.y3t.jg(null),t.KA("nearest"!==this.kc._k()),t.$A(this.n3t),t.eE(this.h3t),t.rE(this.aA),t.oE(this.uA),t.Lb(this.Ab),t.pE(hb[this.mA]),t.gE(ob[this.gA]),t.wE(this.MA),t.SE(ab[this.SA])}I3t(){const t=this.lj();this.y3t.tE(this.r3t),this.y3t.iE(t.LRt());const s=t.cj();let i;"auto"===this.o3t?i=s.u2(t.cY()):"fixed"===this.o3t&&(i=this.a3t),t.SQ()&&i!==this.y3t.xE()&&t.RPt(!0),this.y3t.vE(t.Bg(),t.Zg(),i)}T3t(t){t&&(t.P0()||t.TB().constructor!==UT.Dj.nrt)||t!==this.u3t&&(this.u3t&&this.u3t.yf().removeEventListener("animationframeimagechange",this.w3t),this.u3t=t,this.u3t&&this.u3t.yf().addEventListener("animationframeimagechange",this.w3t),this.b3t(),this.c3t=!1,this.kc.yj())}M3t(){this.kc.hQt(this.u3t),this.kc.yj(),this.S3t=!0}v3t(){if(this.f3t){let t=this.Fc;this.e3t&&(t=UT.dn.Lg(t)),this.d3t?this.d3t.Bc(t):this.d3t=UT.Vn(UT.Pc,this.kc,t)}else this.d3t&&(this.d3t.Yn(),this.d3t=null)}Nv(t){const s=this.lj();this.I3t(),this.S3t&&(this.S3t=!1,this.y3t.sA()&&this.u3t&&this.y3t.jg(this.Fj().rQt(this.u3t)));const i=this.y3t.lI();if(!i)return;const e=s.cj();if(0===s.lU()&&0===e.lU()&&0===s.cY()&&!s.SQ()&&e.I1()){const n=s.gY(),[r,h]=e.kW(n.Fr(),n.jr()),[o,a]=e.kW(n.Ur(),n.Wr()),u=r-Math.round(r),l=h-Math.round(h);lb.set(r,h,o,a),lb.offset(-u,-l),cb.Hu(lb);const[c,f]=t.wL(t.kL());this.kc.Ij().GX(t,c,f),t.nL(i),t.$S(cb,this.y3t.tD()),e._X(t)}else t.nL(i),s.SQ()?this.zZt(s,t):this.BZt(s,t)}BZt(t,s){let i=t.gY();this.kc.Ek()&&(i=this.G3t(i)),s.$S(i,this.y3t.tD())}zZt(t,s){const i=t.OPt();if(t.PPt()){t.dY(lb,cb,!1);let s=cb;this.kc.Ek()&&(s=this.G3t(s)),i.Dv(t.TQ(),s,this.y3t.tD()),t.RPt(!1)}i.Nv(s)}G3t(t){const s=t.Fr()-Math.round(t.Fr()),i=t.jr()-Math.round(t.jr());return 0===s&&0===i?t:(cb.m(t),cb.offset(-s,-i),cb)}U_t(){const t=this.y3t.lI();return t?[t.Bg(),t.Zg()]:[100,100]}W_t(){return this.y3t.tD()}Q_t(){return!1}ev(){const t={t:this.Fc,c:this.Ab.toJSON(),fn:this.n3t,ps:this.r3t};return this.e3t&&(t.bbc=this.e3t),0!==this.mA&&(t.ha=this.mA),0!==this.gA&&(t.va=this.gA),"word"!==this.MA&&(t.wr=this.MA),0!==this.h3t&&(t.lho=this.h3t),this.aA&&(t.b=this.aA),this.uA&&(t.i=this.uA),-1!==this.m3t&&(t.tw={st:this.p3t,en:this.m3t,l:this.g3t}),this.u3t&&(t.ioc=this.u3t.W0()),"fixed"===this.o3t&&(t.fs=this.a3t),t}nv(t){if(this.x3t(),this.Fc=t.t,this.Ab.ya(t.c),this.n3t=t.fn,this.r3t=t.ps,this.e3t=!!t.hasOwnProperty("bbc")&&t.bbc,this.mA=t.hasOwnProperty("ha")?t.ha:0,this.gA=t.hasOwnProperty("va")?t.va:0,t.hasOwnProperty("wr")){const s=t.wr;this.MA="boolean"==typeof s?s?"word":"character":s}else this.MA="word";if(this.h3t=t.hasOwnProperty("lho")?t.lho:0,this.aA=!!t.hasOwnProperty("b")&&t.b,this.uA=!!t.hasOwnProperty("i")&&t.i,t.hasOwnProperty("tw")){const s=t.tw;this.p3t=s.st,this.m3t=s.en,this.g3t=s.l}if(t.hasOwnProperty("ioc")){const s=this.Fj().Gq(t.ioc);s&&this.T3t(s)}else this.T3t(null);t.hasOwnProperty("fs")?(this.o3t="fixed",this.a3t=t.fs):this.o3t="auto",this.b3t(),this.v3t(),this.c3t=!1,-1!==this.m3t&&this.x_t()}Sht(t){switch(t){case YT:return this.bE();case QT:return this.e3t;case JT:return this.C3t();case HT:return this._3t();case qT:return this.A3t();case XT:return this.E3t();case ZT:return this.D3t();case KT:return VT[0]=this.Ab.ko(),VT[1]=this.Ab.Fo(),VT[2]=this.Ab.jo(),VT;case $T:return this.N3t();case tb:return this.L3t();case sb:return this.O3t();case rb:return this.R3t()}}Ght(t,s){switch(t){case YT:this.P3t(s);break;case QT:if(this.e3t===!!s)return;this.e3t=!!s,this.b3t();break;case JT:this.k3t(s);break;case HT:this.F3t(s);break;case qT:this.j3t(s);break;case XT:this.z3t(s);break;case ZT:this.B3t(s);break;case KT:const t=this.Ab,i=s;if(t.ko()===i[0]&&t.Fo()===i[1]&&t.jo()===i[2])return;this.Ab.Ao(i[0],i[1],i[2]),this.b3t();break;case $T:this.U3t(s);break;case tb:this.W3t(s);break;case sb:this.V3t(s)}}A_t(t,s,i,e){0===s&&0===i&&0===e||t!==KT||(this.Ab.Eo(s,i,e),this.b3t())}P3t(t){this.Fc!==t&&(this.Fc=t,this.y3t.Bc(t),this.v3t(),this.c3t=!1,this.kc.yj())}bE(){return this.Fc}Y3t(t,s){this.I3t(),this.P3t(t),this.p3t=this.kc.gF(),this.m3t=this.p3t+s/this.iH().rV(),this.g3t=this.y3t._E(),this.y3t.uE(0),this.x_t()}x3t(){this.p3t=-1,this.m3t=-1,this.g3t=0,this.y3t.uE(-1),this.a_t()}Q3t(){-1!==this.m3t&&(this.x3t(),this.vV(UT.Dj.Text.Aj.J3t),this.kc.yj())}k3t(t){this.n3t!==t&&(this.n3t=t,this.y3t.$A(t),this.kc.yj())}C3t(){return this.n3t}z3t(t){t=!!t,this.aA!==t&&(this.aA=t,this.y3t.rE(t),this.kc.yj())}E3t(){return this.aA}B3t(t){t=!!t,this.uA!==t&&(this.uA=t,this.y3t.oE(t),this.kc.yj())}D3t(){return this.uA}F3t(t){this.r3t!==t&&(this.r3t=t,this.kc.yj())}_3t(){return this.r3t}H3t(t){this.Ab.Vo(t)||(this.Ab.Po(t),this.y3t.Lb(this.Ab),this.kc.yj())}q3t(){return this.Ab}j3t(t){this.h3t!==t&&(this.h3t=t,this.b3t(),this.kc.yj())}A3t(){return this.h3t}U3t(t){this.mA!==t&&(this.mA=t,this.b3t(),this.kc.yj())}N3t(){return this.mA}W3t(t){this.gA!==t&&(this.gA=t,this.b3t(),this.kc.yj())}L3t(){return this.gA}X3t(t){this.V3t(ub[t])}V3t(t){this.MA!==t&&(this.MA=t,this.b3t(),this.kc.yj())}O3t(){return this.MA}Z3t(t){this.SA!==t&&(this.SA=t,this.b3t(),this.kc.yj())}K3t(){return this.SA}$3t(t){this.f3t=!!t,this.v3t()}R3t(){return this.f3t}t4t(t){this.o3t!==t&&(this.o3t=t,this.kc.yj())}s4t(){return this.o3t}i4t(t){this.a3t!==t&&(this.a3t=t,"fixed"===this.o3t&&this.kc.yj())}e4t(){return this.a3t}n4t(){return this.I3t(),this.y3t.IE()}r4t(){return this.I3t(),this.y3t.CE()}h4t(t,s){this.I3t();const i=this.lj();db.set(t-i.Wb(),s-i.Qb()),db.rotate(-i.lU()),db.offset(i.Bg()*i.eY(),i.Zg()*i.hY()),db.wt(i.Bg(),i.Zg()),db.scale(this.y3t.Bg(),this.y3t.Zg());const e=this.y3t.EE(db.Na(),db.Oa());if(e){const t=e.Wy("tag");if(t)return t.Cg}return""}o4t(t,s,i){const e=this.h4t(s,i);return e&&UT.Ze(t,e)}a4t(t,s){this.I3t(),s=Math.floor(s);const i=this.y3t.NE(t,s);if(!i)return null;const e=this.lj(),n=this.y3t.fE(),r=i.Fy(),h=i.zy()-(i.Zg()-i.$g())*n,o=i.Bg()*n/this.y3t.Bg()*e.Bg(),a=i.Zg()*n/this.y3t.Zg()*e.Zg();return db.set(r,h),db.wt(this.y3t.Bg(),this.y3t.Zg()),db.scale(e.Bg(),e.Zg()),db.offset(-e.Bg()*e.eY(),-e.Zg()*e.hY()),db.rotate(e.lU()),db.offset(e.Wb(),e.Qb()),{x:db.Na(),y:db.Oa(),width:o,height:a}}u4t(t){return this.I3t(),this.y3t.LE(t)}l4t(t){let s=pb.get(t);return null===s?"":(s||(s="span"),`</${s||"span"}>`)}c4t(t,s){let i=pb.get(t);if(null===i)return"";switch(i||(i="span"),t){case"color":return`<${i} style="color: ${s}">`;case"font":return`<${i} style="font-family: '${s}'">`;case"opacity":return`<${i} style="opacity: ${s}%">`;case"size":return`<${i} style="font-size: ${s}pt">`;case"background":return`<${i} style="background-color: ${s}">`;case"hide":return`<${i} style="visibility: hidden">`;case"class":return`<${i} class="${s}">`;case"tag":return`<${i} data-tag="${s}">`;default:return`<${i}>`}}async f4t(){if(this.c3t)return this.l3t;const t=new UT.dn(this.Fc,{fg:!0}).Ig(),s=new Map;let i='<span class="c3-text"';const e=[];e.push(`font-family: '${this.C3t()}';`),this.E3t()&&e.push("font-weight: bold;"),this.D3t()&&e.push("font-style: italic;"),"character"===this.O3t()&&e.push("word-break: break-all;"),i+=` style="${e.join(" ")}">`;const n=this.u3t?this.Fj().rQt(this.u3t):null;if(this.u3t){const i=UT.Vn(UT.Wd),e=[],r=new Map;for(const s of t)if(s.qg()){const t=s.qy(n);if(t){const s=t.Nw().mJ().mEt();if(r.has(s))continue;r.set(s,null),e.push(i.Fl((async()=>{const t=await s._K();r.set(s,t)})))}}await Promise.all(e);const h=[];for(const e of t)if(e.qg()){const t=e.qy(n);if(t){const e=t.Nw(),n=e.mJ().mEt();h.push(i.Fl((async()=>{const i=await e.mJ().yEt(r.get(n));s.set(t,i)})))}}await Promise.all(h);for(const t of r.values())t instanceof ImageBitmap&&t.close&&t.close()}const r=new Map;for(const e of t){const t=e.Yy();let h=[...r.keys()];h.reverse();for(const s of h)t.has(s)&&t.get(s)===r.get(s)||(r.delete(s),i+=this.l4t(s));for(const[s,e]of t)r.has(s)||(r.set(s,e),i+=this.c4t(s,e));if(e.Jg()&&(i+=UT._m(UT.Gm(e.gy().join("")),"\n","<br>")),e.qg()&&n){const r=e.qy(n);if(r){const n=s.get(r);if(n){const s=[];let h="0.2em";const o=t.get("iconoffsety");if(o){let t=o.trim();h=t.endsWith("%")?parseFloat(t)/100+"em":t+"px"}s.push(`top: ${h}`),"nearest"===this.kc._k()&&s.push("image-rendering: pixelated"),i+=`<img class="c3-text-icon" data-icon="${e.Hy()}" width="${r.Bg()}" height="${r.Zg()}" style="${s.join(";")}" src="${n}">`}}}}const h=[...r.keys()];h.reverse();for(const t of h)i+=this.l4t(t);return i+="</span>",this.l3t=i,this.c3t=!0,this.l3t}_8(){const t=this.kc.gF();if(t>=this.m3t)this.x3t(),this.vV(UT.Dj.Text.Aj.J3t),this.kc.yj();else{let s=UT.mr(this.p3t,this.m3t,t,0,this.g3t);s=Math.floor(s),s!==this.y3t.lE()&&(this.y3t.uE(s),this.kc.yj())}}__t(){const t="plugins.text";return[{title:t+".name",properties:[{name:t+".properties.text.name",value:this.bE(),gKt:t=>this.P3t(t)},{name:t+".properties.font.name",value:this.C3t(),gKt:t=>this.k3t(t)},{name:t+".properties.size.name",value:this._3t(),gKt:t=>this.F3t(t)},{name:t+".properties.line-height.name",value:this.A3t(),gKt:t=>this.j3t(t)},{name:t+".properties.bold.name",value:this.E3t(),gKt:t=>this.z3t(t)},{name:t+".properties.italic.name",value:this.D3t(),gKt:t=>this.B3t(t)}]}]}zCt(){return self.d4t}};const mb=new WeakMap,gb=new Map([["left",0],["center",1],["right",2]]),yb=new Map([["top",0],["center",1],["bottom",2]]),wb=["ltr","rtl"];self.d4t=class extends self.IQ{constructor(){super(),mb.set(this,self.zW.VW().EQ())}get text(){return mb.get(this).bE()}set text(t){WT.ue(t);const s=mb.get(this);s.x3t(),s.P3t(t)}p4t(t,s){WT.ue(t),WT.re(s);const i=mb.get(this);i.x3t(),i.Y3t(t,s)}m4t(){mb.get(this).Q3t()}set EX(t){WT.ue(t),mb.get(this).k3t(t)}get EX(){return mb.get(this).C3t()}set NX(t){mb.get(this).z3t(t)}get NX(){return mb.get(this).E3t()}set LX(t){mb.get(this).B3t(t)}get LX(){return mb.get(this).D3t()}set DX(t){WT.re(t),mb.get(this).F3t(t)}get DX(){return mb.get(this)._3t()}set g4t(t){if(WT.xe(t),t.length<3)throw new Error("expected 3 elements");fb.Ao(t[0],t[1],t[2]),mb.get(this).H3t(fb)}get g4t(){const t=mb.get(this).q3t();return[t.ko(),t.Fo(),t.jo()]}set lineHeight(t){WT.re(t),mb.get(this).j3t(t)}get lineHeight(){return mb.get(this).A3t()}set PX(t){WT.ue(t);const s=gb.get(t);if(void 0===s)throw new Error("invalid mode");mb.get(this).U3t(s)}get PX(){return hb[mb.get(this).N3t()]}set verticalAlign(t){WT.ue(t);const s=yb.get(t);if(void 0===s)throw new Error("invalid mode");mb.get(this).W3t(s)}get verticalAlign(){return ob[mb.get(this).L3t()]}set kX(t){if(!ub.includes(t))throw new Error("invalid mode");mb.get(this).V3t(t)}get kX(){return mb.get(this).O3t()}set FX(t){WT.ue(t);const s=wb.indexOf(t);if(-1===s)throw new Error("invalid text direction");mb.get(this).Z3t(s)}get FX(){return wb[mb.get(this).K3t()]}set y4t(t){mb.get(this).$3t(!!t)}get y4t(){return mb.get(this).R3t()}w4t(t){WT.re(t);const s=mb.get(this);s.t4t("fixed"),s.i4t(t)}M4t(){mb.get(this).t4t("auto")}get BX(){return mb.get(this).n4t()}get UX(){return mb.get(this).r4t()}S4t(){const t=mb.get(this);return[t.n4t(),t.r4t()]}T4t(t,s,i){return WT.ue(t),WT.re(s),WT.re(i),mb.get(this).o4t(t,s,i)}b4t(t,s){return WT.re(t),WT.re(s),mb.get(this).h4t(t,s)}v4t(t,s=0){return WT.ue(t),WT.re(s),mb.get(this).a4t(t,s)}x4t(t){return WT.ue(t),mb.get(this).u4t(t)}I4t(t){const s=mb.get(this),i=s.Fj().pz(t);s.T3t(i)}G4t(){return mb.get(this).f4t()}}}{const Mb=self.Gs;Mb.Dj.Text.Aj={C4t(t,s){return s?this.Fc===t:Mb.Ze(this.Fc,t)},_4t(){return-1!==this.m3t},J3t:()=>!0,A4t(t,s,i){return this.o4t(t,s,i)}}}{const Sb=self.Gs,Tb=Sb.Vn(Sb.vo);Sb.Dj.Text.krt={Bc(t){this.x3t(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.P3t(t.toString())},E4t(t){this.x3t(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),(t=t.toString())&&this.P3t(this.Fc+t)},D4t(t,s){this.x3t(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.Y3t(t.toString(),s)},N4t(t,s){let i=!1,e=!1;switch(s){case 1:i=!0;break;case 2:e=!0;break;case 3:i=!0,e=!0}t===this.n3t&&i===this.aA&&e===this.uA||(this.k3t(t),this.z3t(i),this.B3t(e))},tE(t){this.F3t(t)},L4t(t){Tb.Ko(t),Tb.Xn(),this.H3t(Tb)},O4t(t,s){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},qKt(t){this.lj().Nb(t),this.kc.yj()},R4t(){this.Q3t()},eE(t){this.j3t(t)},P4t(t){this.U3t(t)},k4t(t){this.W3t(t)},F4t(t){this.X3t(t)},SE(t){this.Z3t(t)},j4t(t){this.T3t(t)},z4t(){return this.f4t()},B4t(t){this.$3t(t)},U4t(t,s){this.t4t(["auto","fixed"][t]),this.i4t(s)}}}{const bb=self.Gs;bb.Dj.Text.Frt={Text(){return this.Fc},W4t(){return this.e3t?bb.dn.Lg(this.Fc):this.Fc},V4t(){return this.n3t},Y4t(){return this.r3t},Q4t(){return this.n4t()},J4t(){return this.r4t()},H4t(){return this.h3t},q4t(t,s){return this.h4t(t,s)},X4t(t){return this.u4t(t)},Z4t(t,s){const i=this.a4t(t,s);return i?i.x:0},K4t(t,s){const i=this.a4t(t,s);return i?i.y:0},$4t(t,s){const i=this.a4t(t,s);return i?i.width:0},t5t(t,s){const i=this.a4t(t,s);return i?i.height:0},s5t(){return this.l3t}}}{const vb=self.Gs;vb.Dj.i5t=class extends vb.gCt{constructor(t){super(t)}Yn(){super.Yn()}}}{let xb=function(t){switch(t){case 0:return"clamp-to-edge";case 1:return"repeat";case 2:return"mirror-repeat"}return"repeat"};0;const Ib=self.Gs;Ib.Dj.i5t.NDt=class extends Ib.t_t{constructor(t,s){super(t),this.$v="repeat",this.tx="repeat",s&&(this.$v=xb(s[0]),this.tx=xb(s[1]))}Yn(){super.Yn()}jCt(){this.mJ().kj(this.kc)}L4(t){return this.mJ().wX(t,{Wv:this.kc._k(),Bv:this.$v,Uv:this.tx})}z4(){this.mJ().YA()}e5t(){return this.$v}n5t(){return this.tx}}}{const Gb=self.Gs,Cb=self.ks,_b=0,Ab=4,Eb=5,Db=6,Nb=7,Lb=8,Ob=9,Rb=10,Pb=11,kb=12,Fb=13,jb=14,zb=Gb.Vn(Gb.Rect),Bb=Gb.Vn(Gb.Cu),Ub=Gb.Vn(Gb.Rect),Wb=Gb.Vn(Gb.Cu);Gb.Dj.i5t.Instance=class extends Gb.L_t{constructor(t,s){super(t),this.r5t=0,this.h5t=0,this.o5t=1,this.a5t=1,this.u5t=0,this.l5t=!1,this.c5t=0,this.f5t=0,this.d5t=0,this.p5t=0,this.m5t=0,this.g5t=null,s&&(this.lj().QU(!!s[_b]),this.r5t=s[Ab],this.h5t=s[Eb],this.o5t=s[Db],this.a5t=s[Nb],this.u5t=Gb.Kn(s[Lb]),this.l5t=!!s[Ob],this.c5t=s[Rb],this.f5t=s[Pb],this.d5t=s[kb],this.p5t=s[Fb],this.m5t=s[jb])}Yn(){this.y5t(),super.Yn()}y5t(){this.g5t&&(this.g5t.Yn(),this.g5t=null)}w5t(t,s,i){const e=this.B_t(),n=e.Bg(),r=e.Zg(),h=this.r5t/n,o=this.h5t/r,a=this.u5t;Ub.set(0,0,t/(n*this.o5t),s/(r*this.a5t)),Ub.offset(-h,-o),0===a?i.Hu(Ub):i.qu(Ub,-a)}M5t(t,s=!0){if(this.l5t){const s=this.B_t();t.dS(),t.CL(s.Bg()*this.o5t,s.Zg()*this.a5t,this.c5t,this.f5t,this.d5t,this.p5t,this.m5t)}else s&&t.aS()}Nv(t){const s=this.B_t(),i=s.lI();if(null===i)return;this.M5t(t),t.nL(i);const e=s.Bg(),n=s.Zg();let r=this.r5t/e,h=this.h5t/n;0!==this.u5t||this.l5t||("repeat"===this.yxt().e5t()&&(r%=1),"repeat"===this.yxt().n5t()&&(h%=1));const o=this.lj();Ub.set(0,0,o.Bg()/(e*this.o5t),o.Zg()/(n*this.a5t)),Ub.offset(-r,-h),o.SQ()?this.zZt(o,t):this.BZt(o,t)}BZt(t,s){let i=t.gY();this.kc.Ek()&&(i=t.gPt(i)),0===this.u5t?s.$S(i,Ub):(Wb.qu(Ub,-this.u5t),s.pL(i,Wb))}zZt(t,s){const i=t.OPt();if(t.PPt()){t.dY(zb,Bb,!1);let s=Bb;this.kc.Ek()&&(s=t.gPt(s));let e=Ub;0!==this.u5t&&(Wb.qu(Ub,-this.u5t),e=Wb),i.Dv(t.TQ(),s,e),t.RPt(!1)}i.Nv(s)}B_t(){return this.g5t||this.Odt.mJ()}Rit(){return!0}lI(){return this.B_t().lI()}S5t(){this.lj().RPt(!0)}T5t(t){this.r5t!==t&&(this.r5t=t,this.kc.yj(),this.S5t())}b5t(){return this.r5t}v5t(t){this.h5t!==t&&(this.h5t=t,this.kc.yj(),this.S5t())}x5t(){return this.h5t}I5t(t){this.o5t!==t&&(this.o5t=t,this.kc.yj(),this.S5t())}G5t(){return this.o5t}C5t(t){this.a5t!==t&&(this.a5t=t,this.kc.yj(),this.S5t())}_5t(){return this.a5t}A5t(t){this.u5t!==t&&(this.u5t=t,this.kc.yj(),this.S5t())}E5t(){return this.u5t}D5t(t){t=!!t,this.l5t!==t&&(this.l5t=t,this.kc.yj())}N5t(){return this.l5t}L5t(t){this.c5t!==t&&(this.c5t=t,this.N5t()&&this.kc.yj())}O5t(){return this.c5t}R5t(t){this.f5t!==t&&(this.f5t=t,this.N5t()&&this.kc.yj())}P5t(){return this.f5t}k5t(t){this.d5t!==t&&(this.d5t=t,this.N5t()&&this.kc.yj())}F5t(){return this.d5t}j5t(t){this.p5t!==t&&(this.p5t=t,this.N5t()&&this.kc.yj())}z5t(){return this.p5t}B5t(t){this.m5t!==t&&(this.m5t=t,this.N5t()&&this.kc.yj())}U5t(){return this.m5t}ev(){const t={};return 0!==this.r5t&&(t.iox=this.r5t),0!==this.h5t&&(t.ioy=this.h5t),1!==this.o5t&&(t.isx=this.o5t),1!==this.a5t&&(t.isy=this.a5t),0!==this.u5t&&(t.ia=this.u5t),this.l5t&&(t.tr=!0),1!==this.c5t&&(t.trx=this.c5t),1!==this.f5t&&(t.try=this.f5t),1!==this.d5t&&(t.tra=this.d5t),.1!==this.p5t&&(t.trbmx=this.p5t),.1!==this.m5t&&(t.trbmy=this.m5t),t}nv(t){this.r5t=t.iox||0,this.h5t=t.ioy||0,this.o5t=t.hasOwnProperty("isx")?t.isx:1,this.a5t=t.hasOwnProperty("isy")?t.isy:1,this.u5t=t.ia||0,this.l5t=!!t.tr,this.c5t=t.hasOwnProperty("trx")?t.trx:1,this.f5t=t.hasOwnProperty("try")?t.try:1,this.d5t=t.hasOwnProperty("tra")?t.tra:1,this.p5t=t.hasOwnProperty("trbmx")?t.trbmx:.1,this.m5t=t.hasOwnProperty("trbmy")?t.trbmy:.1}__t(){const t="plugins.tiledbg.properties";return[{title:t+".image-transform.name",properties:[{name:t+".image-offset-x.name",value:this.b5t(),gKt:t=>this.T5t(t)},{name:t+".image-offset-y.name",value:this.x5t(),gKt:t=>this.v5t(t)},{name:t+".image-scale-x.name",value:100*this.G5t(),gKt:t=>this.I5t(t/100)},{name:t+".image-scale-y.name",value:100*this._5t(),gKt:t=>this.C5t(t/100)},{name:t+".image-angle.name",value:Gb.$n(this.E5t()),gKt:t=>this.A5t(Gb.Kn(t))}]},{title:t+".tile-randomization.name",properties:[{name:t+".enable-tile-randomization.name",value:this.N5t(),gKt:t=>this.D5t(t)},{name:t+".x-random.name",value:100*this.O5t(),gKt:t=>this.L5t(t/100)},{name:t+".y-random.name",value:100*this.P5t(),gKt:t=>this.R5t(t/100)},{name:t+".angle-random.name",value:100*this.F5t(),gKt:t=>this.k5t(t/100)},{name:t+".blend-margin-x.name",value:100*this.z5t(),gKt:t=>this.j5t(t/100)},{name:t+".blend-margin-y.name",value:100*this.U5t(),gKt:t=>this.B5t(t/100)}]}]}Sht(t){switch(t){case Ab:return this.b5t();case Eb:return this.x5t();case Db:return this.G5t();case Nb:return this._5t();case Lb:return this.E5t();case Ob:return this.N5t();case Rb:return this.O5t();case Pb:return this.P5t();case kb:return this.F5t();case Fb:return this.z5t();case jb:return this.U5t()}}Ght(t,s){switch(t){case Ab:this.T5t(s);break;case Eb:this.v5t(s);break;case Db:this.I5t(s);break;case Nb:this.C5t(s);break;case Lb:this.A5t(s);break;case Ob:this.D5t(!!s);break;case Rb:this.L5t(s);break;case Pb:this.R5t(s);break;case kb:this.k5t(s);break;case Fb:this.j5t(s);break;case jb:this.B5t(s)}}zCt(){return self.W5t}};const Vb=new WeakMap;self.W5t=class extends self.IQ{constructor(){super(),Vb.set(this,self.zW.VW().EQ())}set V5t(t){Cb.re(t),Vb.get(this).T5t(t)}get V5t(){return Vb.get(this).b5t()}set Y5t(t){Cb.re(t),Vb.get(this).v5t(t)}get Y5t(){return Vb.get(this).x5t()}Q5t(t,s){Cb.re(t),Cb.re(s);const i=Vb.get(this);i.T5t(t),i.v5t(s)}J5t(){const t=Vb.get(this);return[t.b5t(),t.x5t()]}set H5t(t){Cb.re(t),Vb.get(this).I5t(t)}get H5t(){return Vb.get(this).G5t()}set q5t(t){Cb.re(t),Vb.get(this).C5t(t)}get q5t(){return Vb.get(this)._5t()}X5t(t,s){Cb.re(t),Cb.re(s);const i=Vb.get(this);i.I5t(t),i.C5t(s)}Z5t(){const t=Vb.get(this);return[t.G5t(),t._5t()]}set K5t(t){Cb.re(t),Vb.get(this).A5t(t)}get K5t(){return Vb.get(this).E5t()}set $5t(t){Cb.re(t),Vb.get(this).A5t(Gb.Kn(t))}get $5t(){return Gb.$n(Vb.get(this).E5t())}get imageWidth(){return Vb.get(this).B_t().Bg()}get imageHeight(){return Vb.get(this).B_t().Zg()}EKt(){const t=Vb.get(this).B_t();return[t.Bg(),t.Zg()]}set t6t(t){Vb.get(this).D5t(!!t)}get t6t(){return Vb.get(this).N5t()}set s6t(t){Cb.re(t),Vb.get(this).L5t(t)}get s6t(){return Vb.get(this).O5t()}set i6t(t){Cb.re(t),Vb.get(this).R5t(t)}get i6t(){return Vb.get(this).P5t()}e6t(t,s){Cb.re(t),Cb.re(s);const i=Vb.get(this);i.L5t(t),i.R5t(s)}n6t(){const t=Vb.get(this);return[t.O5t(),t.P5t()]}set r6t(t){Cb.re(t),Vb.get(this).k5t(t)}get r6t(){return Vb.get(this).F5t()}set h6t(t){Cb.re(t),Vb.get(this).j5t(t)}get h6t(){return Vb.get(this).z5t()}set o6t(t){Cb.re(t),Vb.get(this).B5t(t)}get o6t(){return Vb.get(this).U5t()}a6t(t,s){Cb.re(t),Cb.re(s);const i=Vb.get(this);i.j5t(t),i.B5t(s)}u6t(){const t=Vb.get(this);return[t.z5t(),t.U5t()]}async l6t(t){Cb.Fe(t,Blob);const s=Vb.get(this),i=s.Fj(),e=Gb.Vn(Gb.qAt);e.uEt(i,t),await e.wX(i.lb(),{Wv:i._k(),Bv:s.yxt().e5t(),Uv:s.yxt().n5t()}),s.Qn()?e.Yn():(s.y5t(),s.g5t=e,i.yj())}}}self.Gs.Dj.i5t.Aj={jKt:()=>!0,zKt:()=>!0,c6t(){return this.N5t()}};{const Yb=self.Gs;Yb.Dj.i5t.krt={f6t(t){this.T5t(t)},d6t(t){this.v5t(t)},p6t(t){this.I5t(t/100)},m6t(t){this.C5t(t/100)},g6t(t){this.A5t(Yb.Kn(t))},y6t(t){this.D5t(t)},w6t(t,s){this.L5t(t/100),this.R5t(s/100)},M6t(t){this.k5t(t/100)},S6t(t,s){this.j5t(t/100),this.B5t(s/100)},qKt(t){this.lj().Nb(t),this.kc.yj()},async JKt(t,s){if(this.g5t&&this.g5t.WZ()===t)return;const i=this.kc,e=Yb.Vn(Yb.qAt);try{if(await e.aEt(i,t,!0),!e.yK())throw new Error("image failed to load");if(this.Qn())return e.Yn(),null;if(!await e.wX(i.lb(),{Wv:i._k(),Bv:this.yxt().e5t(),Uv:this.yxt().n5t()}))return}catch(t){return console.error("Load image from URL failed: ",t),void(this.Qn()||this.vV(Yb.Dj.i5t.Aj.zKt))}this.Qn()?e.Yn():(this.y5t(),this.g5t=e,i.yj(),await this.Cj(Yb.Dj.i5t.Aj.jKt))}}}{const Qb=self.Gs;Qb.Dj.i5t.Frt={h$t(){return this.B_t().Bg()},o$t(){return this.B_t().Zg()},T6t(){return this.r5t},b6t(){return this.h5t},v6t(){return 100*this.o5t},x6t(){return 100*this.a5t},I6t(){return Qb.$n(this.u5t)},G6t(){return 100*this.O5t()},C6t(){return 100*this.P5t()},_6t(){return 100*this.F5t()},A6t(){return 100*this.z5t()},E6t(){return 100*this.U5t()}}}{const Jb=self.Gs,Hb=[];Jb.Dj.Audio=class extends Jb.gCt{constructor(t){super(t)}D6t(t){Hb.push(t)}static async N6t(){await Promise.all(Hb),Jb.Mh(Hb)}Yn(){super.Yn()}}}{let qb=function(){return $b.wB().EQ()},Xb=function(){if(self.C3Audio_DOMInterface)return self.C3Audio_DOMInterface;throw new Error("audio scripting API cannot be used here - make sure the project is using DOM mode, not worker mode")};0;const Zb=self.Gs,Kb=self.ks;Zb.Dj.Audio.NDt=class extends Zb.t_t{constructor(t){super(t)}Yn(){super.Yn()}jCt(){}zCt(){return self.L6t}};let $b=null;self.L6t=class extends self.OB{constructor(t){super(t),$b=t}get O6t(){return Xb().GetAudioContextExtern()}get R6t(){return Xb().GetDestinationNodeExtern()}get P6t(){return qb().k6t()}set P6t(t){qb().F6t(t)}get j6t(){return qb().z6t()}set j6t(t){Kb.re(t),qb().B6t(t)}U6t(){qb().W6t()}}}{const tv=self.Gs,sv="audio",iv=["interactive","balanced","playback"];tv.Dj.Audio.Instance=class extends tv.r_t{constructor(t,s){super(t,sv),this.V6t=0,this.Y6t=0,this.Q6t=[],this.J6t=!0,this.H6t=0,this.q6t=0,this.X6t=!1,this.Z6t=1,this.K6t=1,this.$6t=[this.kc.d1()/2,this.kc.m1()/2,600],this.t8t=[0,0,-1],this.s8t=[0,1,0],this.i8t=600,this.e8t=1e4,this.n8t=1,this.r8t=null,this.h8t=-1,this.o8t=1,this.a8t=!1,this.u8t=0,this.l8t="suspended",this.c8t=0,this.f8t=new Map,this.d8t=0,this.p8t=0,this.m8t=new Map,this.g8t=new Map;let i="interactive";s&&(this.H6t=s[0],this.q6t=s[1],this.X6t=s[2],i=iv[s[3]],this.J6t=s[4],this.Z6t=s[5],this.K6t=s[6],this.$6t[2]=s[7],this.i8t=s[8],this.e8t=s[9],this.n8t=s[10]),this.y8t=[],this.w8t=[],this.M8t=[],this.g_t([["state",t=>this.S8t(t)],["audiocontext-state",t=>this.T8t(t)],["fxstate",t=>this.b8t(t)],["trigger",t=>this.v8t(t)],["buffer-metadata",t=>this.x8t(t)]]);const e=this.Fj().yf();this.qf=new tv.Qf(tv.zf.Yf(e,"instancedestroy",(t=>this.I8t(t.BQ))),tv.zf.Yf(e,"afterload",(()=>this.D6())),tv.zf.Yf(e,"suspend",(()=>this.G8t())),tv.zf.Yf(e,"resume",(()=>this.C8t())));const n=this.kc.Tz(),r="Safari"===tv.Zs.ti,h=this.kc.tQt()||"macos-wkwebview"===n,o=this.kc.nk().GZ(),a="playable-ad-single-file"===this.kc.Tz(),u=r||h||o||a;this.kc.vj(this.w_t("create-audio-context",{preloadList:this.kc.nk().oK().map((t=>({originalUrl:t.aK,url:t.url,type:t.type,fileSize:t.fileSize}))),timeScaleMode:this.H6t,latencyHint:i,panningModel:this.Z6t,distanceModel:this.K6t,refDistance:this.i8t,maxDistance:this.e8t,rolloffFactor:this.n8t,listenerPos:this.$6t,usePlayMusicAsSoundWorkaround:u}).then((t=>{this.u8t=t.sampleRate,this.l8t=t.audioContextState,this.c8t=t.outputLatency}))),this.x_t()}Yn(){this.r8t=null,super.Yn()}_8t(t){return this.J6t?t.split(" ").filter((t=>!!t)):t?[t]:[]}A8t(t,s){for(const i of s){let s=!1;for(const e of t)if(tv.Ze(e,i)){s=!0;break}if(!s)return!1}return!0}E8t(t,s){return this.A8t(t,this._8t(s))}D6t(t){this.TB().D6t(t)}I8t(t){this.r8t===t&&(this.r8t=null)}D8t(t){return Math.pow(10,t/20)}N8t(t){const s=this.D8t(t);return isFinite(s)?Math.max(Math.min(s,1),0):0}L8t(t){return Math.log(t)/Math.log(10)*20}O8t(t){return this.L8t(Math.max(Math.min(t,1),0))}R8t(){let t=0;const s=!!self.C3_GetAudioContextCurrentTime;return t=s?this.V6t:this.Y6t,this.V6t=0,this.Y6t=0,{P8t:t,k8t:s}}G8t(){this.X6t||this.y_t("set-suspended",{isSuspended:!0})}C8t(){this.X6t||this.y_t("set-suspended",{isSuspended:!1})}S8t(t){const s=t.tickCount;this.c8t=t.outputLatency;const i=this.y8t.filter((t=>t.hasOwnProperty("placeholder")&&(t.placeholder>s||-1===t.placeholder)));this.y8t=t.audioInstances,this.M8t=t.analysers,i.length>0&&tv.Nn(this.y8t,i)}x8t(t){this.m8t.set(t.originalUrl,{duration:t.duration})}T8t(t){this.l8t=t.audioContextState}Jrt(){return this.kc.Gzt()?"running":this.l8t}b8t(t){this.w8t=t.fxstate}F8t(t){const s=this._8t(t);for(const t of this.y8t)if(this.A8t(t.tags,s))return t;return null}j8t(t){const s=this._8t(t);return this.y8t.some((t=>this.A8t(t.tags,s)&&t.isPlaying))}z8t(t,s,i,e,n){if(this.j8t(s))return null;const r=this.m8t.get(t),h={tags:this._8t(s),duration:r?r.duration:0,volume:n,isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:t,bufferUrl:"",bufferType:"",isMusic:i,isLooping:e,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};return this.y8t.push(h),h}B8t(t){const s=this._8t(t);for(const t of this.y8t)this.A8t(t.tags,s)&&(t.isPlaying=!1)}async v8t(t){const s=t.type;this.Q6t=t.tags;const i=t.aiid;if("ended"===s){for(const t of this.y8t)if(t.aiid===i){t.isPlaying=!1;break}await this.Cj(tv.Dj.Audio.Aj.U8t)}else"fade-ended"===s&&await this.Cj(tv.Dj.Audio.Aj.W8t)}V8t(t){return this.E8t(this.Q6t,t)}_8(){const t={timeScale:this.kc.wF(),gameTime:this.kc.qYt(),instPans:this.Y8t(),tickCount:this.kc.XYt()};if(this.r8t){const s=this.r8t.lj();this.$6t[0]=s.Wb(),this.$6t[1]=s.Qb(),t.listenerPos=this.$6t,t.listenerOrientation=[...this.t8t,...this.s8t]}this.y_t("tick",t)}Q8t(t,s,i,e,n){if(0===i)return[t,s];const r=Math.sin(i),h=Math.cos(i),o=(t-=e)*r;return t=t*h-(s-=n)*r,s=s*h+o,[t+=e,s+=n]}Y8t(){return this.y8t.filter((t=>-1!==t.uid)).map((t=>this.kc.rj(t.uid))).filter((t=>t)).map((t=>{const s=t.lj(),i=s.cj().lU(),[e,n]=this.Q8t(s.Wb(),s.Qb(),-i,this.$6t[0],this.$6t[1]);return{uid:t.tV(),x:e,y:n,z:s.cY(),angle:s.lU()-i}}))}J8t(t,s){for(const i of this.M8t)if(i.index===s&&tv.Ze(i.tag,t))return i;return null}H8t(t){for(const s of this._8t(t)){const t=s.toLowerCase();this.f8t.set(t,(this.f8t.get(t)||0)+1)}}k6t(){return this.a8t}F6t(t){t=!!t,this.a8t!==t&&(this.a8t=t,this.y_t("set-silent",{isSilent:t}))}z6t(){return this.o8t}B6t(t){this.o8t!==t&&(this.o8t=t,this.y_t("set-master-volume",{vol:t}))}W6t(){this.y_t("stop-all");for(const t of this.y8t)t.isPlaying=!1}q8t(t){return!(t.hasOwnProperty("placeholder")||3===this.q6t||t.isMusic&&1===this.q6t||!t.isMusic&&2===this.q6t)}ev(){return{isSilent:this.a8t,masterVolume:this.o8t,listenerZ:this.$6t[2],listenerForwardVec:this.t8t,listenerUpVec:this.s8t,listenerUid:this.r8t?this.r8t.tV():-1,remoteUrls:[...this.g8t.entries()],playing:this.y8t.filter((t=>this.q8t(t))),effects:this.w8t,analysers:this.M8t}}nv(t){if(this.a8t=t.isSilent,this.o8t=t.masterVolume,this.$6t[2]=t.listenerZ,this.r8t=null,this.h8t=t.listenerUid,t.hasOwnProperty("listenerForwardVec")?this.t8t=t.listenerForwardVec:this.t8t=[0,0,-1],t.hasOwnProperty("listenerUpVec")?this.s8t=t.listenerUpVec:this.s8t=[0,1,0],this.g8t.clear(),t.remoteUrls)for(const[s,i]of t.remoteUrls)this.g8t.set(s,i);this.y8t=t.playing;for(const t of this.y8t)t.hasOwnProperty("tag")&&!t.hasOwnProperty("tags")&&(t.tags=[t.tag].filter((t=>!!t)));this.w8t=t.effects,this.M8t=t.analysers}D6(){if(-1!==this.h8t&&(this.r8t=this.kc.rj(this.h8t),this.h8t=-1,this.r8t)){const t=this.r8t.lj();this.$6t[0]=t.Wb(),this.$6t[1]=t.Qb()}for(const t of this.y8t){const s=this.kc.nk().hK(t.bufferOriginalUrl);s?(t.bufferUrl=s.url,t.bufferType=s.type):t.bufferUrl=null}for(const t of Object.values(this.w8t))for(const s of t)if(s.hasOwnProperty("bufferOriginalUrl")){const t=this.kc.nk().hK(s.bufferOriginalUrl);t&&(s.bufferUrl=t.url,s.bufferType=t.type)}this.y_t("load-state",{saveLoadMode:this.q6t,timeScale:this.kc.wF(),gameTime:this.kc.qYt(),listenerPos:this.$6t,listenerOrientation:[...this.t8t,...this.s8t],isSilent:this.a8t,masterVolume:this.o8t,playing:this.y8t.filter((t=>null!==t.bufferUrl)),effects:this.w8t})}__t(){const t=[];for(const[s,i]of Object.entries(this.w8t))t.push({name:"$"+s,value:i.map((t=>t.type)).join(", ")});const s="plugins.audio.debugger";return[{title:s+".tag-effects",properties:t},{title:s+".currently-playing",properties:[{name:s+".currently-playing-count",value:this.y8t.length},...this.y8t.map(((t,s)=>({name:"$#"+s,value:`${t.bufferOriginalUrl} ("${t.tags}") ${Math.round(10*t.playbackTime)/10} / ${Math.round(10*t.duration)/10}`})))]}]}}}self.Gs.Dj.Audio.Aj={U8t(t){return this.V8t(t)},W8t(t){return this.V8t(t)},X8t(){return this.p8t===this.d8t},Z8t:()=>!0,K8t(){return this.k6t()},$8t(){for(const t of this.y8t)if(t.isPlaying)return!0;return!1},t7t(t){return this.j8t(t)}};{const ev=self.Gs,nv=["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"];ev.Dj.Audio.krt={Play(t,s,i,e,n){const r=ev.Dj.Audio.krt.s7t.call(this,t,s,i,e,n);return this.D6t(r),r},Hrt(t,s,i,e){ev.Dj.Audio.krt.s7t.call(this,t,0,s,0,i,e)},async s7t(t,s,i,e,n,r){if(this.a8t)return;const h=t[1],o=this.kc.nk().hK(t[0]);if(!o)return;const{P8t:a,k8t:u}=this.R8t(),l=this.z8t(t[0],n,h,0!==s,this.N8t(i));try{await this.w_t("play",{originalUrl:t[0],url:o.url,type:o.type,isMusic:h,tags:this._8t(n),isLooping:0!==s,vol:this.N8t(i),stereoPan:ev.Xn(e/100,-1,1),pos:r||0,off:a,trueClock:u})}finally{l&&(l.placeholder=this.kc.XYt())}},async i7t(t,s,i,e,n,r,h,o,a,u,l){if(this.a8t)return;const c=t[1],f=this.kc.nk().hK(t[0]);if(!f)return;const{P8t:d,k8t:p}=this.R8t(),m=this.z8t(t[0],l,c,0!==s,this.N8t(i));try{await this.w_t("play",{originalUrl:t[0],url:f.url,type:f.type,isMusic:c,tags:this._8t(l),isLooping:0!==s,vol:this.N8t(i),pos:0,off:d,trueClock:p,panning:{x:e,y:n,z:r,angle:ev.Kn(h),innerAngle:ev.Kn(o),outerAngle:ev.Kn(a),outerGain:this.N8t(u)}})}finally{m&&(m.placeholder=this.kc.XYt())}},async e7t(t,s,i,e,n,r,h,o){if(this.a8t)return;if(!e)return;const a=e.lIt();if(!a||!a.lj())return;const u=a.lj(),l=u.cj().lU(),[c,f]=this.Q8t(u.Wb(),u.Qb(),-l,this.$6t[0],this.$6t[1]),d=t[1],p=this.kc.nk().hK(t[0]);if(!p)return;const{P8t:m,k8t:g}=this.R8t(),y=this.z8t(t[0],o,d,0!==s,this.N8t(i));try{await this.w_t("play",{originalUrl:t[0],url:p.url,type:p.type,isMusic:d,tags:this._8t(o),isLooping:0!==s,vol:this.N8t(i),pos:0,off:m,trueClock:g,panning:{x:c,y:f,z:u.cY(),angle:u.lU()-l,innerAngle:ev.Kn(n),outerAngle:ev.Kn(r),outerGain:this.N8t(h),uid:a.tV()}})}finally{y&&(y.placeholder=this.kc.XYt())}},async n7t(t,s,i,e,n,r){if(this.a8t)return;const h=1===t,o=this.kc.nk().hK(s)||this.g8t.get(s.toLowerCase());if(!o)return;const{P8t:a,k8t:u}=this.R8t(),l=this.z8t(s,r,h,0!==i,this.N8t(e));try{await this.w_t("play",{originalUrl:s,url:o.url,type:o.type,isMusic:h,tags:this._8t(r),isLooping:0!==i,vol:this.N8t(e),stereoPan:ev.Xn(n/100,-1,1),pos:0,off:a,trueClock:u})}finally{l&&(l.placeholder=this.kc.XYt())}},async r7t(t,s,i,e,n,r,h,o,a,u,l,c){if(this.a8t)return;const f=1===t,d=this.kc.nk().hK(s)||this.g8t.get(s.toLowerCase());if(!d)return;const{P8t:p,k8t:m}=this.R8t(),g=this.z8t(s,c,f,0!==i,this.N8t(e));try{await this.w_t("play",{originalUrl:s,url:d.url,type:d.type,isMusic:f,tags:this._8t(c),isLooping:0!==i,vol:this.N8t(e),pos:0,off:p,trueClock:m,panning:{x:n,y:r,z:h,angle:ev.Kn(o),innerAngle:ev.Kn(a),outerAngle:ev.Kn(u),outerGain:this.N8t(l)}})}finally{g&&(g.placeholder=this.kc.XYt())}},async h7t(t,s,i,e,n,r,h,o,a){if(this.a8t)return;if(this.a8t)return;if(!n)return;const u=n.lIt();if(!u||!u.lj())return;const l=u.lj(),c=l.cj().lU(),[f,d]=this.Q8t(l.Wb(),l.Qb(),-c,this.$6t[0],this.$6t[1]),p=1===t,m=this.kc.nk().hK(s)||this.g8t.get(s.toLowerCase());if(!m)return;const{P8t:g,k8t:y}=this.R8t(),w=this.z8t(s,a,p,0!==i,this.N8t(e));try{await this.w_t("play",{originalUrl:s,url:m.url,type:m.type,isMusic:p,tags:this._8t(a),isLooping:0!==i,vol:this.N8t(e),pos:0,off:g,trueClock:y,panning:{x:f,y:d,z:l.cY(),angle:l.lU()-c,innerAngle:ev.Kn(r),outerAngle:ev.Kn(h),outerGain:this.N8t(o),uid:u.tV()}})}finally{w&&(w.placeholder=this.kc.XYt())}},o7t(t,s){this.y_t("set-looping",{tags:this._8t(t),isLooping:0===s})},a7t(t,s){this.y_t("set-muted",{tags:this._8t(t),isMuted:0===s})},Yrt(t,s){this.y_t("set-volume",{tags:this._8t(t),vol:this.N8t(s)})},u7t(t,s,i,e){this.y_t("fade-volume",{tags:this._8t(t),vol:this.N8t(s),duration:i,stopOnEnd:0===e})},l7t(t,s){this.y_t("set-stereo-pan",{tags:this._8t(t),p:ev.Xn(s/100,-1,1)})},async c7t(t){const s=t[1],i=this.kc.nk().hK(t[0]);i&&(this.d8t++,await this.w_t("preload",{originalUrl:t[0],url:i.url,type:i.type,isMusic:s}),this.p8t++)},async f7t(t,s){const i=1===t,e=this.kc.nk().hK(s)||this.g8t.get(s.toLowerCase());e&&(this.d8t++,await this.w_t("preload",{originalUrl:s,url:e.url,type:e.type,isMusic:i}),this.p8t++)},UJ(t,s){this.y_t("set-playback-rate",{tags:this._8t(t),rate:Math.max(s,0)})},NJ(t){this.B8t(t),this.y_t("stop",{tags:this._8t(t)})},d7t(){this.W6t()},p7t(t,s){this.y_t("set-paused",{tags:this._8t(t),paused:0===s})},m7t(t,s){this.y_t("seek",{tags:this._8t(t),pos:s})},g7t(t){2===t&&(t=this.k6t()?1:0),this.F6t(0===t)},y7t(t){const s=this.N8t(t);this.B6t(s)},w7t(t,s,i,e,n,r,h){const o=nv[s];this.H8t(t),this.y_t("add-effect",{type:"filter",tags:this._8t(t),params:[o,i,e,n,r,ev.Xn(h/100,0,1)]})},M7t(t,s,i,e){this.H8t(t),this.y_t("add-effect",{type:"delay",tags:this._8t(t),params:[s,this.N8t(i),ev.Xn(e/100,0,1)]})},S7t(t,s,i,e,n,r){this.H8t(t),this.y_t("add-effect",{type:"flanger",tags:this._8t(t),params:[s/1e3,i/1e3,e,n/100,ev.Xn(r/100,0,1)]})},T7t(t,s,i,e,n,r,h){this.H8t(t),this.y_t("add-effect",{type:"phaser",tags:this._8t(t),params:[s,i,e,n,r,ev.Xn(h/100,0,1)]})},b7t(t,s,i,e){const n=this.kc.nk().hK(s[0]);n&&(this.H8t(t),this.y_t("add-effect",{type:"convolution",tags:this._8t(t),bufferOriginalUrl:s[0],bufferUrl:n.url,bufferType:n.type,params:[0===i,ev.Xn(e/100,0,1)]}))},v7t(t,s){this.H8t(t),this.y_t("add-effect",{type:"gain",tags:this._8t(t),params:[this.N8t(s)]})},x7t(t,s){this.H8t(t),this.y_t("add-effect",{type:"stereopan",tags:this._8t(t),params:[ev.Xn(s/100,-1,1)]})},I7t(t){this.H8t(t),this.y_t("add-effect",{type:"gain",tags:this._8t(t),params:[0]})},G7t(t,s,i){this.H8t(t),this.y_t("add-effect",{type:"tremolo",tags:this._8t(t),params:[s,ev.Xn(i/100,0,1)]})},C7t(t,s,i){this.H8t(t),this.y_t("add-effect",{type:"ringmod",tags:this._8t(t),params:[s,ev.Xn(i/100,0,1)]})},_7t(t,s,i,e,n,r){this.H8t(t),this.y_t("add-effect",{type:"distortion",tags:this._8t(t),params:[this.D8t(s),this.D8t(i),e,this.D8t(n),ev.Xn(r/100,0,1)]})},A7t(t,s,i,e,n,r){this.H8t(t),this.y_t("add-effect",{type:"compressor",tags:this._8t(t),params:[s,i,e,n/1e3,r/1e3]})},E7t(t,s,i){this.H8t(t),this.y_t("add-effect",{type:"analyser",tags:this._8t(t),params:[s,i]})},D7t(t){const s=this._8t(t);for(const t of s)this.f8t.set(t.toLowerCase(),0);this.y_t("remove-effects",{tags:s}),this.w8t={}},XQ(t,s,i,e,n,r){this.y_t("set-effect-param",{tags:this._8t(t),index:Math.floor(s),param:i,value:e,ramp:n,time:r})},N7t(t){if(!t)return;const s=t.lIt();s&&s.lj()&&(this.r8t=s)},L7t(t){this.$6t[2]=t},O7t(t,s,i,e,n,r){this.t8t[0]=t,this.t8t[1]=s,this.t8t[2]=-i,this.s8t[0]=e,this.s8t[1]=n,this.s8t[2]=-r},R7t(t){this.V6t=Math.max(t,0),this.Y6t=Math.max(t-performance.now()/1e3,0)},P7t(t){const s=t[1],i=this.kc.nk().hK(t[0]);i&&this.y_t("unload",{url:i.url,type:i.type,isMusic:s})},k7t(t,s){const i=1===t,e=this.kc.nk().hK(s)||this.g8t.get(s.toLowerCase());e&&this.y_t("unload",{url:e.url,type:e.type,isMusic:i})},F7t(){this.y_t("unload-all")},j7t(t,s,i){this.g8t.set(i.toLowerCase(),{url:t,type:s})}}}{const rv=self.Gs;rv.Dj.Audio.Frt={z7t(t){const s=this.F8t(t);return s?s.duration:0},Brt(t){const s=this.F8t(t);return s?s.playbackTime:0},Qrt(t){const s=this.F8t(t);return s?s.playbackRate:0},Urt(t){const s=this.F8t(t);return s?this.O8t(s.volume):0},B7t(){return this.O8t(this.z6t())},U7t(t){return this.f8t.get(t.toLowerCase())||0},W7t(t,s){const i=this.J8t(t,Math.floor(s));return i?i.binCount:0},V7t(t,s,i){const e=this.J8t(t,Math.floor(s));return e?(i=Math.floor(i))<0||i>=e.binCount?0:e.freqBins[i]:0},Y7t(t,s){const i=this.J8t(t,Math.floor(s));return i?i.peak:0},Q7t(t,s){const i=this.J8t(t,Math.floor(s));return i?i.rms:0},J7t(){return this.u8t},H7t:()=>self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1e3,q7t(){return this.c8t},X7t(t,s){return 0==(t=rv.Xn(+t,0,100)/100)?-1/0:t<.1?this.O8t(rv.Gt(0,this.N8t(s),10*t)):rv.Gt(s,0,(t-.1)/.9)}}}{const hv=self.Gs;hv.Dj.Z7t=class extends hv.gCt{constructor(t){super(t)}Yn(){super.Yn()}}}{const ov=self.Gs;ov.Dj.Z7t.NDt=class extends ov.t_t{constructor(t){super(t)}Yn(){super.Yn()}jCt(){this.mJ().kj(this.kc)}L4(t){return this.mJ().wX(t,{Wv:this.kc._k()})}z4(){this.mJ().YA()}}}{let av=function(t){return Rv.get(t).K7t()};0;const uv=self.Gs,lv=self.ks,cv=0,fv=1,dv=2,pv=3,mv=4,gv=5,yv=6,wv=7,Mv=8,Sv=9,Tv=10,bv=11,vv=12,xv=13,Iv=14,Gv=15,Cv=16,_v=17,Av=18,Ev=19,Dv=20,Nv=0,Lv=1,Ov=uv.Vn(uv.Rect);uv.Dj.Z7t.Instance=class extends uv.L_t{constructor(t,s){super(t),this.$7t=!0;const i=uv.Vn(self.t9t);this.s9t=i,i.i9t=()=>this.e9t(),this.n9t=null,this.r9t=(t,s,i,e,n,r)=>this.h9t(t,s,i,e,n,r),this.o9t=t=>this.a9t(t),this.u9t=!0;let e=!0;s&&(i.l9t(s[cv]),i.c9t(uv.Kn(s[fv])),i.f9t(s[dv]?"one-shot":"continuous-spray"),this.d9t(this.kc.Gq(s[pv])),e=s[mv],i.p9t(s[gv]),i.m9t(s[yv]),i.g9t(s[wv]/100),i.y9t(s[Mv]),i.w9t(s[Sv]),i.M9t(s[Tv]),i.S9t(s[bv]),i.T9t(s[vv]),i.b9t(s[xv]),i.v9t(s[Iv]),i.x9t(s[Gv]),i.I9t(s[Cv]),i.G9t(s[_v]),i.C9t(s[Av]),i._9t(s[Ev]),i.e1t(s[Dv])),this.A9t(),this.n9t&&(this.u9t=!1),"one-shot"===i.E9t()?i.D9t():i.N9t(!0);const n=this.lj();n.QU(e),n.wPt(!0),this.fi.yf().addEventListener("bboxchange",(()=>{n.yPt(this.s9t.pY())})),this.Fj().lb().tS()&&n.uPt(),this.E6=t=>this.D6(t),this.Fj().yf().addEventListener("afterload",this.E6),this.x_t()}Yn(){this.Fj().yf().removeEventListener("afterload",this.E6),this.E6=null,this.s9t.Yn(),this.s9t=null,this.r9t=null,this.o9t=null,super.Yn()}K7t(){return this.s9t}L9t(t){this.s9t.l9t(t),"one-shot"===this.s9t.E9t()&&this.$7t&&this.s9t.O9t(t)}d9t(t){t===this.BW()&&(t=null),t!==this.n9t&&(this.n9t=t,this.s9t.R9t=t?t=>this.P9t(t):null,this.n9t||(this.u9t=!0))}A9t(){const t=this.s9t,s=this.lj();t.k9t(s.$N()),t.DHt(this.kc.Ek()),t.F9t(s.Wb()),t.j9t(s.Qb()),t.z9t(s.lU()),t.B9t(Math.abs(s.LRt()))}e9t(){this.kc.JW(this.fi)}Nv(t){if(!this.u9t)return;const s=this.Odt.mJ(),i=s.lI();if(!i)return;const e=this.lj(),n=e.cj(),r=Ov;this.kc.Ij().SBt()?r.set(-1/0,-1/0,1/0,1/0):n.C1()?n.c3(e.cY(),r):n.l1(e.cY(),r),t.nL(i);const h=n.c1(e.cY());this.s9t.U9t(n.jW()*h),this.s9t.Nv(t,s.Y_t(),r,n.C1())}ev(){const t=this.s9t;return{r:t.W9t(),sc:t.V9t(),st:t.E9t(),isp:t.Y9t(),isz:t.Q9t(),io:t.J9t(),gr:t.H9t(),xr:t.q9t(),yr:t.X9t(),spr:t.Z9t(),szr:t.K9t(),grnd:t.$9t(),acc:t.tts(),g:t.sts(),lar:t.its(),lsr:t.ets(),lor:t.nts(),dm:t.rts(),to:t.hts(),s:t.ots(),pcc:t.ats(),ft:this.$7t,soc:this.n9t?this.n9t.W0():null,p:t.uts().map((t=>t.toJSON()))}}nv(t,s){const i=this.s9t;if(i.l9t(t.r),i.c9t(t.sc),i.f9t(t.st),i.p9t(t.isp),i.m9t(t.isz),i.g9t(t.io),i.y9t(t.gr),i.w9t(t.xr),i.M9t(t.yr),i.S9t(t.spr),i.T9t(t.szr),i.b9t(t.grnd),i.v9t(t.acc),i.x9t(t.g),i.I9t(t.lar),i.G9t(t.lsr),i.C9t(t.lor),i._9t(t.dm),i.e1t(t.to),i.N9t(t.s),i.lts(t.pcc),this.$7t=t.ft,t.hasOwnProperty("soc")){const s=this.Fj().Gq(t.soc);s&&this.d9t(s)}const e=t.p;i.O9t(e.length,!1);const n=i.uts();for(let t=0,s=n.length;t<s;++t)n[t].ya(e[t]);"state"===s&&this.n9t&&(i.cts(),i.fts(this))}D6(){const t=this.s9t;t.cts(),t.fts(this);const s=t.uts();for(let t=0,i=s.length;t<i;++t){const i=s[t],e=i.dts();if(!e)continue;const n=e.lj();if(!n)continue;const r=n.iH();if(!r)continue;const h=i.pts(),o=r.tV();if(("number"!=typeof h||"number"!=typeof o||h!==o)&&"number"==typeof h){const t=this.Fj(),s=t.rj(h);s&&t.JW(s)}}}_8(){const t=this.kc.aF(this.fi);this.A9t(),this.$7t&&"one-shot"===this.s9t.E9t()&&this.s9t.mts(),this.s9t._8(t),this.s9t.ots()&&this.kc.yj(),this.lj().KV(),this.$7t=!1}gts(t){const s=1/60;for(this.$7t&&"one-shot"===this.s9t.E9t()&&this.s9t.mts();t>0;)this.s9t._8(s),t-=s;this.s9t.ots()&&this.kc.yj(),this.lj().KV(),this.$7t=!1}P9t(t,s){let i;"number"==typeof s&&(i=this.kc.rj(s)),i&&i.BW()!==this.n9t&&(i=null),i||(i=this.kc.jB(this.n9t,this.lj().cj(),t.Wb(),t.Qb()));const e=i.lj();return e.vE(t.Nl(),t.Nl()),e.uU(t.lU()),e.sL(t.$N()),e.TY(this.lj().SY()),e.KV(),e.AY(this.iH(),!0),i.h5(),t.yts(this.r9t),t.wts(this.o9t),i}h9t(t,s,i,e,n,r){if(t.YH())return;const h=t.lj();h.sY(s,i),h.vE(h.Bg()+e,h.Zg()+e),h.uU(h.lU()+n),h.sL(h.$N()+r),h.KV()}a9t(t){t.YH()||this.kc.JW(t)}Sht(t){const s=this.s9t;switch(t){case cv:return s.W9t();case fv:return uv.$n(s.V9t());case dv:return"one-shot"===s.E9t()?Lv:Nv;case gv:return s.Y9t();case yv:return s.Q9t();case wv:return 100*s.J9t();case Mv:return s.H9t();case Sv:return s.q9t();case Tv:return s.X9t();case bv:return s.Z9t();case vv:return s.K9t();case xv:return s.$9t();case Iv:return s.tts();case Gv:return s.sts();case Cv:return s.its();case _v:return s.ets();case Av:return s.nts();case Ev:return s.rts();case Dv:return s.hts()}}Ght(t,s){const i=this.s9t;switch(t){case cv:i.l9t(s);break;case fv:i.c9t(uv.Kn(s));break;case dv:i.f9t(s?"one-shot":"continuous-spray");break;case gv:i.p9t(s);break;case yv:i.m9t(s);break;case wv:i.g9t(s/100);break;case Mv:i.y9t(s);break;case Sv:i.w9t(s);break;case Tv:i.M9t(s);break;case bv:i.S9t(s);break;case vv:i.T9t(s);break;case xv:i.b9t(s);break;case Iv:i.v9t(s);break;case Gv:i.x9t(s);break;case Cv:i.I9t(s);break;case _v:i.G9t(s);break;case Av:i.C9t(s);break;case Ev:i._9t(s);break;case Dv:i.e1t(s)}}__t(){const t="plugins.particles",s=t+".properties",i=t+".debugger",e=this.s9t;return[{title:t+".name",properties:[{name:i+".particle-count",value:e.Mts()},{name:s+".type.name",value:[s+".type.items."+e.E9t()]},{name:i+".is-spraying",value:e.ots(),gKt:t=>e.N9t(t)},{name:s+".rate.name",value:e.W9t(),gKt:t=>e.l9t(t)},{name:s+".spray-cone.name",value:uv.$n(e.V9t()),gKt:t=>e.c9t(uv.Kn(t))},{name:s+".speed.name",value:e.Y9t(),gKt:t=>e.p9t(t)},{name:s+".size.name",value:e.Q9t(),gKt:t=>e.m9t(t)},{name:s+".opacity.name",value:e.J9t(),gKt:t=>e.g9t(t)},{name:s+".grow-rate.name",value:e.H9t(),gKt:t=>e.y9t(t)},{name:s+".x-randomiser.name",value:e.q9t(),gKt:t=>e.w9t(t)},{name:s+".y-randomiser.name",value:e.X9t(),gKt:t=>e.M9t(t)},{name:s+".initial-speed-randomiser.name",value:e.Z9t(),gKt:t=>e.S9t(t)},{name:s+".size-randomiser.name",value:e.K9t(),gKt:t=>e.T9t(t)},{name:s+".grow-rate-randomiser.name",value:e.$9t(),gKt:t=>e.b9t(t)},{name:s+".acceleration.name",value:e.tts(),gKt:t=>e.v9t(t)},{name:s+".gravity.name",value:e.sts(),gKt:t=>e.x9t(t)},{name:s+".angle-randomiser.name",value:e.its(),gKt:t=>e.I9t(t)},{name:s+".life-speed-randomiser.name",value:e.ets(),gKt:t=>e.G9t(t)},{name:s+".opacity-randomiser.name",value:e.nts(),gKt:t=>e.C9t(t)},{name:s+".timeout.name",value:e.hts(),gKt:t=>e.e1t(t)}]}]}zCt(){return self.Sts}};const Rv=new WeakMap;self.Sts=class extends self.IQ{constructor(){super(),Rv.set(this,self.zW.VW().EQ())}set Tts(t){av(this).N9t(!!t)}get Tts(){return av(this).ots()}set rate(t){lv.re(t),Rv.get(this).L9t(t)}get rate(){return av(this).W9t()}set bts(t){lv.re(t),av(this).c9t(t)}get bts(){return av(this).V9t()}set vts(t){lv.re(t),av(this).p9t(t)}get vts(){return av(this).Y9t()}set xts(t){lv.re(t),av(this).m9t(t)}get xts(){return av(this).Q9t()}set Its(t){lv.re(t),av(this).g9t(t)}get Its(){return av(this).J9t()}set Gts(t){lv.re(t),av(this).w9t(t)}get Gts(){return av(this).q9t()}set Cts(t){lv.re(t),av(this).M9t(t)}get Cts(){return av(this).X9t()}set _ts(t){lv.re(t),av(this).S9t(t)}get _ts(){return av(this).Z9t()}set Ats(t){lv.re(t),av(this).T9t(t)}get Ats(){return av(this).K9t()}set Ets(t){lv.re(t),av(this).y9t(t)}get Ets(){return av(this).H9t()}set Dts(t){lv.re(t),av(this).b9t(t)}get Dts(){return av(this).$9t()}set acceleration(t){lv.re(t),av(this).v9t(t)}get acceleration(){return av(this).tts()}set Nts(t){lv.re(t),av(this).x9t(t)}get Nts(){return av(this).sts()}set Lts(t){lv.re(t),av(this).I9t(t)}get Lts(){return av(this).its()}set Ots(t){lv.re(t),av(this).G9t(t)}get Ots(){return av(this).ets()}set Rts(t){lv.re(t),av(this).C9t(t)}get Rts(){return av(this).nts()}set timeout(t){lv.re(t),av(this).e1t(t)}get timeout(){return av(this).hts()}Pts(t){lv.re(t),Rv.get(this).gts(t)}kts(t){const s=Rv.get(this);t?s.d9t(s.Fj().pz(t)):s.d9t(null)}}}self.Gs.Dj.Z7t.Aj={ots(){return this.s9t.ots()}};{const Pv=self.Gs;Pv.Dj.Z7t.krt={N9t(t){this.s9t.N9t(0!==t)},l9t(t){this.L9t(t)},Fts(t){this.d9t(t)},jts(){this.d9t(null)},c9t(t){this.s9t.c9t(Pv.Kn(t))},p9t(t){this.s9t.p9t(t)},m9t(t){this.s9t.m9t(t)},g9t(t){this.s9t.g9t(t/100)},y9t(t){this.s9t.y9t(t)},zts(t){this.s9t.w9t(t)},Bts(t){this.s9t.M9t(t)},Uts(t){this.s9t.S9t(t)},Wts(t){this.s9t.T9t(t)},Vts(t){this.s9t.b9t(t)},Yts(t){this.s9t.v9t(t)},x9t(t){this.s9t.x9t(t)},Qts(t){this.s9t.I9t(t)},Jts(t){this.s9t.G9t(t)},Hts(t){this.s9t.C9t(t)},e1t(t){this.s9t.e1t(t)},qts(t){this.gts(t)},qKt(t){this.lj().Nb(t),this.kc.yj()}}}{const kv=self.Gs;kv.Dj.Z7t.Frt={Xts(){return this.s9t.Mts()},Zts(){return this.s9t.W9t()},Kts(){return kv.$n(this.s9t.V9t())},$ts(){return this.s9t.Y9t()},tss(){return this.s9t.Q9t()},sss(){return 100*this.s9t.J9t()},iss(){return this.s9t.H9t()},ess(){return this.s9t.q9t()},nss(){return this.s9t.X9t()},rss(){return this.s9t.K9t()},hss(){return this.s9t.Z9t()},oss(){return this.s9t.$9t()},ass(){return this.s9t.tts()},uss(){return this.s9t.sts()},lss(){return this.s9t.its()},css(){return this.s9t.ets()},fss(){return this.s9t.nts()},dss(){return this.s9t.hts()}}}{const Fv=self.Gs,jv=[],zv=new Set(["continuous-spray","one-shot"]),Bv=["fade-to-invisible","timeout-expired","particle-stopped"],Uv=Fv.Vn(Fv.Rect);self.t9t=class{constructor(){this.pss=0,this.mss=0,this.gss="continuous-spray",this.yss=!1,this.wss=0,this.Mss=!1,this.Sss=0,this.Tss=0,this.bss=0,this.vss=0,this.xss=0,this.Iss=1,this.Gss=0,this.Css=0,this._ss=0,this.Ass=0,this.Ess=0,this.Dss=0,this.Nss=0,this.Lss=0,this.Oss=0,this.Rss=0,this.Pss=0,this.kss=0,this.Fss=0,this.Rf=0,this.jss=0,this.zss=1,this.i9t=null,this.R9t=null,this.Bss=[],this.eRt=new Fv.Rect,this.Ab=new Fv.vo,this.MR=globalThis.devicePixelRatio||1}Yn(){this.jf(),Fv.Mh(this.Bss),this.Bss=null,this.i9t=null,this.R9t=null,this.eRt=null,this.Ab=null}jf(){const t=this.Bss;for(let s=0,i=t.length;s<i;++s)t[s].aGt();Fv.Nn(jv,t),Fv.Mh(t),jv.length>1e3&&Fv.wh(jv,1e3),this.yss=!1}D9t(){for(let t=0,s=this.pss;t<s;++t)this.Uss();this.Bss.length&&(this.yss=!0)}Uss(t=!0){let s=null;return jv.length?(s=jv.pop(),s.Wss(this)):s=Fv.Vn(self.Vss,this),this.Bss.push(s),t?s.sLt(this.R9t):s.sLt(),s}mts(){const t=this.Bss,s=this.R9t;for(let i=0,e=t.length;i<e;++i)t[i].sLt(s)}cts(){const t=this.Bss,s=this.R9t;for(let i=0,e=t.length;i<e;++i)t[i].Yss(s)}fts(t){const s=this.Bss;for(let i=0,e=s.length;i<e;++i){const e=s[i],n=e.dts();if(n){const s=n.lj();s.Vb(e.Wb()),s.Jb(e.Qb()),s.vE(e.Nl(),e.Nl()),s.sL(e.$N()),s.uU(e.lU()),s.TY(t.lj().SY()),s.KV()}}}O9t(t,s=!0){const i=this.Bss;if(t<i.length){const s=i.length-t;for(let t=0;t<s;++t){const t=i.pop();t.aGt(),jv.push(t)}jv.length>1e3&&Fv.wh(jv,1e3)}else if(t>i.length){const e=t-i.length;for(let t=0;t<e;++t)this.Uss(s)}}uts(){return this.Bss}Mts(){return this.Bss.length}_8(t){this.Qss(t),this.Jss(t),this.Hss()}Qss(t){if("continuous-spray"===this.gss&&this.yss){this.jss+=t*this.pss;const s=Math.floor(this.jss);this.jss-=s;for(let t=0;t<s;++t)this.Uss()}}lts(t){this.jss=t}ats(){return this.jss}Jss(t){const s=this.eRt;s.set(this.Sss,this.Tss,this.Sss,this.Tss);const i=this.Bss;let e=0;for(let n=0,r=i.length;n<r;++n){const r=i[n];i[e]=r,r._8(t),r.Awt()?(++e,s.Iu(r.pY())):(r.aGt(),jv.push(r))}Fv.wh(i,e),jv.length>1e3&&Fv.wh(jv,1e3)}Hss(){"one-shot"===this.gss&&0===this.Bss.length&&this.yss&&(this.i9t&&this.i9t(),this.yss=!1)}Nv(t,s,i,e){this.MR=globalThis.devicePixelRatio||1,Uv.set(s.Fr(),s.jr(),s.Ur(),s.Wr()),t.ML(Uv),this.Ab.m(t.eL());const n=this.Bss;for(let r=0,h=n.length;r<h;++r){const h=n[r];i.Tu(h.pY())&&h.Nv(t,s,e)}t.SL()}eL(){return this.Ab}l9t(t){this.pss=+t}W9t(){return this.pss}c9t(t){this.mss=+t}V9t(){return this.mss}f9t(t){if(!zv.has(t))throw new Error("invalid spray type");this.gss=t}E9t(){return this.gss}N9t(t){this.yss=!!t}ots(){return this.yss}k9t(t){this.wss=+t}qss(){return this.wss}DHt(t){this.Mss=!!t}Xss(){return this.Mss}F9t(t){this.Sss=+t}Zss(){return this.Sss}j9t(t){this.Tss=+t}Kss(){return this.Tss}z9t(t){this.bss=+t}$ss(){return this.bss}p9t(t){this.vss=+t}Y9t(){return this.vss}m9t(t){this.xss=+t}Q9t(){return this.xss}B9t(t){this.Iss=+t}tis(){return this.Iss}g9t(t){this.Gss=+t}J9t(){return this.Gss}y9t(t){this.Css=+t}H9t(){return this.Css}w9t(t){this._ss=+t}q9t(){return this._ss}M9t(t){this.Ass=+t}X9t(){return this.Ass}S9t(t){this.Ess=+t}Z9t(){return this.Ess}T9t(t){this.Dss=+t}K9t(){return this.Dss}b9t(t){this.Nss=+t}$9t(){return this.Nss}v9t(t){this.Lss=+t}tts(){return this.Lss}x9t(t){this.Oss=+t}sts(){return this.Oss}I9t(t){this.Rss=+t}its(){return this.Rss}G9t(t){this.Pss=+t}ets(){return this.Pss}C9t(t){this.kss=+t}nts(){return this.kss}sis(t){let s=Bv.indexOf(t);if(-1===s)throw new Error("invalid destroy mode");this.Fss=s}_9t(t){this.sis(Bv[t])}iis(){return Bv[this.Fss]}rts(){return this.Fss}e1t(t){this.Rf=+t}hts(){return this.Rf}U9t(t){this.zss=+t}eis(){return this.zss}pY(){return this.eRt}jz(){return this.MR}}}{let Wv=function(t){return Math.random()*t-t/2};0;const Vv=self.Gs,Yv=(self.t9t,new Vv.Cu),Qv=new Vv.vo;let Jv=!1;self.Vss=class{constructor(t){this.nis=t,this.kf=!1,this._a=0,this.Aa=0,this.MEt=0,this._$=0,this.ris=1,this.his=0,this.ois=0,this.dK=0,this.ais=0,this.uis=0,this.lis=0,this.ul=new Vv.Rect,this.cis=null,this.fis=NaN,this.dis=null,this.pis=null}Wss(t){this.nis=t}sLt(t){const s=this.nis;this.kf=!0,this._a=s.Zss()+Wv(s.q9t()),this.Aa=s.Kss()+Wv(s.X9t()),this.MEt=s.Y9t()+Wv(s.Z9t()),this._$=s.$ss()+Wv(s.V9t()),this.ris=s.J9t(),this.his=this.ris,this.dK=(s.Q9t()+Wv(s.K9t()))*s.tis(),this.ais=this.dK/2,this.ois=s.H9t()+Wv(s.$9t()),this.uis=0,this.lis=0,this.mis(),t?this.cis||(this.cis=t(this)):(this.cis=null,this.dis=null,this.pis=null)}Yss(t){t?this.cis&&!this.cis.YH()||(this.cis=t(this,this.fis)):(this.cis=null,this.dis=null,this.pis=null)}yts(t){this.dis=t}wts(t){this.pis=t}aGt(){const t=this.pis;t&&t(this.cis),this.cis=null,this.dis=null,this.pis=null}toJSON(){let t;return this.cis&&this.cis.lj()&&(t=this.cis.lj().iH().tV()),[this._a,this.Aa,this.MEt,this._$,this.ris,this.ois,this.dK,this.uis,this.lis,t]}ya(t){this._a=t[0],this.Aa=t[1],this.MEt=t[2],this._$=t[3],this.ris=t[4],this.his=this.ris,this.ois=t[5],this.dK=t[6],this.uis=t[7],this.lis=t[8],this.fis=t[9],this.ais=this.dK/2,this.mis()}_8(t){const s=this.nis,i=this.MEt*t,e=this._$,n=Math.cos(e)*i,r=Math.sin(e)*i+this.uis*t;this._a+=n,this.Aa+=r;const h=this.ois*t;this.dK+=h,this.ais=this.dK/2,this.MEt+=s.tts()*t,this.uis+=s.sts()*t,this.lis+=t,this.mis();const o=s.its(),a=s.ets(),u=s.nts();let l=0;0!==o&&(l=Wv(o*t),this._$+=l),0!==a&&(this.MEt+=Wv(a*t)),0!==u&&(this.ris=Vv.Xn(this.ris+Wv(u*t),0,1));const c=this.dK>=1&&(2===s.rts()?this.MEt>0:this.lis<s.hts()),f=this.dis;if(f&&c){let t=s.qss()*this.ris;0===s.rts()&&(t*=1-this.lis/s.hts());const i=t-this.his;this.his=t,f(this.cis,n,r,h,l,i)}this.kf=c}Awt(){return this.kf}pY(){return this.ul}mis(){const t=this._a,s=this.Aa,i=this.ais;this.ul.set(t-i,s-i,t+i,s+i)}Nv(t,s,i){if(this.cis)return;const e=this.nis;let n=e.qss()*this.ris;if(0===e.rts()&&(n*=1-this.lis/e.hts()),n<=0)return;const r=this.dK,h=r*e.eis()*e.jz();if(h<1)return;let o=this._a,a=this.Aa;e.Xss()&&(o=o+.5|0,a=a+.5|0),t.tS()?t.TL(o,a,r,n):i||h>t.nO()||h<t.eO()?(Qv.m(e.eL()),Qv.qo(n),t.Lb(Qv),Jv=!0,Yv.Hu(this.ul),t.pL(Yv,s)):(Jv&&(t.Lb(e.eL()),Jv=!1),t.TL(o,a,h,n))}dts(){return this.cis}pts(){return this.fis}Wb(){return this._a}Qb(){return this.Aa}Nl(){return this.dK}lU(){return this._$}$N(){return this.ris}}}{const Hv=self.Gs;Hv.Rut.gis=class extends Hv.gAt{constructor(t){super(t)}Yn(){super.Yn()}}}{const qv=self.Gs;qv.Rut.gis.NDt=class extends qv.TAt{constructor(t){super(t)}Yn(){super.Yn()}jCt(){}}}{const Xv=self.Gs,Zv=self.ks,Kv=self.RQ,$v=0,tx=1,sx=2,ix=3,ex=4,nx=5,rx=6,hx=7,ox=8,ax=0,ux=1,lx=2,cx=3,fx=4,dx=5,px=6,mx=7,gx=8,yx=9,wx=0,Mx=1,Sx=2,Tx=3,bx=4,vx=2*Math.PI,xx=Math.PI/2,Ix=3*Math.PI/2,Gx=[0,1,8,3,4,2,5,6,9,7];Xv.Rut.gis.Instance=class extends Xv.vAt{constructor(t,s){super(t),this.yis=0,this.wis=0,this.Mis=0,this.Sis=0,this.Tis=0,this.KSt=!0,this.bis=0,this.vis=0,this.xis=0,this.Iis=0,this.Gis=0,this.Cis=0,this.vTt=0,this._is=0,this.Ais=0,this.Eis=0,this.Dis=0,s&&(this.wis=Gx[s[$v]],this.Mis=s[tx],this.Iis=this.kc.BF()*s[ix],this.bis=s[sx],this.Sis=s[sx],this.Sis+=this.Iis,this.vis=s[ex],0!==this.Sis&&(this.Gis=this.kc.BF()*s[nx],this.yis=s[ex]/this.Sis*vx,this.yis+=this.Gis/this.Sis*vx),this.Cis=this.kc.BF()*s[hx],this.xis=s[rx],this.Tis=s[rx],this.Tis+=this.Cis,this.KSt=!!s[ox]),this.wis===dx&&(this.Tis=Xv.Kn(this.Tis)),this.sLt(),this.KSt&&this.x_t()}Yn(){super.Yn()}ev(){return{i:this.yis,e:this.KSt,mv:this.wis,w:this.Mis,p:this.Sis,mag:this.Tis,iv:this.vTt,iv2:this._is,r:this.Dis,lkv:this.Ais,lkv2:this.Eis}}nv(t){this.yis=t.i,this.qIt(t.e),this.wis=t.mv,this.Mis=t.w,this.Sis=t.p,this.Tis=t.mag,this.vTt=t.iv,this._is=t.iv2,this.Dis=t.r,this.Ais=t.lkv,this.Eis=t.lkv2}sLt(){const t=this.fi.lj();switch(this.wis){case ax:this.vTt=t.Wb();break;case ux:this.vTt=t.Qb();break;case lx:this.vTt=t.Bg(),this.Dis=t.Zg()/t.Bg();break;case cx:this.vTt=t.Bg();break;case fx:this.vTt=t.Zg();break;case dx:this.vTt=t.lU();break;case px:this.vTt=t.$N();break;case mx:this.vTt=0;break;case gx:this.vTt=t.Wb(),this._is=t.Qb();break;case yx:this.vTt=t.Hb()}this.Ais=this.vTt,this.Eis=this._is}Nis(t){switch(t%=vx,this.Mis){case wx:return Math.sin(t);case Mx:return t<=xx?t/xx:t<=Ix?1-2*(t-xx)/Math.PI:(t-Ix)/xx-1;case Sx:return 2*t/vx-1;case Tx:return-2*t/vx+1;case bx:return t<Math.PI?-1:1}return 0}_8(){const t=this.kc.aF(this.fi);this.KSt&&0!==t&&(0===this.Sis?this.yis=0:this.yis=(this.yis+t/this.Sis*vx)%vx,this.Lis())}Lis(){const t=this.fi.lj();switch(this.wis){case ax:t.Wb()!==this.Ais&&(this.vTt+=t.Wb()-this.Ais),t.Vb(this.vTt+this.Nis(this.yis)*this.Tis),this.Ais=t.Wb();break;case ux:t.Qb()!==this.Ais&&(this.vTt+=t.Qb()-this.Ais),t.Jb(this.vTt+this.Nis(this.yis)*this.Tis),this.Ais=t.Qb();break;case lx:t.Hg(this.vTt+this.Nis(this.yis)*this.Tis),t.Ug(t.Bg()*this.Dis);break;case cx:t.Hg(this.vTt+this.Nis(this.yis)*this.Tis);break;case fx:t.Ug(this.vTt+this.Nis(this.yis)*this.Tis);break;case dx:t.lU()!==this.Ais&&(this.vTt=Xv.Zn(this.vTt+(t.lU()-this.Ais))),t.uU(this.vTt+this.Nis(this.yis)*this.Tis),this.Ais=t.lU();break;case px:t.sL(this.vTt+this.Nis(this.yis)*this.Tis/100);break;case gx:t.Wb()!==this.Ais&&(this.vTt+=t.Wb()-this.Ais),t.Qb()!==this.Eis&&(this._is+=t.Qb()-this.Eis),t.Vb(this.vTt+Math.cos(t.lU())*this.Nis(this.yis)*this.Tis),t.Jb(this._is+Math.sin(t.lU())*this.Nis(this.yis)*this.Tis),this.Ais=t.Wb(),this.Eis=t.Qb();break;case yx:t.qb(this.vTt+this.Nis(this.yis)*this.Tis)}t.KV()}Ois(t,s){}Ris(t){this.Sis=t}Pis(){return this.Sis}kis(t){this.Tis=t}Fis(t){5===this.wis&&(t=Xv.Kn(t)),this.kis(t)}jis(){return this.Tis}zis(){let t=this.jis();return 5===this.wis&&(t=Xv.$n(t)),t}Bis(t){5===this.wis&&5!==t&&(this.Tis=Xv.$n(this.Tis)),this.wis=t,this.sLt()}Uis(){return this.wis}Wis(t){this.Mis=t}Vis(){return this.Mis}Yis(t){this.yis=Xv.Xn(t,0,2*Math.PI),this.Lis()}Qis(){return this.yis}qIt(t){this.KSt=!!t,this.KSt?this.x_t():this.a_t()}ZIt(){return this.KSt}Sht(t){switch(t){case $v:return this.wis;case tx:return this.Mis;case sx:return this.bis;case rx:return this.xis;case ox:return this.KSt}}Ght(t,s){switch(t){case $v:this.wis=Gx[s],this.sLt();break;case tx:this.Mis=s;break;case sx:this.bis=s,this.Sis=this.bis+this.Iis,this.KSt||(0!==this.Sis?(this.yis=this.vis/this.Sis*vx,this.yis+=this.Gis/this.Sis*vx):this.yis=0);break;case rx:this.xis=s,this.Tis=this.xis+this.Cis,this.wis===dx&&(this.Tis=Xv.Kn(this.Tis));break;case ox:this.KSt=!!s}}__t(){const t="behaviors.sin";return[{title:"$"+this.zQ()._c(),properties:[{name:t+".properties.enabled.name",value:this.ZIt(),gKt:t=>this.qIt(t)},{name:t+".properties.period.name",value:this.Pis(),gKt:t=>this.Ris(t)},{name:t+".properties.magnitude.name",value:this.zis(),gKt:t=>this.Fis(t)},{name:t+".debugger.value",value:this.Nis(this.Qis())*this.zis()}]}]}zCt(){return self.Jis}};const Cx=new WeakMap,_x=["horizontal","vertical","size","width","height","angle","opacity","value-only","forwards-backwards","z-elevation"],Ax=["sine","triangle","sawtooth","reverse-sawtooth","square"];self.Jis=class extends Kv{constructor(){super(),Cx.set(this,Kv.VW().EQ())}set His(t){Zv.re(t),Cx.get(this).Ris(t)}get His(){return Cx.get(this).Pis()}set qis(t){Zv.re(t),Cx.get(this).kis(t)}get qis(){return Cx.get(this).jis()}set Xis(t){Cx.get(this).Yis(t)}get Xis(){return Cx.get(this).Qis()}set Zis(t){Zv.ue(t);const s=_x.indexOf(t);if(-1===s)throw new Error("invalid movement");Cx.get(this).Bis(s)}get Zis(){return _x[Cx.get(this).Uis()]}set Kis(t){Zv.ue(t);const s=Ax.indexOf(t);if(-1===s)throw new Error("invalid wave");Cx.get(this).Wis(s)}get Kis(){return Ax[Cx.get(this).Vis()]}get value(){const t=Cx.get(this);return t.Nis(t.Qis())*t.jis()}$is(){Cx.get(this).sLt()}set isEnabled(t){Cx.get(this).qIt(!!t)}get isEnabled(){return Cx.get(this).ZIt()}}}{const Ex=self.Gs;Ex.Rut.gis.Aj={Il(){return this.ZIt()},tes(t){return this.Uis()===t},ses(t,s){return Ex.compare(this.Pis(),t,s)},ies(t,s){return Ex.compare(this.zis(),t,s)},ees(t){return this.Vis()===t}}}self.Gs.Rut.gis.krt={JGt(t){this.qIt(0!==t)},nes(t){this.Ris(t)},res(t){this.Fis(t)},hes(t){this.Bis(t)},oes(t){this.Mis=t},aes(t){const s=2*Math.PI;this.Yis(t*s%s)},ues(){this.sLt()}},self.Gs.Rut.gis.Frt={les(){return this.Qis()/(2*Math.PI)},ces(){return this.Pis()},fes(){return this.zis()},des(){return this.Nis(this.Qis())*this.zis()}};{const Dx=self.Gs;Dx.Rut.Out=class extends Dx.gAt{constructor(t){super(t)}Yn(){super.Yn()}}}{const Nx=self.Gs;Nx.Rut.Out.NDt=class extends Nx.TAt{constructor(t){super(t)}Yn(){super.Yn()}jCt(){}}}{const Lx=self.Gs,Ox=Lx.Rut.Out,Rx=0;Ox.Instance=class extends Lx.vAt{constructor(t,s){super(t),this.pes=!1,this.cl=!0,s&&(this.pes=!1,this.cl=!!s[Rx]),this.mes=new Map,this.ges=[],this.yes=new Map,this.wes=null,this.Mes=null,this.Ses=null,this.Tes=null,this.bes="",this.ves=[],this.E6=t=>this.D6(),this.Fj().yf().addEventListener("afterload",this.E6)}Yn(){this.Fj().yf().removeEventListener("afterload",this.E6),this.E6=null,this.wes&&(this.xes(this.wes),this.wes=null),this.Ies(),this.Ges=null,this.Ces(),this.ges=null,this._es(),this.yes=null,this.ves=null,super.Yn()}jut(t){this.ves.push(t)}zut(){this.ves.pop()}Aes(){return this.ves[this.ves.length-1]}JGt(t){this.cl=!!t,t?this.yes&&this.yes.size&&this.G_t():this.u_t();for(const s of this.Ees())t?this.Des(s)&&s.LJ():((s.IsPlaying()||s.Utt())&&this.Nes(s),s.NJ());t&&this.Ces()}Il(){return this.cl}Nes(t){this.ges.push(t)}Des(t){return this.ges.includes(t)}Ces(){Lx.Mh(this.ges)}Les(){return this.wes}uit(){const t=this.UQ();return!!t&&!t.YH()}Oes(t,s,i=!1){const e=s?this.Res(s,i):this.Ees(i);if(e&&e.length)for(const s of e)if(s.OJ(t))return s}Pes(t,s){for(const i of this.mes.values())for(const e of i)if(!e.EJ()&&e.OJ(t)&&s(e))return!0;for(const i of this.yes.values())for(const e of i)if(!e.EJ()&&e.OJ(t)&&s(e))return!0;return!1}kes(t){for(const s of this.mes.values())for(const i of s)if(!i.EJ()&&t(i))return!0;for(const s of this.yes.values())for(const i of s)if(!i.EJ()&&t(i))return!0;return!1}Fes(t,s){return this.Oes(t,s,!0)}*jes(t,s,i=!1){const e=s?this.Res(s,i):this.Ees(i);if(e&&e.length)for(const s of e)s.OJ(t)&&(yield s)}*zes(t,s){yield*this.jes(t,s,!0)}Res(t,s){if(s){let s=this.mes.get(t),i=this.yes.get(t);return s||(s=[]),i||(i=[]),s.concat(i).filter((t=>t)).filter((t=>!t.EJ()))}{let s=this.mes.get(t);return s||(s=[]),s.filter((t=>t)).filter((t=>!t.EJ()))}}Ees(t){if(t){const t=[...this.mes.values()].flat(),s=[...this.yes.values()].flat();return t.concat(s).filter((t=>t)).filter((t=>!t.EJ()))}return[...this.mes.values()].flat().filter((t=>t)).filter((t=>!t.EJ()))}Bes(){return this.Ees(!0)}ev(t="full"){return{s:!1,e:!!this.cl,at:this.Ues(),dt:this.Wes(),wt:this.Ves(),ft:this.Yes()}}nv(t,s="full"){t&&(this.Mes=t.at,this.Ses=t.dt,this.Tes=t.wt,this.bes=t.ft,this.pes=!1,this.cl=!!t.e,"state"===s&&this.D6())}D6(){const t=this.Fj().att();if(this.Qes(this.Mes,this.mes,t),this.Ses){Lx.Mh(this.ges);for(const s of this.Ses)this.Jes(this.ges,s,t)}this.Qes(this.Tes,this.yes,t),this.wes=this.Hes(this.bes,t),this.cl?this.yes&&this.yes.size&&this.G_t():this.u_t()}Qes(t,s,i){if(t)for(const e in t){let n=s.get(e);n?Lx.Mh(n):n=[];const r=t[e];for(const t of r)if(this.Jes(n,t.name,i))this.qes(t.name,t,i);else{const s=Lx.pot.Wut({runtime:this.Fj(),json:t});Lx.pot.Cit(s,this.UQ().tV()),s.Tut((t=>this.Xes(t))),s.Mut(this),i.u8(s),this.Jes(n,s,i)}s.set(e,n)}}Hes(t,s){return s.h8(t)}Jes(t,s,i){if("string"!=typeof s)return!!t.push(s);{const e=this.Hes(s,i);if(e)return!!t.push(e)}return!1}qes(t,s,i){if("string"==typeof t){const e=this.Hes(t,i);e&&(e.S3(s),Lx.pot.Cit(e,this.UQ().tV()),Lx.pot.Mut(e,this))}else t.S3(s),Lx.pot.Cit(t,this.UQ().tV()),Lx.pot.Mut(t,this)}Ues(){const t={};for(const[s,i]of this.mes)t[s]=i.filter((t=>!t.EJ())).map((t=>t.M3()));return t}Wes(){return this.ges.filter((t=>!t.EJ())).map((t=>t._c()))}Ves(){const t={};for(const[s,i]of this.yes)t[s]=i.map((t=>t.M3()));return t}Yes(){return this.wes?this.wes._c():""}v_t(){this._es()}Zes(t){const s=Ox.$es.Kes(t.xit,t.Kut,t.$ut,t.Zut,t.Hut,this.UQ()),i=Ox.sns.tns(t.xit);Ox.sns.ins(i)||this.ens(t.xit);const e=Lx.pot.Wut({runtime:this.Fj(),id:i,tags:t.tags,time:t.time,BQ:this.UQ(),Qut:!!t.Qut,loop:!!t.loop,Jut:!!t.Jut,sJ:t.sJ,Yut:t.Yut,Vut:s});return e.Tut((t=>this.Xes(t))),e.Mut(this),this.nns(e,t.xit),e}rns(t){const s=t.hH();if(this.mes.has(s)){const i=this.mes.get(s);if(i){const s=i.indexOf(t);-1!==s&&i.splice(s,1)}}}$J(t,s=!1){this.rns(t),t.EJ()||this.hns(t)||(t.NJ(s),this.ons(t))}ens(t,s=!1){if(Lx.$i(t)){const i=Ox.sns.tns(t);if(!this.mes.has(i))return;const e=this.mes.get(i),n=this.Les();for(const t of e)t!==n&&(t.EJ()||this.hns(t)||(t.NJ(s),t.Yn()));Lx.Mh(e)}else{const t=this.Les();for(const i of this.Ees())i!==t&&(i.EJ()||this.hns(i)||(i.NJ(s),i.Yn()));for(const t of this.mes.keys())Lx.Mh(this.mes.get(t)),this.mes.delete(t);this.mes.clear()}}xes(t){this.$J(t,!0)}Ies(){this.ens(NaN,!0)}Sht(t){if(t===Rx)return this.cl}Ght(t,s){t===Rx&&(this.cl=!!s)}ans(t){const s=t.iH().Knt();for(const t of s){const s=t.zQ();if(s.tNt()===this.constructor)return s}}vV(t,s,i,e){return this.kc?super.vV(t):s.vV(t,i,e)}Xes(t){let s,i;if(this.wes=t,Ox.Aj.uns(t),this.Fj())s=this.fi,i=this.kc,this.vV(Ox.Aj.lns),this.vV(Ox.Aj.cns),this.$J(t);else{if(s=t.iH(),!s)return;if(s&&s.YH())return;i=s.Fj();const e=this.ans(t);this.vV(Ox.Aj.lns,i,s,e),this.vV(Ox.Aj.cns,i,s,e),t.NJ()}this.wes=null,Ox.Aj.uns(null),t.nH()&&i.JW(s)}nns(t,s){const i=Ox.sns.tns(s);this.mes.has(i)||this.mes.set(i,[]),this.mes.get(i).push(t)}ons(t){const s=t.hH();this.yes.has(s)||this.yes.set(s,[]),this.yes.get(s).push(t),this.C_t()||this.G_t()}hns(t){const s=t.hH();return!!this.yes.has(s)&&this.yes.get(s).includes(t)}_es(){if(this.yes.size){for(const t of this.yes.values()){for(const s of t)s.EJ()||s.Yn();Lx.Mh(t)}this.yes.clear(),this.C_t()&&this.u_t()}}__t(){return[{title:"$"+this.zQ()._c(),properties:[{name:"behaviors.tween.properties.enabled.name",value:this.Il(),gKt:t=>this.JGt(t)}]}]}zCt(){return self.fns}}}{const Px=self.Gs;let kx=null;Px.Rut.Out.Aj={Lut:()=>!0,Put(t){const s=this.Aes();return!!s&&s.OJ(t)},kut(t){const s=this.Aes();return!!s&&(s.btt()===t||2===t)},Fut(t,s){const i=this.Aes();return!!i&&(i.btt()===s||2===s)&&i.OJ(t)},uns(t){kx=t},lns:t=>kx.OJ(t),cns:()=>!0,IsPlaying(t){return this.Pes(t,Px.pot.IsPlaying)},$8t(){return this.kes(Px.pot.IsPlaying)},HJ(t){return this.Pes(t,Px.pot.HJ)},pns(){return this.kes(Px.pot.HJ)},hJ(t,s){return 0===s?this.Pes(t,Px.pot.But):1===s&&this.Pes(t,Px.pot.Uut)},mns(t){return 0===t?this.kes(Px.pot.But):1===t&&this.kes(Px.pot.Uut)}}}{const Fx=self.Gs,jx=self.Bl,zx=Fx.Rut.Out;zx.krt={JGt(t){this.JGt(!!t)},async gns(...t){if(!this.Il()||!this.uit())return;const s=this.Zes(zx.wns.yns(this,...t));s.Play()&&await s.YJ()},async Mns(...t){if(!this.Il()||!this.uit())return;const s=this.Zes(zx.wns.Sns(this,...t));s.Play()&&await s.YJ()},async Tns(...t){if(!this.Il()||!this.uit())return;const s=this.Zes(zx.wns.bns(this,...t));s.Play()&&await s.YJ()},vns(t){if(this.Il()&&this.uit())for(const s of this.jes(t))s.NJ()},xns(){if(this.Il()&&this.uit())for(const t of this.Ees())t.NJ()},Ins(t){if(this.Il()&&this.uit())for(const s of this.jes(t))s.LJ()},Gns(){if(this.Il()&&this.uit())for(const t of this.Ees())t.LJ()},Cns(t){if(this.Il()&&this.uit())for(const s of this.jes(t))this.$J(s)},_ns(){if(this.Il()&&this.uit())for(const t of this.Ees())this.$J(t)},Ans(t,s,i){if(!this.Il()||!this.uit())return;const e=Fx.Rut.Out.sns.Ens(s);for(const s of this.jes(t))s.Gut([e]),s.Cut(i,e)},Dns(t,s,i,e){if(!this.Il()||!this.uit())return;const n=Fx.Rut.Out.sns.Nns(s);for(const s of this.jes(t))s.Gut(n),s.Cut(i,n[0]),s.Cut(e,n[1])},Lns(t,s){if(this.Il()&&this.uit())for(const i of this.jes(t,"value"))i.xut(s,"value")},Ons(t,s){if(this.Il()&&this.uit())for(const i of this.jes(t,"value"))i.Gut(["value"]),i.Cut(s,"value")},Rns(t,s){if(!this.Il()||!this.uit())return;const i=jx.hc(s);for(const s of this.jes(t))s.sH(i)},Pns(t){if(!this.Il()||!this.uit())return;const s=jx.hc(t);for(const t of this.Ees())t.sH(s)},kns(t,s){if(this.Il()&&this.uit())for(const i of this.jes(t))i.RJ(s)},Fns(t){if(this.Il()&&this.uit())for(const s of this.Ees())s.RJ(t)},jns(t,s){if(this.Il()&&this.uit())for(const i of this.jes(t))i.UJ(s)},zns(t){if(this.Il()&&this.uit())for(const s of this.Ees())s.UJ(t)},Bns(t,s){if(this.Il()&&this.uit())for(const i of this.jes(t))i.rH(!!s)},Uns(t){if(this.Il()&&this.uit())for(const s of this.Ees())s.rH(!!t)}}}self.Gs.Rut.Out.Frt={Wns(t){const s=this.Fes(t);return s?s.GO():0},l1t(t){const s=this.Fes(t);return s?s.GO()/s.kJ():0},Qrt(t){const s=this.Fes(t);return s?s.WJ():0},des(t){const s=this.Fes(t,"value");return s?s.aH("value").oH():0},iGt(){let t=this.Les();return t?t.Gtt():(t=this.Aes(),t?t.Gtt():"")}};{const Bx=self.Gs,Ux=self.Bl,Wx=["position","size","scale"],Vx=["offsetX","offsetY","offsetWidth","offsetHeight","offsetAngle","offsetOpacity","offsetColor","offsetZElevation","offsetScaleX","offsetScaleY"],Yx=["value"],Qx=[].concat(Wx).concat(Vx).concat(Yx),Jx={position:["offsetX","offsetY"],size:["offsetWidth","offsetHeight"],scale:["offsetScaleX","offsetScaleY"]},Hx=Object.assign({},Qx.reduce(((t,s)=>Object.assign({},t,{[s]:[s]})),{}),Jx);Bx.Rut.Out.sns=class{constructor(){}static Vns(){return[...Ux.ql()]}static hc(t){return[...Ux.ql()][t]}static tns(t){return Qx[t]}static Yns(t){return Qx.indexOf(t)}static Qns(t){return Wx[t]}static Ens(t){return Vx[t]}static Jns(t){return Yx[t]}static Hns(t){return Jx[t]}static Nns(t){return Bx.ae(t)?Hx[t]:Hx[Qx[t]]}static qns(t){return!!Jx[t]}static Xns(t){return"offsetColor"===t}static Zns(t){return"offsetAngle"===t}static Kns(t){return"offsetOpacity"===t}static ins(t){return"value"===t}}}{const qx=self.Gs,Xx=qx.Rut.Out,Zx=new Map;Xx.$es=class{constructor(){}static Kes(t,s,i,e,n,r){0===Zx.size&&this.$ns();const h=Xx.srs.trs(t);let o=Zx.get(h);return qx.$i(t)&&(t=Xx.sns.tns(t)),this.irs(o,t,s,i,e,n,r)}static ers(t,s){return qx.Rut.Out.Kes(t).nrs(s)}static $ns(){const t=Xx.srs,s=Xx.rrs;this.hrs(t.ors,this.ars,s.urs),this.hrs(t.COLOR,this.lrs,s.crs),this.hrs(t.frs,this.drs,s.prs),this.hrs(t.mrs,this.grs,s.urs),this.hrs(t.yrs,this.wrs,s.urs)}static hrs(t,s,i){Zx.set(t,this.Mrs(t,s,i))}static Mrs(t,s,i){return{name:t,Srs:s,nrs:i}}static irs(t,s,i,e,n,r,h){return t.Srs(s,t.nrs(i),t.nrs(e),n,r,h)}static ars(t,s,i,e,n,r){return Xx.sns.Hns(t).map(((t,r)=>({qut:"world-instance",xit:t,type:"float",valueType:"numeric",Kut:s[r],$ut:i[r],Zut:Xx.sns.hc(e),Hut:n})))}static lrs(t,s,i,e,n,r){return qx.Dj.Text&&r.TB()instanceof qx.Dj.Text?{qut:"plugin",Xut:[7],xit:"color",type:"color",valueType:"color",Kut:s,$ut:i,Zut:Xx.sns.hc(e),Hut:n}:{qut:"world-instance",xit:t,type:"color",valueType:"color",Kut:s,$ut:i,Zut:Xx.sns.hc(e),Hut:n}}static drs(t,s,i,e,n,r){return{qut:"world-instance",xit:t,type:"angle",valueType:"angle",Kut:s,$ut:i,Zut:Xx.sns.hc(e),Hut:n}}static wrs(t,s,i,e,n,r){return{qut:"world-instance",xit:t,type:"float",valueType:"numeric",Kut:s,$ut:i,Zut:Xx.sns.hc(e),Hut:n}}static grs(t,s,i,e,n,r){return{qut:"value",xit:t,type:"float",valueType:"numeric",Kut:s,$ut:i,Zut:Xx.sns.hc(e),Hut:n}}}}{const Kx=self.Gs,$x=Kx.Rut.Out,tI={Hut:"absolute"},sI=Object.assign({},tI,{tags:"",xit:"",time:0,Zut:0,Qut:0,loop:!1,Jut:!1,sJ:1}),iI=Object.assign({},sI,{Yut:"current-state",Kut:0,$ut:0}),eI=Object.assign({},sI,{Yut:"current-state",Kut:[0,0],$ut:[0,0]}),nI=Object.assign({},sI,{Yut:"current-state",Kut:[0,0,0],$ut:[0,0,0]}),rI=Object.assign({},iI,{Yut:"start-value"});$x.wns=class{constructor(){}static Trs(t,s,i,e,n,r,h,o){t.tags=s,t.time=i,t.Zut=e,t.Qut=n,t.loop=r,t.Jut=h,t.sJ=o}static yns(t,s,i,e,n,r,h,o,a,u){const l="string"==typeof i?i:$x.sns.Ens(i),c=$x.sns.Xns(l)?nI:iI;return this.Trs(c,s,n,r,h,o,a,u),$x.sns.Xns(l)?(nI.$ut[0]=Kx.Ar(e),nI.$ut[1]=Kx.Er(e),nI.$ut[2]=Kx.Dr(e),nI.xit=$x.sns.Yns(l)):$x.sns.Kns(l)?iI.$ut=e/100:iI.$ut=e,c.xit=$x.sns.Yns(l),c}static Sns(t,s,i,e,n,r,h,o,a,u,l){this.Trs(eI,s,r,h,o,a,u,l);const c="string"==typeof i?i:$x.sns.Qns(i);return eI.$ut[0]=e,eI.$ut[1]=n,eI.xit=$x.sns.Yns(c),eI}static bns(t,s,i,e,n,r,h,o,a,u){return this.Trs(rI,s,n,r,h,o,a,u),rI.Kut=i,rI.$ut=e,rI.xit=$x.sns.Yns("value"),rI}}}{const hI=self.Gs,oI=hI.Rut.Out,aI=[];oI.srs=class{constructor(){}static trs(t){if(0===aI.length){const t=aI;t.push({ED:oI.sns.qns,result:this.ors}),t.push({ED:oI.sns.Xns,result:this.COLOR}),t.push({ED:oI.sns.Zns,result:this.frs}),t.push({ED:oI.sns.ins,result:this.mrs}),t.push({ED:()=>!0,result:this.yrs})}hI.$i(t)&&(t=hI.Rut.Out.sns.tns(t));for(const s of aI)if(s.ED(t))return s.result}static get ors(){return"pair"}static get COLOR(){return"color"}static get frs(){return"angle"}static get mrs(){return"value"}static get yrs(){return"other"}}}{const uI=self.Gs;uI.Rut.Out.rrs=class{constructor(){}static prs(t){const s=uI.Kn(parseFloat(t));return uI.Zn(s)}static crs(t){return t.slice(0)}static urs(t){return t}}}{let lI=function(t){dI.ue(t);const s=mI.Vl(t);let i;if(i=s?mI.oc(s,null):mI.oc(t,null),-1===i)throw new Error(`invalid ease name '${t}'`);return i},cI=function(t,s=!1){if(!(s&&null==t||"string"==typeof t||Array.isArray(t)))throw new Error("invalid tags")};0;const fI=self.Gs,dI=self.ks,pI=self.RQ,mI=self.Bl,gI=fI.Rut.Out,yI=new WeakMap,wI=new Map([["x",{name:"offsetX",type:"one"}],["y",{name:"offsetY",type:"one"}],["width",{name:"offsetWidth",type:"one"}],["height",{name:"offsetHeight",type:"one"}],["angle",{name:"offsetAngle",type:"one"}],["opacity",{name:"offsetOpacity",type:"one"}],["color",{name:"offsetColor",type:"color"}],["z-elevation",{name:"offsetZElevation",type:"one"}],["x-scale",{name:"offsetScaleX",type:"one"}],["y-scale",{name:"offsetScaleY",type:"one"}],["position",{name:"position",type:"two"}],["size",{name:"size",type:"two"}],["scale",{name:"scale",type:"two"}],["value",{name:"value",type:"value"}]]),MI={tags:"",brs:!1,loop:!1,Jut:!1,sJ:1,Kut:0},SI={KJ:lI};self.fns=class extends pI{constructor(){super(),yI.set(this,pI.VW().EQ())}vrs(t,s,i,e,n){const r=yI.get(this);if(!r.Il()||!r.uit())return null;const h=wI.get(t);if(!h)throw new Error("invalid tween property");"one"===h.type||"value"===h.type?dI.te(s):(dI.xe(s),"two"===h.type?(dI.te(s[0]),dI.te(s[1])):"color"===h.type&&(dI.te(s[0]),dI.te(s[1]),dI.te(s[2]))),"angle"===t?s=fI.$n(s):"opacity"===t?s*=100:"color"===t&&(s=fI._r(s[0],s[1],s[2]));const o=lI(e);let a;if(dI.re(i),n=Object.assign({},MI,n),"value"===h.type&&dI.te(n.Kut),cI(n.tags,!0),"one"===h.type||"color"===h.type?a=r.Zes(gI.wns.yns(r,n.tags,h.name,s,i,o,!!n.brs,!!n.loop,!!n.Jut,n.sJ)):"two"===h.type?a=r.Zes(gI.wns.Sns(r,n.tags,h.name,s[0],s[1],i,o,!!n.brs,!!n.loop,!!n.Jut,n.sJ)):"value"===h.type&&(a=r.Zes(gI.wns.bns(r,n.tags,n.Kut,s,i,o,!!n.brs,!!n.loop,!!n.Jut,n.sJ))),a.Mut(r.IAt().EQ()),!a.Play())throw new Error("failed to start tween");return a.tlt(r,SI)}*xrs(){const t=yI.get(this);for(const s of t.Ees())yield s.tlt(t,SI)}*Irs(t){cI(t);const s=yI.get(this);for(const i of s.jes(t))yield i.tlt(s,SI)}get isEnabled(){return yI.get(this).Il()}set isEnabled(t){yI.get(this).JGt(t)}}}{const TI=self.Gs;TI.Rut.Grs=class extends TI.gAt{constructor(t){super(t)}Yn(){super.Yn()}}}{const bI=self.Gs;bI.Rut.Grs.NDt=class extends bI.TAt{constructor(t){super(t)}Yn(){super.Yn()}jCt(){}}}{const vI=self.Gs,xI=self.ks,II=self.RQ,GI=0,CI=1,_I=2;vI.Rut.Grs.Instance=class extends vI.vAt{constructor(t,s){super(t),this.MEt=0,this.Lss=0,this.KSt=!0,s&&(this.MEt=vI.Kn(s[GI]),this.Lss=vI.Kn(s[CI]),this.KSt=s[_I]),this.KSt&&this.x_t()}Yn(){super.Yn()}Crs(t){this.MEt=t}_rs(){return this.MEt}Ars(t){this.Lss=t}Ers(){return this.Lss}ev(){return{s:this.MEt,a:this.Lss,e:this.KSt}}nv(t){this.MEt=t.s,this.Lss=t.a,this.qIt(t.e)}_8(){if(!this.KSt)return;const t=this.kc.aF(this.fi);if(0!==t&&(0!==this.Lss&&(this.MEt+=this.Lss*t),0!==this.MEt)){const s=this.fi.lj();s.uU(s.lU()+this.MEt*t),s.KV()}}Sht(t){switch(t){case GI:return vI.$n(this._rs());case CI:return vI.$n(this.Ers());case _I:return this.ZIt()}}Ght(t,s){switch(t){case GI:this.Crs(vI.Kn(s));break;case CI:this.Ars(vI.Kn(s));break;case _I:this.qIt(s)}}qIt(t){this.KSt=!!t,this.KSt?this.x_t():this.a_t()}ZIt(){return this.KSt}__t(){const t="behaviors.rotate";return[{title:"$"+this.zQ()._c(),properties:[{name:t+".properties.speed.name",value:vI.$n(this._rs()),gKt:t=>this.Crs(vI.Kn(t))},{name:t+".properties.acceleration.name",value:vI.$n(this.Ers()),gKt:t=>this.Ars(vI.Kn(t))},{name:t+".properties.enabled.name",value:this.ZIt(),gKt:t=>this.qIt(t)}]}]}zCt(){return self.Drs}};const AI=new WeakMap;self.Drs=class extends II{constructor(){super(),AI.set(this,II.VW().EQ())}set speed(t){xI.re(t),AI.get(this).Crs(t)}get speed(){return AI.get(this)._rs()}set acceleration(t){xI.re(t),AI.get(this).Ars(t)}get acceleration(){return AI.get(this).Ers()}get isEnabled(){return AI.get(this).ZIt()}set isEnabled(t){AI.get(this).qIt(t)}}}self.Gs.Rut.Grs.Aj={Il(){return this.ZIt()}};{const EI=self.Gs;EI.Rut.Grs.krt={Nrs(t){this.Crs(EI.Kn(t))},v9t(t){this.Ars(EI.Kn(t))},JGt(t){this.qIt(t)}}}{const DI=self.Gs;DI.Rut.Grs.Frt={Lrs(){return DI.$n(this._rs())},Ors(){return DI.$n(this.Ers())}}}{const NI=self.Gs;NI.Rut.Rrs=class extends NI.gAt{constructor(t){super(t)}Yn(){super.Yn()}}}{const LI=self.Gs;LI.Rut.Rrs.NDt=class extends LI.TAt{constructor(t){super(t)}Yn(){super.Yn()}jCt(){}}}{const OI=self.Gs,RI=self.ks,PI=self.RQ,kI=0,FI=1,jI=2,zI=3,BI=4;OI.Rut.Rrs.Instance=class extends OI.vAt{constructor(t,s){super(t),this.Prs=0,this.krs=0,this.Frs=0,this.jrs=!0,this.zrs=!0,this.Brs=!1,this.Urs=0,this.Wrs=OI.Vn(OI.Kf),this.Vrs=this.fi.lj().$N()||1,s&&(this.Prs=s[kI],this.krs=s[FI],this.Frs=s[jI],this.jrs=!!s[zI],this.zrs=!!s[BI],this.Urs=this.zrs?0:3),this.zrs&&(0===this.Prs?(this.Urs=1,0===this.krs&&(this.Urs=2)):(this.fi.lj().sL(0),this.kc.yj())),this.x_t()}Yn(){super.Yn()}ev(){return{fit:this.Prs,wt:this.krs,fot:this.Frs,d:this.jrs,s:this.Urs,st:this.Wrs.Ys(),mo:this.Vrs}}nv(t){this.Prs=t.fit,this.krs=t.wt,this.Frs=t.fot,this.jrs=t.d,this.Urs=t.s,this.Wrs.Set(t.st),this.Vrs=t.mo,3===this.Urs?this.a_t():this.x_t()}_8(){const t=this.kc.aF(this.fi);this.Wrs.Fl(t);const s=this.fi.lj();0===this.Urs&&(s.sL(this.Wrs.Ys()/this.Prs*this.Vrs),this.kc.yj(),s.$N()>=this.Vrs&&(s.sL(this.Vrs),this.Urs=1,this.Wrs.Ff(),this.e_t("fadeinend"),this.vV(OI.Rut.Rrs.Aj.Yrs))),1===this.Urs&&this.Wrs.Ys()>=this.krs&&(this.Urs=2,this.Wrs.Ff(),this.e_t("waitend"),this.vV(OI.Rut.Rrs.Aj.Qrs)),2===this.Urs&&(0!==this.Frs?(s.sL(this.Vrs-this.Wrs.Ys()/this.Frs*this.Vrs),this.kc.yj(),s.$N()<=0&&(this.Urs=3,this.Wrs.Ff(),this.e_t("fadeoutend"),this.vV(OI.Rut.Rrs.Aj.Jrs),this.jrs&&this.kc.JW(this.fi))):(this.Urs=3,this.Wrs.Ff())),3===this.Urs&&this.a_t()}Hrs(){this.zrs||this.Brs||(this.Vrs=this.fi.lj().$N()||1,this.Brs=!0),3===this.Urs&&this.DL()}qrs(){this.DL()}DL(){this.Urs=0,this.Wrs.Ff(),0===this.Prs?(this.Urs=1,0===this.krs&&(this.Urs=2)):(this.fi.lj().sL(0),this.kc.yj()),this.x_t()}Xrs(t){this.Prs=Math.max(t,0)}Zrs(){return this.Prs}Krs(t){this.krs=Math.max(t,0)}$rs(){return this.krs}ths(t){this.Frs=Math.max(t,0)}shs(){return this.Frs}Sht(t){switch(t){case kI:return this.Zrs();case FI:return this.$rs();case jI:return this.shs();case zI:return this.jrs}}Ght(t,s){switch(t){case kI:this.Xrs(s);break;case FI:this.Krs(s);break;case jI:this.ths(s);break;case zI:this.jrs=!!s}}__t(){const t="behaviors.fade";return[{title:"$"+this.zQ()._c(),properties:[{name:t+".properties.fade-in-time.name",value:this.Zrs(),gKt:t=>this.Xrs(t)},{name:t+".properties.wait-time.name",value:this.$rs(),gKt:t=>this.Krs(t)},{name:t+".properties.fade-out-time.name",value:this.shs(),gKt:t=>this.ths(t)},{name:t+".debugger.stage",value:[t+".debugger."+["fade-in","wait","fade-out","done"][this.Urs]]}]}]}zCt(){return self.ihs}};const UI=new WeakMap;self.ihs=class extends PI{constructor(){super(),UI.set(this,PI.VW().EQ())}ehs(){UI.get(this).Hrs()}nhs(){UI.get(this).qrs()}set rhs(t){RI.re(t),UI.get(this).Xrs(t)}get rhs(){return UI.get(this).Zrs()}set hhs(t){RI.re(t),UI.get(this).Krs(t)}get hhs(){return UI.get(this).$rs()}set ohs(t){RI.re(t),UI.get(this).ths(t)}get ohs(){return UI.get(this).shs()}}}self.Gs.Rut.Rrs.Aj={Jrs:()=>!0,Yrs:()=>!0,Qrs:()=>!0},self.Gs.Rut.Rrs.krt={ahs(){this.Hrs()},uhs(){this.qrs()},lhs(t){this.Xrs(t)},chs(t){this.Krs(t)},fhs(t){this.ths(t)}},self.Gs.Rut.Rrs.Frt={dhs(){return this.Zrs()},phs(){return this.$rs()},mhs(){return this.shs()}};{const WI=self.Gs;WI.Rut.ghs=class extends WI.gAt{constructor(t){super(t)}Yn(){super.Yn()}}}{const VI=self.Gs;VI.Rut.ghs.NDt=class extends VI.TAt{constructor(t){super(t)}Yn(){super.Yn()}jCt(){}}}{const YI=self.Gs,QI=self.ks,JI=self.RQ;YI.Rut.ghs.Instance=class extends YI.vAt{constructor(t,s){super(t),this.yhs=0,this.whs=0,this.Urs=0,this.Mhs=0,this.Shs=0,this.x_t()}Yn(){super.Yn()}Ths(t,s,i){this.yhs=t,this.whs=s,this.Urs=1,this.Mhs=s,this.Shs=i,this.fi.lj().QU(!1),this.kc.yj()}bhs(){this.Shs=0,this.fi.lj().QU(!0),this.kc.yj()}vhs(){return this.Shs>0}ev(){return{on:this.yhs,off:this.whs,s:this.Urs,stl:this.Mhs,tl:this.Shs}}nv(t){this.yhs=t.on,this.whs=t.off,this.Urs=t.s,this.Mhs=t.stl,this.Shs=null===t.tl?1/0:t.tl}_8(){if(this.Shs<=0)return;const t=this.kc.aF(this.fi);if(this.Shs-=t,this.Shs<=0)return this.Shs=0,this.fi.lj().QU(!0),this.kc.yj(),this.e_t("flashend"),this.c_t(YI.Rut.ghs.Aj.xhs);this.Mhs-=t,this.Mhs<=0&&(0===this.Urs?(this.fi.lj().QU(!1),this.Urs=1,this.Mhs+=this.whs):(this.fi.lj().QU(!0),this.Urs=0,this.Mhs+=this.yhs),this.kc.yj())}__t(){const t="behaviors.flash.debugger";return[{title:"$"+this.zQ()._c(),properties:[{name:t+".on-time",value:this.yhs,gKt:t=>this.yhs=t},{name:t+".off-time",value:this.whs,gKt:t=>this.whs=t},{name:t+".is-flashing",value:this.Shs>0},{name:t+".time-left",value:this.Shs}]}]}zCt(){return self.Ihs}};const HI=new WeakMap;self.Ihs=class extends JI{constructor(){super(),HI.set(this,JI.VW().EQ())}Ghs(t,s,i){QI.re(t),QI.re(s),QI.re(i),HI.get(this).Ths(t,s,i)}stop(){HI.get(this).bhs()}get Chs(){return HI.get(this).vhs()}}}self.Gs.Rut.ghs.Aj={_hs(){return this.vhs()},xhs:()=>!0},self.Gs.Rut.ghs.krt={ghs(t,s,i){this.Ths(t,s,i)},Ahs(){this.bhs()}},self.Gs.Rut.ghs.Frt={};{let qI=function(t,s){return"number"==typeof t&&"number"==typeof s},XI=function(t,s){return qI(t,s)?t+s:t},ZI=function(t,s){return qI(t,s)?t-s:t},KI=function(t,s){return qI(t,s)?t*s:t},$I=function(t,s){return qI(t,s)?t/s:t},tG=function(t,s){return qI(t,s)?t%s:t},sG=function(t,s){return qI(t,s)?Math.pow(t,s):t},iG=function(t,s){if("string"==typeof t||"string"==typeof s){let i,e;return i="number"==typeof t?(Math.round(1e10*t)/1e10).toString():t,e="number"==typeof s?(Math.round(1e10*s)/1e10).toString():s,i+e}return t&&s?1:0},eG=function(t,s){return qI(t,s)?t||s?1:0:t};0;const nG=self.Gs;self.fbt=[()=>"musica",()=>"Setup",()=>-10,()=>0,()=>"musicafondo",()=>"RequestColors",t=>{const s=t.bbt(0).UTt();return()=>s()},()=>"Controls",()=>"Game",t=>{const s=t.bbt(0).UTt();return()=>s()/6-160},t=>{const s=t.bbt(0).UTt();return()=>s()/2.5},()=>"",t=>{const s=t.bbt(0).UTt(),i=t.bbt(1).UTt();return()=>s(i(7))},t=>{const s=t.bbt(0).UTt(),i=t.bbt(1),e=t.bbt(2).cbt(),n=t.bbt(3),r=t.bbt(4).cbt(),h=t.bbt(5),o=t.bbt(6).cbt();return()=>s(i.HTt(0,e.Jet()),n.HTt(1,r.Jet()),h.HTt(2,o.Jet()),255)},()=>4,()=>"UI",()=>240,()=>280,()=>"Tutorial",()=>100,()=>"TextScoreOpacity",()=>.5,()=>1,()=>"LifeOpacity",()=>"TextTutorialOpacity",()=>"FaderOpacity",()=>10,()=>450,()=>810,()=>28,()=>"Tiles",()=>"i",()=>6,t=>{const s=t.bbt(0).UTt();return()=>s(0,.5)},t=>{const s=t.bbt(0).UTt(),i=t.bbt(1).UTt();return()=>s()/2+1e3*Math.cos(nG.Kn(12.85*i()-45))},t=>{const s=t.bbt(0).UTt(),i=t.bbt(1).UTt();return()=>s()/2+1e3*Math.sin(nG.Kn(12.85*i()-45))},t=>{const s=t.bbt(0).UTt(),i=t.bbt(1),e=t.bbt(2),n=t.bbt(3).UTt(),r=t.bbt(4),h=t.bbt(5),o=t.bbt(6).UTt(),a=t.bbt(7),u=t.bbt(8),l=t.bbt(9).UTt();return()=>s(i.HTt(0,e.HTt(n())),r.HTt(1,h.HTt(o())),a.HTt(2,u.HTt(l())),255)},()=>"TilePosition",t=>{const s=t.bbt(0).UTt();return()=>s()/8},t=>{const s=t.bbt(0).UTt(),i=t.bbt(1).UTt();return()=>s()/3+85*(i()-2)},()=>.25,t=>{const s=t.bbt(0).cbt();return()=>s.Jet()},()=>"MoveOldTile",t=>{const s=t.bbt(0);return()=>s.HTt()-80},()=>"TileSizeDestroy",()=>"TileOpacityDestroy",t=>{const s=t.bbt(0).cbt();return()=>iG("Score: ",s.Jet())},t=>{const s=t.bbt(0);return()=>s.HTt()},t=>{const s=t.bbt(0);return()=>s.HTt()+160},()=>"MovePlayerTile",t=>{const s=t.bbt(0);return()=>s.HTt()-160},t=>{const s=t.bbt(0).UTt(),i=t.bbt(1).cbt(),e=t.bbt(2).cbt(),n=t.bbt(3).cbt();return()=>s(i.Jet(),e.Jet()-n.Jet())},()=>"PlayerIncorrect",t=>{const s=t.bbt(0);return()=>s.HTt()+48},()=>.1,t=>{const s=t.bbt(0).cbt();return()=>s.Jet()>1?1:0},t=>{const s=t.bbt(0),i=t.bbt(1).cbt();return()=>s.KTt()===i.Jet()?1:0},()=>"LifeOut",()=>1208,()=>-8,()=>80,()=>160,()=>350,()=>25,t=>{const s=t.bbt(0).UTt(),i=t.bbt(1),e=t.bbt(2).cbt();return()=>s(i.HTt(),"###",e.Jet().toString())},()=>"TextGameOverOpacity",()=>.4,()=>130,()=>365,()=>-4,()=>300,()=>3,()=>-128,t=>{const s=t.bbt(0).UTt(),i=t.bbt(1),e=t.bbt(2);return()=>s(255,255*(1-i.hbt("PlayerIncorrect")),255*(1-e.hbt("PlayerIncorrect")),255)},t=>{const s=t.bbt(0),i=t.bbt(1);return()=>s.HTt()===i.HTt()?1:0},()=>"Background",t=>{const s=t.bbt(0),i=t.bbt(1).UTt();return()=>s.HTt()-200*i()},()=>"clikmenu",()=>"fade",()=>"fade2",()=>"Game Over",()=>.3,()=>114,()=>785]}var Ct=self.Gs;self.GVt=function(){return[Ct.Dj.nrt,Ct.Rut.gis,Ct.Rut.Out,Ct.Dj.c$t,Ct.Dj.Keyboard,Ct.Dj.C0t,Ct.Dj.Touch,Ct.Dj.Text,Ct.Rut.Grs,Ct.Dj.i5t,Ct.Dj.Audio,Ct.Rut.Rrs,Ct.Rut.ghs,Ct.Dj.Z7t,Ct.Dj.Ej.Aj.Fyt,Ct.Dj.Ej.Aj.c5,Ct.Dj.Audio.krt.Play,Ct.Dj.C0t.krt.$0t,Ct.Dj.Ej.krt.vHt,Ct.Dj.c$t.krt.z$t,Ct.Dj.C0t.Frt.a1t,Ct.Dj.Ej.krt.jyt,Ct.Dj.Ej.krt.yHt,Ct.Dj.Ej.Frt.pXt,Ct.Dj.Ej.Frt.mXt,Ct.Dj.Ej.krt.lHt,Ct.Dj.Ej.Frt.xqt,Ct.Dj.Ej.Frt.random,Ct.Dj.nrt.krt.iIt,Ct.Dj.Ej.Frt.tZt,Ct.Dj.c$t.Frt.M$t,Ct.Dj.Touch.Aj.X1t,Ct.Dj.Text.Aj.tIt,Ct.Rut.Out.krt.gns,Ct.Dj.nrt.krt.aGt,Ct.Dj.Audio.krt.Yrt,Ct.Dj.nrt.krt.Ext,Ct.Dj.Audio.krt.d7t,Ct.Dj.Ej.krt.gHt,Ct.Dj.Ej.krt.PHt,Ct.Dj.Ej.Aj.tHt,Ct.Dj.c$t.krt.Vb,Ct.Dj.Ej.Frt.WXt,Ct.Dj.c$t.krt.F$t,Ct.Dj.Ej.Frt.zTt,Ct.Rut.Out.krt.Mns,Ct.Rut.gis.krt.JGt,Ct.Rut.gis.krt.nes,Ct.Rut.gis.krt.aes,Ct.Dj.nrt.Frt._Gt,Ct.Dj.Ej.krt.cHt,Ct.Dj.Text.krt.Bc,Ct.Dj.nrt.Aj.sGt,Ct.Dj.nrt.Frt.AGt,Ct.Dj.nrt.Frt.ColorValue,Ct.Dj.nrt.krt.Vb,Ct.Dj.Ej.krt.dh,Ct.Dj.Ej.Frt.max,Ct.Dj.Ej.Aj.WJt,Ct.Dj.Ej.Aj.YJt,Ct.Dj.Ej.krt.fHt,Ct.Dj.Ej.Aj.bMt,Ct.Dj.Text.krt.Ext,Ct.Dj.Text.krt.tE,Ct.Dj.Ej.Frt.replace,Ct.Dj.Text.Frt.Text,Ct.Dj.Audio.krt.NJ,Ct.Rut.Out.Aj.lns,Ct.Dj.nrt.Aj.Ixt,Ct.Dj.Ej.Aj.AJt,Ct.Dj.i5t.krt.iIt,Ct.Rut.Out.Frt.l1t,Ct.Dj.Touch.Aj.W1t,Ct.Dj.i5t.Aj.tIt,Ct.Rut.Out.Aj.IsPlaying,Ct.Dj.Ej.Aj.Ud,Ct.Dj.nrt.Aj.vIt,Ct.Dj.nrt.Aj.GIt,Ct.Dj.Ej.krt.dHt,Ct.Dj.nrt.Frt.XGt,Ct.Dj.Ej.Aj.jJt,Ct.Dj.i5t.krt.f6t,Ct.Dj.i5t.Frt.T6t,Ct.Dj.Ej.Frt.oF,Ct.Dj.nrt.krt.sL,Ct.Dj.nrt.krt.QU,Ct.Dj.Ej.krt.jHt,Ct.Dj.Ej.Aj.JVt,Ct.Rut.ghs.krt.ghs,Ct.Dj.Touch.Aj.q1t,Ct.Dj.Ej.Aj.FJt,Ct.Dj.nrt.krt.wKt,Ct.Dj.Audio.krt.g7t]},self.HVt=[{Ehs:0},{Out:0},{Dhs:0},{Nhs:0},{Lhs:0},{Ohs:0},{Keyboard:0},{Rhs:0},{Phs:0},{C0t:0},{Touch:0},{khs:0},{Fhs:0},{Grs:0},{jhs:0},{zhs:0},{Bhs:0},{Uhs:0},{Whs:0},{Audio:0},{Vhs:0},{Yhs:0},{Qhs:0},{Jhs:0},{Hhs:0},{qhs:0},{Xhs:0},{Zhs:0},{Khs:0},{play:0},{$hs:0},{tos:0},{sos:0},{ios:0},{eos:0},{nos:0},{ros:0},{hos:0},{oos:0},{aos:0},{uos:0},{los:0},{fos:0},{dos:0},{pos:0},{mos:0},{His:0},{gos:0},{yos:0},{wos:0},{Mos:0},{Sos:0},{Tos:0},{bos:0}],self.vos={Dhs:class extends self.bKt{},Nhs:class extends self.bKt{},Lhs:class extends self.bKt{},Ohs:class extends self.I$t{},Keyboard:class extends self.zW{},Rhs:class extends self.bKt{},Phs:class extends self.I$t{},C0t:class extends self.zW{},Touch:class extends self.zW{},khs:class extends self.d4t{},jhs:class extends self.bKt{},zhs:class extends self.W5t{},Bhs:class extends self.d4t{},Uhs:class extends self.d4t{},Whs:class extends self.W5t{},Audio:class extends self.zW{},Vhs:class extends self.bKt{},Qhs:class extends self.bKt{},Jhs:class extends self.bKt{},qhs:class extends self.d4t{},Xhs:class extends self.bKt{},Zhs:class extends self.bKt{},play:class extends self.bKt{},$hs:class extends self.bKt{},tos:class extends self.bKt{},sos:class extends self.bKt{},ios:class extends self.bKt{},eos:class extends self.Sts{},nos:class extends self.bKt{},hos:class extends self.bKt{},oos:class extends self.bKt{}};
/*!
@fileoverview gl-matrix - High performance matrix and vector operations
@author Brandon Jones
@author Colin MacKenzie IV
@version 3.4.1

Copyright (c) 2015-2021, Brandon Jones, Colin MacKenzie IV.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/